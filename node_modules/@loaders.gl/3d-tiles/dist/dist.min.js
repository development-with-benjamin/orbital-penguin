!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=138)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return i}));var n=1e-6,a="undefined"!=typeof Float32Array?Float32Array:Array,i=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,r){"use strict";r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return f})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return h})),r.d(t,"e",(function(){return p})),r.d(t,"s",(function(){return v})),r.d(t,"r",(function(){return b})),r.d(t,"o",(function(){return m})),r.d(t,"i",(function(){return g})),r.d(t,"p",(function(){return O})),r.d(t,"h",(function(){return w})),r.d(t,"q",(function(){return T})),r.d(t,"b",(function(){return _})),r.d(t,"a",(function(){return k})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return x})),r.d(t,"n",(function(){return E})),r.d(t,"j",(function(){return P})),r.d(t,"k",(function(){return S})),r.d(t,"t",(function(){return A}));var n=r(54),a=r(71),i=r(46),o=r(20),u=1/Math.PI*180,s=1/180*Math.PI,c={};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)Object(o.a)(t in c),c[t]=e[t];return c}function l(e){return Math.round(e/c.EPSILON)*c.EPSILON}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.precision,n=void 0===r?c.precision||4:r;return e=l(e),"".concat(parseFloat(e.toPrecision(n)))}function h(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p(e){return e.clone?e.clone():Object(a.a)(Array,Object(i.a)(e))}function y(e,t,r){if(h(e)){r=r||((a=e).clone?a.clone():new Array(a.length));for(var n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var a;return t(e)}function v(e){return m(e)}function b(e){return g(e)}function m(e,t){return y(e,(function(e){return e*s}),t)}function g(e,t){return y(e,(function(e){return e*u}),t)}function O(e){return y(e,(function(e){return Math.sin(e)}))}function w(e){return y(e,(function(e){return Math.cos(e)}))}function T(e){return y(e,(function(e){return Math.tan(e)}))}function _(e){return y(e,(function(e){return Math.asin(e)}))}function k(e){return y(e,(function(e){return Math.acos(e)}))}function j(e){return y(e,(function(e){return Math.atan(e)}))}function x(e,t,r){return y(e,(function(e){return Math.max(t,Math.min(r,e))}))}function E(e,t,r){return h(e)?e.map((function(e,n){return E(e,t[n],r)})):r*t+(1-r)*e}function P(e,t,r){var n=c.EPSILON;r&&(c.EPSILON=r);try{if(e===t)return!0;if(h(e)&&h(t)){if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(!P(e[a],t[a]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{c.EPSILON=n}}function S(e,t){if(e===t)return!0;if(e&&"object"===Object(n.a)(e)&&t&&"object"===Object(n.a)(t)){if(e.constructor!==t.constructor)return!1;if(e.exactEquals)return e.exactEquals(t)}if(h(e)&&h(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!S(e[r],t[r]))return!1;return!0}return!1}function A(e,t){var r,n=c.EPSILON;c.EPSILON=e;try{r=t()}finally{c.EPSILON=n}return r}c.EPSILON=1e-12,c.debug=!1,c.precision=4,c.printTypes=!1,c.printDegrees=!1,c.printRowMajor=!0},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r(2);function a(e,t){if(e.length!==t)return!1;for(var r=0;r<e.length;++r)if(!Number.isFinite(e[r]))return!1;return!0}function i(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n.f.debug&&!a(e,t))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return e}var u={};function s(e,t){u[e]||(u[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}},function(e,t,r){e.exports=r(140)},function(e,t){function r(e,t,r,n,a,i,o){try{var u=e[i](o),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function u(e){r(o,a,i,u,s,"next",e)}function s(e){r(o,a,i,u,s,"throw",e)}u(void 0)}))}}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return a}))},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return o.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return o.isWorker}}),Object.defineProperty(t,"nodeVersion",{enumerable:!0,get:function(){return o.nodeVersion}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return o.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return o.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return o.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return o.document}}),Object.defineProperty(t,"createWorker",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"validateLoaderVersion",{enumerable:!0,get:function(){return s.validateLoaderVersion}}),Object.defineProperty(t,"makeTransformIterator",{enumerable:!0,get:function(){return c.makeTransformIterator}}),Object.defineProperty(t,"getTransferList",{enumerable:!0,get:function(){return f.getTransferList}}),Object.defineProperty(t,"_WorkerFarm",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"_WorkerPool",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"_WorkerThread",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"getLibraryUrl",{enumerable:!0,get:function(){return p.getLibraryUrl}}),Object.defineProperty(t,"loadLibrary",{enumerable:!0,get:function(){return p.loadLibrary}}),Object.defineProperty(t,"parseJSON",{enumerable:!0,get:function(){return y.parseJSON}}),Object.defineProperty(t,"isBuffer",{enumerable:!0,get:function(){return v.isBuffer}}),Object.defineProperty(t,"toBuffer",{enumerable:!0,get:function(){return v.toBuffer}}),Object.defineProperty(t,"bufferToArrayBuffer",{enumerable:!0,get:function(){return v.bufferToArrayBuffer}}),Object.defineProperty(t,"toArrayBuffer",{enumerable:!0,get:function(){return b.toArrayBuffer}}),Object.defineProperty(t,"sliceArrayBuffer",{enumerable:!0,get:function(){return b.sliceArrayBuffer}}),Object.defineProperty(t,"concatenateArrayBuffers",{enumerable:!0,get:function(){return b.concatenateArrayBuffers}}),Object.defineProperty(t,"compareArrayBuffers",{enumerable:!0,get:function(){return b.compareArrayBuffers}}),Object.defineProperty(t,"padTo4Bytes",{enumerable:!0,get:function(){return m.padTo4Bytes}}),Object.defineProperty(t,"copyToArray",{enumerable:!0,get:function(){return m.copyToArray}}),Object.defineProperty(t,"copyArrayBuffer",{enumerable:!0,get:function(){return m.copyArrayBuffer}}),Object.defineProperty(t,"getZeroOffsetArrayBuffer",{enumerable:!0,get:function(){return m.getZeroOffsetArrayBuffer}}),Object.defineProperty(t,"copyPaddedArrayBufferToDataView",{enumerable:!0,get:function(){return g.copyPaddedArrayBufferToDataView}}),Object.defineProperty(t,"copyPaddedStringToDataView",{enumerable:!0,get:function(){return g.copyPaddedStringToDataView}}),Object.defineProperty(t,"padStringToByteAlignment",{enumerable:!0,get:function(){return O.padStringToByteAlignment}}),Object.defineProperty(t,"copyStringToDataView",{enumerable:!0,get:function(){return O.copyStringToDataView}}),Object.defineProperty(t,"copyBinaryToDataView",{enumerable:!0,get:function(){return O.copyBinaryToDataView}}),Object.defineProperty(t,"getFirstCharacters",{enumerable:!0,get:function(){return w.getFirstCharacters}}),Object.defineProperty(t,"getMagicString",{enumerable:!0,get:function(){return w.getMagicString}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return _.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return _.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return _.resolvePath}}),Object.defineProperty(t,"_addAliases",{enumerable:!0,get:function(){return k.addAliases}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return j.makeTextEncoderIterator}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return j.makeTextDecoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return j.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return j.makeNumberedLineIterator}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return x.forEach}}),Object.defineProperty(t,"concatenateChunksAsync",{enumerable:!0,get:function(){return x.concatenateChunksAsync}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"ChildProcessProxy",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"_getMeshSize",{enumerable:!0,get:function(){return S.getMeshSize}}),Object.defineProperty(t,"getMeshBoundingBox",{enumerable:!0,get:function(){return S.getMeshBoundingBox}}),t.path=void 0;var i=a(r(30)),o=r(89),u=a(r(141)),s=r(90),c=r(142),f=r(72),l=a(r(144)),d=a(r(92)),h=a(r(93)),p=r(146),y=r(148),v=r(149),b=r(73),m=r(96),g=r(150),O=r(151),w=r(94),T=n(r(152));t.path=T;var _=r(97),k=r(97),j=r(153),x=r(154),E=a(r(155)),P=a(r(156)),S=r(161)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"m",(function(){return f})),r.d(t,"l",(function(){return l})),r.d(t,"n",(function(){return d})),r.d(t,"i",(function(){return h})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return y})),r.d(t,"a",(function(){return v})),r.d(t,"f",(function(){return m}));var n=r(1);function a(){var e=new n.a(3);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function i(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function o(e,t,r){var a=new n.a(3);return a[0]=e,a[1]=t,a[2]=r,a}function u(e,t){var r=t[0],n=t[1],a=t[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function s(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],u=r[1],s=r[2];return e[0]=a*s-i*u,e[1]=i*o-n*s,e[2]=n*u-a*o,e}function f(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,e[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,e[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,e}function l(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e}function d(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],u=t[0],s=t[1],c=t[2],f=a*c-i*s,l=i*u-n*c,d=n*s-a*u,h=a*d-i*l,p=i*f-n*d,y=n*l-a*f,v=2*o;return f*=v,l*=v,d*=v,h*=2,p*=2,y*=2,e[0]=u+f+h,e[1]=s+l+p,e[2]=c+d+y,e}function h(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function p(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function y(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function v(e,t){var r=e[0],n=e[1],a=e[2],i=t[0],o=t[1],u=t[2],c=Math.sqrt(r*r+n*n+a*a)*Math.sqrt(i*i+o*o+u*u),f=c&&s(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}var b,m=i;b=a()},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";r.r(t),function(e){var n=r(2),a=r(102);r.d(t,"Vector2",(function(){return a.a}));var i=r(34);r.d(t,"Vector3",(function(){return i.a}));var o=r(103);r.d(t,"Vector4",(function(){return o.a}));var u=r(104);r.d(t,"Matrix3",(function(){return u.a}));var s=r(44);r.d(t,"Matrix4",(function(){return s.a}));var c=r(53);r.d(t,"Quaternion",(function(){return c.a})),r.d(t,"config",(function(){return n.f})),r.d(t,"configure",(function(){return n.g})),r.d(t,"formatValue",(function(){return n.l})),r.d(t,"isArray",(function(){return n.m})),r.d(t,"clone",(function(){return n.e})),r.d(t,"equals",(function(){return n.j})),r.d(t,"exactEquals",(function(){return n.k})),r.d(t,"toRadians",(function(){return n.s})),r.d(t,"toDegrees",(function(){return n.r})),r.d(t,"radians",(function(){return n.o})),r.d(t,"degrees",(function(){return n.i})),r.d(t,"sin",(function(){return n.p})),r.d(t,"cos",(function(){return n.h})),r.d(t,"tan",(function(){return n.q})),r.d(t,"asin",(function(){return n.b})),r.d(t,"acos",(function(){return n.a})),r.d(t,"atan",(function(){return n.c})),r.d(t,"clamp",(function(){return n.d})),r.d(t,"lerp",(function(){return n.n})),r.d(t,"withEpsilon",(function(){return n.t}));var f=r(3);r.d(t,"checkNumber",(function(){return f.a}));var l=r(105);r.d(t,"_MathUtils",(function(){return l.a}));var d=r(106);r.d(t,"_SphericalCoordinates",(function(){return d.a}));var h=r(107);r.d(t,"_Pose",(function(){return h.a}));var p=r(45);r.d(t,"_Euler",(function(){return p.a}));var y=r(20);r.d(t,"assert",(function(){return y.a}));var v={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e};(v.global||v.self||v.window).mathgl={config:n.f}}.call(this,r(56))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(42);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(54);function a(e,t){return!t||"object"!==Object(n.a)(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}},function(e,t,r){"use strict";r.d(t,"p",(function(){return a})),r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"g",(function(){return u})),r.d(t,"o",(function(){return s})),r.d(t,"n",(function(){return c})),r.d(t,"j",(function(){return f})),r.d(t,"k",(function(){return l})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return h})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v})),r.d(t,"i",(function(){return b})),r.d(t,"h",(function(){return m})),r.d(t,"f",(function(){return g}));var n=r(1);function a(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function i(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],d=t[10],h=t[11],p=t[12],y=t[13],v=t[14],b=t[15],m=r*u-n*o,g=r*s-a*o,O=r*c-i*o,w=n*s-a*u,T=n*c-i*u,_=a*c-i*s,k=f*y-l*p,j=f*v-d*p,x=f*b-h*p,E=l*v-d*y,P=l*b-h*y,S=d*b-h*v,A=m*S-g*P+O*E+w*x-T*j+_*k;return A?(A=1/A,e[0]=(u*S-s*P+c*E)*A,e[1]=(a*P-n*S-i*E)*A,e[2]=(y*_-v*T+b*w)*A,e[3]=(d*T-l*_-h*w)*A,e[4]=(s*x-o*S-c*j)*A,e[5]=(r*S-a*x+i*j)*A,e[6]=(v*O-p*_-b*g)*A,e[7]=(f*_-d*O+h*g)*A,e[8]=(o*P-u*x+c*k)*A,e[9]=(n*x-r*P-i*k)*A,e[10]=(p*T-y*O+b*m)*A,e[11]=(l*O-f*T-h*m)*A,e[12]=(u*j-o*E-s*k)*A,e[13]=(r*E-n*j+a*k)*A,e[14]=(y*g-p*w-v*m)*A,e[15]=(f*w-l*g+d*m)*A,e):null}function o(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],d=e[11],h=e[12],p=e[13],y=e[14],v=e[15];return(t*o-r*i)*(l*v-d*y)-(t*u-n*i)*(f*v-d*p)+(t*s-a*i)*(f*y-l*p)+(r*u-n*o)*(c*v-d*h)-(r*s-a*o)*(c*y-l*h)+(n*s-a*u)*(c*p-f*h)}function u(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=t[9],h=t[10],p=t[11],y=t[12],v=t[13],b=t[14],m=t[15],g=r[0],O=r[1],w=r[2],T=r[3];return e[0]=g*n+O*u+w*l+T*y,e[1]=g*a+O*s+w*d+T*v,e[2]=g*i+O*c+w*h+T*b,e[3]=g*o+O*f+w*p+T*m,g=r[4],O=r[5],w=r[6],T=r[7],e[4]=g*n+O*u+w*l+T*y,e[5]=g*a+O*s+w*d+T*v,e[6]=g*i+O*c+w*h+T*b,e[7]=g*o+O*f+w*p+T*m,g=r[8],O=r[9],w=r[10],T=r[11],e[8]=g*n+O*u+w*l+T*y,e[9]=g*a+O*s+w*d+T*v,e[10]=g*i+O*c+w*h+T*b,e[11]=g*o+O*f+w*p+T*m,g=r[12],O=r[13],w=r[14],T=r[15],e[12]=g*n+O*u+w*l+T*y,e[13]=g*a+O*s+w*d+T*v,e[14]=g*i+O*c+w*h+T*b,e[15]=g*o+O*f+w*p+T*m,e}function s(e,t,r){var n,a,i,o,u,s,c,f,l,d,h,p,y=r[0],v=r[1],b=r[2];return t===e?(e[12]=t[0]*y+t[4]*v+t[8]*b+t[12],e[13]=t[1]*y+t[5]*v+t[9]*b+t[13],e[14]=t[2]*y+t[6]*v+t[10]*b+t[14],e[15]=t[3]*y+t[7]*v+t[11]*b+t[15]):(n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=t[9],h=t[10],p=t[11],e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=s,e[6]=c,e[7]=f,e[8]=l,e[9]=d,e[10]=h,e[11]=p,e[12]=n*y+u*v+l*b+t[12],e[13]=a*y+s*v+d*b+t[13],e[14]=i*y+c*v+h*b+t[14],e[15]=o*y+f*v+p*b+t[15]),e}function c(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t,r,a){var i,o,u,s,c,f,l,d,h,p,y,v,b,m,g,O,w,T,_,k,j,x,E,P,S=a[0],A=a[1],I=a[2],M=Math.hypot(S,A,I);return M<n.b?null:(S*=M=1/M,A*=M,I*=M,i=Math.sin(r),u=1-(o=Math.cos(r)),s=t[0],c=t[1],f=t[2],l=t[3],d=t[4],h=t[5],p=t[6],y=t[7],v=t[8],b=t[9],m=t[10],g=t[11],O=S*S*u+o,w=A*S*u+I*i,T=I*S*u-A*i,_=S*A*u-I*i,k=A*A*u+o,j=I*A*u+S*i,x=S*I*u+A*i,E=A*I*u-S*i,P=I*I*u+o,e[0]=s*O+d*w+v*T,e[1]=c*O+h*w+b*T,e[2]=f*O+p*w+m*T,e[3]=l*O+y*w+g*T,e[4]=s*_+d*k+v*j,e[5]=c*_+h*k+b*j,e[6]=f*_+p*k+m*j,e[7]=l*_+y*k+g*j,e[8]=s*x+d*E+v*P,e[9]=c*x+h*E+b*P,e[10]=f*x+p*E+m*P,e[11]=l*x+y*E+g*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function l(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*n,e[5]=o*a+f*n,e[6]=u*a+l*n,e[7]=s*a+d*n,e[8]=c*a-i*n,e[9]=f*a-o*n,e[10]=l*a-u*n,e[11]=d*a-s*n,e}function d(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],u=t[2],s=t[3],c=t[8],f=t[9],l=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*n,e[1]=o*a-f*n,e[2]=u*a-l*n,e[3]=s*a-d*n,e[8]=i*n+c*a,e[9]=o*n+f*a,e[10]=u*n+l*a,e[11]=s*n+d*a,e}function h(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],u=t[2],s=t[3],c=t[4],f=t[5],l=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*n,e[1]=o*a+f*n,e[2]=u*a+l*n,e[3]=s*a+d*n,e[4]=c*a-i*n,e[5]=f*a-o*n,e[6]=l*a-u*n,e[7]=d*a-s*n,e}function p(e,t){var r=t[0],n=t[1],a=t[2],i=t[4],o=t[5],u=t[6],s=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(r,n,a),e[1]=Math.hypot(i,o,u),e[2]=Math.hypot(s,c,f),e}function y(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,u=n+n,s=a+a,c=r*o,f=n*o,l=n*u,d=a*o,h=a*u,p=a*s,y=i*o,v=i*u,b=i*s;return e[0]=1-l-p,e[1]=f+b,e[2]=d-v,e[3]=0,e[4]=f-b,e[5]=1-c-p,e[6]=h+y,e[7]=0,e[8]=d+v,e[9]=h-y,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v(e,t,r,n,a,i,o){var u=1/(r-t),s=1/(a-n),c=1/(i-o);return e[0]=2*i*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*s,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(a+n)*s,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function b(e,t,r,n,a){var i,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(n-a),e[10]=(a+n)*i,e[14]=2*a*n*i):(e[10]=-1,e[14]=-2*n),e}function m(e,t,r,n,a,i,o){var u=1/(t-r),s=1/(n-a),c=1/(i-o);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*u,e[13]=(a+n)*s,e[14]=(o+i)*c,e[15]=1,e}function g(e,t,r,a){var i,o,u,s,c,f,l,d,h,p,y=t[0],v=t[1],b=t[2],m=a[0],g=a[1],O=a[2],w=r[0],T=r[1],_=r[2];return Math.abs(y-w)<n.b&&Math.abs(v-T)<n.b&&Math.abs(b-_)<n.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(l=y-w,d=v-T,h=b-_,i=g*(h*=p=1/Math.hypot(l,d,h))-O*(d*=p),o=O*(l*=p)-m*h,u=m*d-g*l,(p=Math.hypot(i,o,u))?(i*=p=1/p,o*=p,u*=p):(i=0,o=0,u=0),s=d*u-h*o,c=h*i-l*u,f=l*o-d*i,(p=Math.hypot(s,c,f))?(s*=p=1/p,c*=p,f*=p):(s=0,c=0,f=0),e[0]=i,e[1]=s,e[2]=l,e[3]=0,e[4]=o,e[5]=c,e[6]=d,e[7]=0,e[8]=u,e[9]=f,e[10]=h,e[11]=0,e[12]=-(i*y+o*v+u*b),e[13]=-(s*y+c*v+f*b),e[14]=-(l*y+d*v+h*b),e[15]=1,e)}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"l",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"k",(function(){return c})),r.d(t,"h",(function(){return f})),r.d(t,"m",(function(){return l})),r.d(t,"j",(function(){return d})),r.d(t,"d",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return v})),r.d(t,"f",(function(){return b})),r.d(t,"e",(function(){return m}));var n=r(1);function a(e){var t=new n.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function i(e,t,r,a){var i=new n.a(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=a,i}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.hypot(t,r,n,a)}function l(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a}function d(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=a*o,e[3]=i*o,e}function h(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function p(e,t,r,n){var a=t[0],i=t[1],o=t[2],u=t[3];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=u+n*(r[3]-u),e}function y(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e}function v(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*i-s*a,l=c*a+s*n-o*i,d=c*i+o*a-u*n,h=-o*n-u*a-s*i;return e[0]=f*c+h*-o+l*-s-d*-u,e[1]=l*c+h*-u+d*-o-f*-s,e[2]=d*c+h*-s+f*-u-l*-o,e[3]=t[3],e}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function m(e,t){var r=e[0],a=e[1],i=e[2],o=e[3],u=t[0],s=t[1],c=t[2],f=t[3];return Math.abs(r-u)<=n.b*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-s)<=n.b*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-c)<=n.b*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-f)<=n.b*Math.max(1,Math.abs(o),Math.abs(f))}var g,O;g=new n.a(4),n.a!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0),O=g},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){var n=t[0],a=t[1],i=r[3]*n+r[7]*a||1;return e[0]=(r[0]*n+r[4]*a)/i,e[1]=(r[1]*n+r[5]*a)/i,e}function a(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i||1;return e[0]=(r[0]*n+r[4]*a+r[8]*i)/o,e[1]=(r[1]*n+r[5]*a+r[9]*i)/o,e[2]=(r[2]*n+r[6]*a+r[10]*i)/o,e}function i(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e[2]=t[2],e}function o(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e[2]=t[2],e[3]=t[3],e}function u(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=r[0]*n+r[3]*a+r[6]*i,e[1]=r[1]*n+r[4]*a+r[7]*i,e[2]=r[2]*n+r[5]*a+r[8]*i,e[3]=t[3],e}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return u}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"i",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return d}));var n=r(1);function a(){var e=new n.a(9);return n.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function i(e,t){if(e===t){var r=t[1],n=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function o(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=f*o-u*c,d=-f*i+u*s,h=c*i-o*s,p=r*l+n*d+a*h;return p?(p=1/p,e[0]=l*p,e[1]=(-f*n+a*c)*p,e[2]=(u*n-a*o)*p,e[3]=d*p,e[4]=(f*r-a*s)*p,e[5]=(-u*r+a*i)*p,e[6]=h*p,e[7]=(-c*r+n*s)*p,e[8]=(o*r-n*i)*p,e):null}function u(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],s=e[7],c=e[8];return t*(c*i-o*s)+r*(-c*a+o*u)+n*(s*a-i*u)}function s(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=r[0],h=r[1],p=r[2],y=r[3],v=r[4],b=r[5],m=r[6],g=r[7],O=r[8];return e[0]=d*n+h*o+p*c,e[1]=d*a+h*u+p*f,e[2]=d*i+h*s+p*l,e[3]=y*n+v*o+b*c,e[4]=y*a+v*u+b*f,e[5]=y*i+v*s+b*l,e[6]=m*n+g*o+O*c,e[7]=m*a+g*u+O*f,e[8]=m*i+g*s+O*l,e}function c(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=s,e[6]=d*n+h*o+c,e[7]=d*a+h*u+f,e[8]=d*i+h*s+l,e}function f(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*o,e[1]=h*a+d*u,e[2]=h*i+d*s,e[3]=h*o-d*n,e[4]=h*u-d*a,e[5]=h*s-d*i,e[6]=c,e[7]=f,e[8]=l,e}function l(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function d(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,u=n+n,s=a+a,c=r*o,f=n*o,l=n*u,d=a*o,h=a*u,p=a*s,y=i*o,v=i*u,b=i*s;return e[0]=1-l-p,e[3]=f-b,e[6]=d+v,e[1]=f+b,e[4]=1-c-p,e[7]=h-y,e[2]=d-v,e[5]=h+y,e[8]=1-c-l,e}},function(e,t,r){var n=r(18);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u}));var n=r(1);function a(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e}function i(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e}function o(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[3]*a+r[6],e[1]=r[1]*n+r[4]*a+r[7],e}function u(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e}var s,c;s=new n.a(2),n.a!=Float32Array&&(s[0]=0,s[1]=0),c=s},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isWritableStream=t.isReadableStream=t.isReadableNodeStream=t.isWritableNodeStream=t.isBuffer=t.isReadableDOMStream=t.isWritableDOMStream=t.isBlob=t.isFile=t.isResponse=t.isIterator=t.isAsyncIterable=t.isIterable=t.isPromise=t.isPureObject=t.isObject=void 0;var a=n(r(18)),i=function(e){return"boolean"==typeof e},o=function(e){return"function"==typeof e},u=function(e){return null!==e&&"object"===(0,a.default)(e)};t.isObject=u;t.isPureObject=function(e){return u(e)&&e.constructor==={}.constructor};t.isPromise=function(e){return u(e)&&o(e.then)};t.isIterable=function(e){return e&&"function"==typeof e[Symbol.iterator]};t.isAsyncIterable=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]};t.isIterator=function(e){return e&&o(e.next)};t.isResponse=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json};t.isFile=function(e){return"undefined"!=typeof File&&e instanceof File};t.isBlob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob};var s=function(e){return u(e)&&o(e.abort)&&o(e.getWriter)};t.isWritableDOMStream=s;var c=function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||u(e)&&o(e.tee)&&o(e.cancel)&&o(e.getReader)};t.isReadableDOMStream=c;t.isBuffer=function(e){return e&&"object"===(0,a.default)(e)&&e.isBuffer};var f=function(e){return u(e)&&o(e.end)&&o(e.write)&&i(e.writable)};t.isWritableNodeStream=f;var l=function(e){return u(e)&&o(e.read)&&o(e.pipe)&&i(e.readable)};t.isReadableNodeStream=l;t.isReadableStream=function(e){return c(e)||l(e)};t.isWritableStream=function(e){return s(e)||f(e)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalOptions=function(e){var t=y(),r=v();t.globalOptions=g(r,e)},t.normalizeOptions=function(e,t,r,n){return r=r||[],r=Array.isArray(r)?r:[r],function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;b(e,null,r,h,p,t);var n,a=c(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=e&&e[i.id]||{},u=i.options&&i.options[i.id]||{},s=i.defaultOptions&&i.defaultOptions[i.id]||{};b(o,i.id,r,u,s,t)}}catch(e){a.e(e)}finally{a.f()}}(e,r),g(t,e,n)},t.getFetchFunction=function(e,t){var r=v(),n=e.fetch||r.fetch;if("function"==typeof n)return n;if((0,o.isObject)(n))return function(e){return(0,u.fetchFile)(e,n)};if(t&&t.fetch)return t.fetch;return function(t){return(0,u.fetchFile)(t,e)}},t.getGlobalLoaderState=void 0;var a=n(r(11)),i=r(7),o=r(25),u=r(76),s=r(174);function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={baseUri:"",fetch:null,CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new s.ConsoleLog,metadata:!1,transforms:[],reuseWorkers:!0},p={dataType:"(no longer used)",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"},y=function(){i.global.loaders=i.global.loaders||{};var e=i.global.loaders;return e._state=e._state||{},e._state};t.getGlobalLoaderState=y;var v=function(){var e=y();return e.globalOptions=e.globalOptions||d({},h),e.globalOptions};function b(e,t,r,n,a,i){var u=t||"Top level",s=t?"".concat(t,"."):"";for(var c in e){var f=!t&&(0,o.isObject)(e[c]);if(!(c in n))if(c in a)r.warn("".concat(u," loader option '").concat(s).concat(c,"' deprecated, use '").concat(a[c],"'"));else if(!f){var l=m(c,i);r.warn("".concat(u," loader option '").concat(s).concat(c,"' not recognized. ").concat(l))}}}function m(e,t){var r,n=e.toLowerCase(),a="",i=c(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;for(var u in o.options){if(e===u)return"Did you mean '".concat(o.id,".").concat(u,"'?");var s=u.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(a=a||"Did you mean '".concat(o.id,".").concat(u,"'?"))}}}catch(e){i.e(e)}finally{i.f()}return a}function g(e,t,r){var n=d({},e.options||{});return null===n.log&&(n.log=new s.NullLog),O(n,v()),O(n,t),function(e,t){t&&!e.baseUri&&(e.baseUri=t)}(n,r),n}function O(e,t){for(var r in t)if(r in t){var n=t[r];(0,o.isPureObject)(n)&&(0,o.isPureObject)(e[r])?e[r]=d(d({},e[r]),t[r]):e[r]=t[r]}}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GL",{enumerable:!0,get:function(){return a.GL}}),Object.defineProperty(t,"GL_TYPE",{enumerable:!0,get:function(){return a.GL_TYPE}}),Object.defineProperty(t,"GLType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"isGeometry",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"makeAttributeIterator",{enumerable:!0,get:function(){return u.makeAttributeIterator}}),Object.defineProperty(t,"makePrimitiveIterator",{enumerable:!0,get:function(){return s.makePrimitiveIterator}}),Object.defineProperty(t,"computeVertexNormals",{enumerable:!0,get:function(){return c.computeVertexNormals}}),Object.defineProperty(t,"encodeRGB565",{enumerable:!0,get:function(){return f.encodeRGB565}}),Object.defineProperty(t,"decodeRGB565",{enumerable:!0,get:function(){return f.decodeRGB565}}),Object.defineProperty(t,"concatTypedArrays",{enumerable:!0,get:function(){return l.concatTypedArrays}}),Object.defineProperty(t,"octEncodeInRange",{enumerable:!0,get:function(){return d.octEncodeInRange}}),Object.defineProperty(t,"octEncode",{enumerable:!0,get:function(){return d.octEncode}}),Object.defineProperty(t,"octEncodeToVector4",{enumerable:!0,get:function(){return d.octEncodeToVector4}}),Object.defineProperty(t,"octDecodeInRange",{enumerable:!0,get:function(){return d.octDecodeInRange}}),Object.defineProperty(t,"octDecode",{enumerable:!0,get:function(){return d.octDecode}}),Object.defineProperty(t,"octDecodeFromVector4",{enumerable:!0,get:function(){return d.octDecodeFromVector4}}),Object.defineProperty(t,"octPackFloat",{enumerable:!0,get:function(){return d.octPackFloat}}),Object.defineProperty(t,"octEncodeFloat",{enumerable:!0,get:function(){return d.octEncodeFloat}}),Object.defineProperty(t,"octDecodeFloat",{enumerable:!0,get:function(){return d.octDecodeFloat}}),Object.defineProperty(t,"octPack",{enumerable:!0,get:function(){return d.octPack}}),Object.defineProperty(t,"octUnpack",{enumerable:!0,get:function(){return d.octUnpack}}),Object.defineProperty(t,"compressTextureCoordinates",{enumerable:!0,get:function(){return d.compressTextureCoordinates}}),Object.defineProperty(t,"decompressTextureCoordinates",{enumerable:!0,get:function(){return d.decompressTextureCoordinates}}),Object.defineProperty(t,"zigZagDeltaDecode",{enumerable:!0,get:function(){return d.zigZagDeltaDecode}});var a=r(49),i=n(r(202)),o=n(r(126)),u=r(203),s=r(127),c=r(204),f=r(206),l=r(207),d=r(208)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(69);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(42);var c=r(71);function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Object(c.a)(e,arguments,Object(u.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(s.a)(n,e)})(e)}var l=r(2),d=r(20);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){Object(i.a)(r,e);var t=h(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}},{key:"to",value:function(e){return e===this?this:Object(l.m)(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(l.f)}},{key:"formatString",value:function(e){for(var t="",r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+Object(l.l)(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Object(l.j)(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,r){void 0===r&&(r=t,t=e,e=this);for(var n=0;n<this.ELEMENTS;++n){var a=e[n];this[n]=a+r*(t[n]-a)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,a=t;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]+=i[o];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,a=t;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]-=i[o];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(l.f.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"ELEMENTS",get:function(){return Object(d.a)(!1),0}},{key:"RANK",get:function(){return Object(d.a)(!1),0}},{key:"elements",get:function(){return this}}]),r}(f(Array))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t){e.exports=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isLoaderObject=s,t.normalizeLoader=function(e){var t;(0,i.assert)(e,"null loader"),(0,i.assert)(s(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=u(u({},e=e[0]),{},{options:u(u({},e.options),t)}));e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension);Array.isArray(e.extensions)||(e.extensions=[e.extensions]);(0,i.assert)(e.extensions&&e.extensions.length>0&&e.extensions[0]),(e.parseTextSync||e.parseText)&&(e.text=!0);e.text||(e.binary=!0);return e};var a=n(r(11)),i=r(7);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,r=e.options&&e.options[e.id];return t=t||r&&r.workerUrl}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TILE3D_OPTIMIZATION_HINT=t.MAGIC_ARRAY=t.TILE3D_TYPES=t.TILE3D_TYPE=void 0;var n={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect"};t.TILE3D_TYPE=n;var a=Object.keys(n);t.TILE3D_TYPES=a;t.MAGIC_ARRAY={BATCHED_MODEL:[98,51,100,109],INSTANCED_MODEL:[105,51,100,109],POINT_CLOUD:[112,110,116,115],COMPOSITE:[99,109,112,116]};t.TILE3D_OPTIMIZATION_HINT={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(43),c=r(2),f=r(3),l=r(10),d=r(21);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=[0,0,0],y={},v=function(e){Object(i.a)(r,e);var t=h(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n.a)(this,r),e=t.call(this,-0,-0,-0),1===arguments.length&&Object(c.m)(a)?e.copy(a):(c.f.debug&&(Object(f.a)(a),Object(f.a)(i),Object(f.a)(o)),e[0]=a,e[1]=i,e[2]=o),e}return Object(a.a)(r,null,[{key:"ZERO",get:function(){return y.ZERO=y.ZERO||Object.freeze(new r(0,0,0,0))}}]),Object(a.a)(r,[{key:"set",value:function(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y),Object(f.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"angle",value:function(e){return l.a(this,e)}},{key:"cross",value:function(e){return l.c(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return l.i(this,this,n,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return l.j(this,this,n,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return l.k(this,this,n,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return l.m(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(d.c)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return l.l(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(d.b)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return l.n(this,this,e),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(f.a)(e)}}]),r}(s.a)},function(e,t,r){var n=r(91);e.exports=function(e){return new n(e)}},function(e,t,r){var n=r(143);e.exports=function(e){return function(){return new n(e.apply(this,arguments))}}},function(e,t,r){var n=r(157),a=r(158),i=r(99),o=r(159);e.exports=function(e){return n(e)||a(e)||i(e)||o()}},function(e,t,r){var n=r(186),a=r(187),i=r(99),o=r(188);e.exports=function(e,t){return n(e)||a(e,t)||i(e,t)||o()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBytesFromComponentType=function(e){return a[e]},t.getSizeFromAccessorType=function(e){return n[e]},t.getGLEnumFromSamplerParameter=function(e){return{magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243}[e]},t.UBER_POINT_CLOUD_EXTENSION=t.KHR_TECHNIQUES_WEBGL=t.KHR_MATERIALS_UNLIT=t.KHR_LIGHTS_PUNCTUAL=t.KHR_DRACO_MESH_COMPRESSION=t.KHR_BINARY_GLTF=void 0;t.KHR_BINARY_GLTF="KHR_binary_glTF";t.KHR_DRACO_MESH_COMPRESSION="KHR_draco_mesh_compression";t.KHR_LIGHTS_PUNCTUAL="KHR_lights_punctual";t.KHR_MATERIALS_UNLIT="KHR_materials_unlit";t.KHR_TECHNIQUES_WEBGL="KHR_techniques_webgl";t.UBER_POINT_CLOUD_EXTENSION="UBER_draco_point_cloud_compression";var n={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},a={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t||"assert failed: gltf")}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(18)),i=n(r(13)),o=n(r(14)),u=r(82),s=r(7),c=n(r(40)),f=r(67),l=function(){function e(t){if((0,i.default)(this,e),t instanceof e)return t;t||(t={json:{asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},buffers:[]}),this.byteLength=0,this.gltf=t,(0,c.default)(this.gltf.json)}return(0,o.default)(e,[{key:"getApplicationData",value:function(e){return this.json[e]}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),r=this.json.extensions||{};return t?r[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(e,t){return(e.extensions||{})[t]}},{key:"getScene",value:function(e){return this.getObject("scenes",e)}},{key:"getNode",value:function(e){return this.getObject("nodes",e)}},{key:"getSkin",value:function(e){return this.getObject("skins",e)}},{key:"getMesh",value:function(e){return this.getObject("meshes",e)}},{key:"getMaterial",value:function(e){return this.getObject("materials",e)}},{key:"getAccessor",value:function(e){return this.getObject("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this.getObject("textures",e)}},{key:"getSampler",value:function(e){return this.getObject("samplers",e)}},{key:"getImage",value:function(e){return this.getObject("images",e)}},{key:"getBufferView",value:function(e){return this.getObject("bufferViews",e)}},{key:"getBuffer",value:function(e){return this.getObject("buffers",e)}},{key:"getObject",value:function(e,t){if("object"===(0,a.default)(t))return t;var r=this.json[e]&&this.json[e][t];if(!r)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return r}},{key:"getTypedArrayForBufferView",value:function(e){var t=(e=this.getBufferView(e)).buffer,r=this.gltf.buffers[t];(0,c.default)(r);var n=(e.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,n,e.byteLength)}},{key:"getTypedArrayForAccessor",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,n=(0,f.getAccessorArrayTypeAndLength)(e,t),a=n.ArrayType,i=n.length;return new a(r,t.byteOffset+e.byteOffset,i)}},{key:"getTypedArrayForImageData",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addExtraData",value:function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}},{key:"addObjectExtension",value:function(e,t,r){return(0,c.default)(r),e.extensions=e.extensions||{},e.extensions[t]=r,this.registerUsedExtension(t),this}},{key:"setObjectExtension",value:function(e,t,r){(e.extensions||{})[t]=r}},{key:"removeObjectExtension",value:function(e,t){var r=e.extensions||{},n=r[t];return delete r[t],n}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}},{key:"addRequiredExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"addMesh",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=this._addAttributes(e),a={primitives:[{attributes:n,indices:t,mode:r}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addImage",value:function(e,t){t=t||(0,u.getBinaryImageMIMEType)(e);var r={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(r),this.json.images.length-1}},{key:"addBufferView",value:function(e){var t=e.byteLength;(0,c.default)(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var r={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=(0,s.padTo4Bytes)(t),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(r),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){var r={bufferView:e,type:(0,f.getAccessorTypeFromSize)(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},r=this.addBufferView(e),n={size:t.size,componentType:(0,f.getComponentTypeFromArray)(e),count:Math.round(e.length/t.size)};return this.addAccessor(r,Object.assign(n,t))}},{key:"createBinaryChunk",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),n=0,a=0;a<this.sourceBuffers.length;a++){var i=this.sourceBuffers[a];n=(0,s.copyToArray)(i,r,n)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:"_removeStringFromArray",value:function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}},{key:"json",get:function(){return this.gltf.json}}]),e}();t.default=l},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(29),c=r(3),f=r(20);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var d=function(e){Object(i.a)(r,e);var t=l(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"copy",value:function(e){return Object(f.a)(!1),this}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-e[r];t+=n*n}return Object(c.a)(t)}},{key:"dot",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(c.a)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,a=t;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]*=i[o];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,a=t;n<a.length;n++)for(var i=a[n],o=0;o<this.ELEMENTS;++o)this[o]/=i[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return Object(f.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(c.a)(this[e])}},{key:"setComponent",value:function(e,t){return Object(f.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(c.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(c.a)(e)}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r(28),a=r(8),i=r(6),o=r(15),u=r(16),s=r(9),c=r(3),f=r(70),l=r(21),d=r(17),h=r(24),p=r(10),y=r(19);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var b=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),g=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),O={},w=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(a.a)(this,r),n=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?n.copy(e):n.identity(),n}return Object(i.a)(r,[{key:"INDICES",get:function(){return g}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return O.IDENTITY=O.IDENTITY||Object.freeze(new r(b)),O.IDENTITY}},{key:"ZERO",get:function(){return O.ZERO=O.ZERO||Object.freeze(new r(m)),O.ZERO}}]),Object(i.a)(r,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,r,n,a,i,o,u,s,c,f,l,d,h,p,y){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=a,this[5]=i,this[6]=o,this[7]=u,this[8]=s,this[9]=c,this[10]=f,this[11]=l,this[12]=d,this[13]=h,this[14]=p,this[15]=y,this.check()}},{key:"setRowMajor",value:function(e,t,r,n,a,i,o,u,s,c,f,l,d,h,p,y){return this[0]=e,this[1]=a,this[2]=s,this[3]=d,this[4]=t,this[5]=i,this[6]=c,this[7]=h,this[8]=r,this[9]=o,this[10]=f,this[11]=p,this[12]=n,this[13]=u,this[14]=l,this[15]=y,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(b)}},{key:"fromQuaternion",value:function(e){return d.b(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,n=e.right,a=e.bottom,i=e.top,o=e.near,u=e.far;return u===1/0?r._computeInfinitePerspectiveOffCenter(this,t,n,a,i,o):d.c(this,t,n,a,i,o,u),this.check()}},{key:"lookAt",value:function(e,t,r){if(1===arguments.length){var n=e;e=n.eye,t=n.center,r=n.up}return t=t||[0,0,0],r=r||[0,1,0],d.f(this,e,t,r),this.check()}},{key:"ortho",value:function(e){var t=e.left,r=e.right,n=e.bottom,a=e.top,i=e.near,o=void 0===i?.1:i,u=e.far,s=void 0===u?500:u;return d.h(this,t,r,n,a,o,s),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,n=void 0===t?45*Math.PI/180:t,a=e.aspect,i=void 0===a?1:a,o=e.focalDistance,u=void 0===o?1:o,s=e.near,c=void 0===s?.1:s,f=e.far,l=void 0===f?500:f;if(n>2*Math.PI)throw Error("radians");var d=n/2,h=u*Math.tan(d),p=h*i;return(new r).ortho({left:-p,right:p,bottom:-h,top:h,near:c,far:l})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,r=void 0===t?void 0:t,n=e.fov,a=void 0===n?45*Math.PI/180:n,i=e.aspect,o=void 0===i?1:i,u=e.near,s=void 0===u?.1:u,c=e.far,f=void 0===c?500:c;if((r=r||a)>2*Math.PI)throw Error("radians");return d.i(this,r,o,s,f),this.check()}},{key:"determinant",value:function(){return d.a(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],a=1/r[1],i=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*a,e[2]=this[2]*i,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*a,e[6]=this[6]*i,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*a,e[10]=this[10]*i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],a=1/r[1],i=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*a,e[2]=this[2]*i,e[3]=this[4]*n,e[4]=this[5]*a,e[5]=this[6]*i,e[6]=this[8]*n,e[7]=this[9]*a,e[8]=this[10]*i,e}},{key:"transpose",value:function(){return d.p(this,this),this.check()}},{key:"invert",value:function(){return d.e(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return d.g(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return d.g(this,this,e),this.check()}},{key:"rotateX",value:function(e){return d.k(this,this,e),this.check()}},{key:"rotateY",value:function(e){return d.l(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return d.m(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t=Object(n.a)(e,3),r=t[0],a=t[1],i=t[2];return this.rotateX(r).rotateY(a).rotateZ(i)}},{key:"rotateAxis",value:function(e,t){return d.j(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?d.n(this,this,e):d.n(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return d.o(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(t=y.n(t||[-0,-0,-0,-0],e,this),Object(c.b)(t,4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=h.d(t||[-0,-0],e,this);break;case 3:t=p.m(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:t=Object(l.a)(t||[-0,-0],e,this);break;case 3:t=Object(l.c)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,r){return this.identity().translate([e,t,r])}},{key:"transformPoint",value:function(e,t){return Object(c.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return Object(c.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return Object(c.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,r,n,a,i){var o=2*i/(r-t),u=2*i/(a-n),s=(r+t)/(r-t),c=(a+n)/(a-n),f=-2*i;return e[0]=o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=s,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=f,e[15]=0,e}}]),r}(f.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(28),a=r(8),i=r(6),o=r(15),u=r(16),s=r(9),c=r(29),f=r(2),l=r(3),d=r(53);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var p="Unknown Euler angle order";var y=function(e){Object(o.a)(r,e);var t=h(r);function r(){var e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.DefaultOrder;(Object(a.a)(this,r),e=t.call(this,-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0]))?(n=e).fromVector3.apply(n,arguments):e.set(i,o,u,s);return e}return Object(i.a)(r,[{key:"ELEMENTS",get:function(){return 4}}],[{key:"rotationOrder",value:function(e){return r.RotationOrders[e]}},{key:"ZYX",get:function(){return 0}},{key:"YXZ",get:function(){return 1}},{key:"XZY",get:function(){return 2}},{key:"ZXY",get:function(){return 3}},{key:"YZX",get:function(){return 4}},{key:"XYZ",get:function(){return 5}},{key:"RollPitchYaw",get:function(){return 0}},{key:"DefaultOrder",get:function(){return r.ZYX}},{key:"RotationOrders",get:function(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}}]),Object(i.a)(r,[{key:"fromQuaternion",value:function(e){var t=Object(n.a)(e,4),a=t[0],i=t[1],o=t[2],u=t[3],s=i*i,c=-2*(s+o*o)+1,f=2*(a*i+u*o),l=-2*(a*o-u*i),d=2*(i*o+u*a),h=-2*(a*a+s)+1;return l=(l=l>1?1:l)<-1?-1:l,new r(Math.atan2(d,h),Math.asin(l),Math.atan2(f,c),r.RollPitchYaw)}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}},{key:"validate",value:function(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}},{key:"toArray4",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}},{key:"toVector3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}},{key:"fromVector3",value:function(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}},{key:"fromRollPitchYaw",value:function(e,t,n){return this.set(e,t,n,r.ZYX)}},{key:"fromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DefaultOrder;return this._fromRotationMatrix(e,t),this.check()}},{key:"getRotationMatrix",value:function(e){return this._getRotationMatrix(e)}},{key:"getQuaternion",value:function(){var e=new d.a;switch(this[4]){case r.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case r.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case r.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case r.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case r.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case r.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(p)}}},{key:"_fromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DefaultOrder,n=e.elements,a=n[0],i=n[4],o=n[8],u=n[1],s=n[5],c=n[9],l=n[2],d=n[6],h=n[10];switch(t=t||this[3]){case r.XYZ:this[1]=Math.asin(Object(f.d)(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(-c,h),this[2]=Math.atan2(-i,a)):(this[0]=Math.atan2(d,s),this[2]=0);break;case r.YXZ:this[0]=Math.asin(-Object(f.d)(c,-1,1)),Math.abs(c)<.99999?(this[1]=Math.atan2(o,h),this[2]=Math.atan2(u,s)):(this[1]=Math.atan2(-l,a),this[2]=0);break;case r.ZXY:this[0]=Math.asin(Object(f.d)(d,-1,1)),Math.abs(d)<.99999?(this[1]=Math.atan2(-l,h),this[2]=Math.atan2(-i,s)):(this[1]=0,this[2]=Math.atan2(u,a));break;case r.ZYX:this[1]=Math.asin(-Object(f.d)(l,-1,1)),Math.abs(l)<.99999?(this[0]=Math.atan2(d,h),this[2]=Math.atan2(u,a)):(this[0]=0,this[2]=Math.atan2(-i,s));break;case r.YZX:this[2]=Math.asin(Object(f.d)(u,-1,1)),Math.abs(u)<.99999?(this[0]=Math.atan2(-c,s),this[1]=Math.atan2(-l,a)):(this[0]=0,this[1]=Math.atan2(o,h));break;case r.XZY:this[2]=Math.asin(-Object(f.d)(i,-1,1)),Math.abs(i)<.99999?(this[0]=Math.atan2(d,s),this[1]=Math.atan2(o,a)):(this[0]=Math.atan2(-c,h),this[1]=0);break;default:throw new Error(p)}return this[3]=t,this}},{key:"_getRotationMatrix",value:function(e){var t=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=this.x,a=this.y,i=this.z,o=Math.cos(n),u=Math.cos(a),s=Math.cos(i),c=Math.sin(n),f=Math.sin(a),l=Math.sin(i);switch(this[3]){case r.XYZ:var d=o*s,h=o*l,y=c*s,v=c*l;t[0]=u*s,t[4]=-u*l,t[8]=f,t[1]=h+y*f,t[5]=d-v*f,t[9]=-c*u,t[2]=v-d*f,t[6]=y+h*f,t[10]=o*u;break;case r.YXZ:var b=u*s,m=u*l,g=f*s,O=f*l;t[0]=b+O*c,t[4]=g*c-m,t[8]=o*f,t[1]=o*l,t[5]=o*s,t[9]=-c,t[2]=m*c-g,t[6]=O+b*c,t[10]=o*u;break;case r.ZXY:var w=u*s,T=u*l,_=f*s,k=f*l;t[0]=w-k*c,t[4]=-o*l,t[8]=_+T*c,t[1]=T+_*c,t[5]=o*s,t[9]=k-w*c,t[2]=-o*f,t[6]=c,t[10]=o*u;break;case r.ZYX:var j=o*s,x=o*l,E=c*s,P=c*l;t[0]=u*s,t[4]=E*f-x,t[8]=j*f+P,t[1]=u*l,t[5]=P*f+j,t[9]=x*f-E,t[2]=-f,t[6]=c*u,t[10]=o*u;break;case r.YZX:var S=o*u,A=o*f,I=c*u,M=c*f;t[0]=u*s,t[4]=M-S*l,t[8]=I*l+A,t[1]=l,t[5]=o*s,t[9]=-c*s,t[2]=-f*s,t[6]=A*l+I,t[10]=S-M*l;break;case r.XZY:var L=o*u,R=o*f,N=c*u,D=c*f;t[0]=u*s,t[4]=-l,t[8]=f*s,t[1]=L*l+D,t[5]=o*s,t[9]=R*l-N,t[2]=N*l-R,t[6]=c*s,t[10]=D*l+L;break;default:throw new Error(p)}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"toQuaternion",value:function(){var e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),a=Math.cos(.5*this.pitch),i=Math.sin(.5*this.pitch),o=e*r*a+t*n*i,u=e*n*a-t*r*i,s=e*r*i+t*n*a,c=t*r*a-e*n*i;return new d.a(u,s,c,o)}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"alpha",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"beta",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"gamma",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"phi",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"theta",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"psi",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"roll",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"pitch",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"yaw",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"order",get:function(){return this[3]},set:function(e){this[3]=function(e){if(e<0&&e>=6)throw new Error(p);return e}(e)}}]),r}(c.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(55);var a=r(69);function i(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceUrlAndType=function(e){if((0,n.isResponse)(e)){var t=(0,a.parseMIMEType)(e.headers.get("content-type")),r=(0,a.parseMIMETypeFromURL)(e.url);return{url:o(e.url||""),type:t||r||null}}if((0,n.isBlob)(e))return{url:o(e.name||""),type:e.type||""};if("string"==typeof e)return{url:o(e),type:(0,a.parseMIMETypeFromURL)(e)};return{url:"",type:""}},t.getResourceContentLength=function(e){if((0,n.isResponse)(e))return e.headers["content-length"]||-1;if((0,n.isBlob)(e))return e.size;if("string"==typeof e)return e.length;if(e instanceof ArrayBuffer)return e.byteLength;if(ArrayBuffer.isView(e))return e.byteLength;return-1};var n=r(25),a=r(167),i=/\?.*/;function o(e){return e.replace(i,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TILE3D_OPTIMIZATION_HINT=t.LOD_METRIC_TYPE=t.TILESET_TYPE=t.TILE_TYPE=t.TILE_REFINEMENT=t.TILE_CONTENT_STATE=void 0;t.TILE_CONTENT_STATE={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};t.TILE_REFINEMENT={ADD:1,REPLACE:2};t.TILE_TYPE={EMPTY:"empty",SCENEGRAPH:"scenegraph",POINTCLOUD:"pointcloud",MESH:"mesh"};t.TILESET_TYPE={I3S:"I3S",TILES3D:"TILES3D"};t.LOD_METRIC_TYPE={GEOMETRIC_ERROR:"geometricError",MAX_SCREEN_THRESHOLD:"maxScreenThreshold"};t.TILE3D_OPTIMIZATION_HINT={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.GL=t.GL_TYPE=t.GL_PRIMITIVE_MODE=t.GL_PRIMITIVE=void 0;var a=n(r(11));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.GL_PRIMITIVE={POINTS:0,LINES:1,TRIANGLES:4};var u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};t.GL_PRIMITIVE_MODE=u;var s={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130};t.GL_TYPE=s;var c=o(o({},u),s);t.GL=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},function(e,t,r){"use strict";r.r(t),r.d(t,"Ellipsoid",(function(){return B})),r.d(t,"isWGS84",(function(){return g}));var n=r(28),a=r(8),i=r(6),o=r(34),u=r(20),s=r(105),c=r(44),f=r(2),l=r(10),d={radii:[6378137,6378137,6356752.314245179],radiiSquared:[40680631590769,40680631590769,40408299984661.445],oneOverRadii:[1/6378137,1/6378137,1/6356752.314245179],oneOverRadiiSquared:[1/40680631590769,1/40680631590769,1/40408299984661.445],maximumRadius:Math.max(6378137,6378137,6356752.314245179),centerToleranceSquared:.1},h=function(e){return e},p=new o.a;function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return Object(f.m)(e)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in e?(t[0]=r(e.longitude),t[1]=r(e.latitude),t[2]=e.height):(t[0]=r(e.x),t[1]=r(e.y),t[2]=e.z),t}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return y(e,t,f.f._cartographicRadians?h:f.s)}function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return Object(f.m)(t)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in t?(t.longitude=r(e[0]),t.latitude=r(e[1]),t.height=e[2]):(t.x=r(e[0]),t.y=r(e[1]),t.z=e[2]),t}function m(e,t){return b(e,t,f.f._cartographicRadians?h:f.r)}function g(e){if(!e)return!1;p.from(e);var t=d.oneOverRadiiSquared,r=d.centerToleranceSquared,n=e[0]*e[0]*t[0],a=e[1]*e[1]*t[1],i=e[2]*e[2]*t[2];return Math.abs(n+a+i-1)<r}var O=new o.a,w=new o.a,T=new o.a;var _=new o.a,k={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},j={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},x={east:new o.a,north:new o.a,up:new o.a,west:new o.a,south:new o.a,down:new o.a},E=new o.a,P=new o.a,S=new o.a;function A(e,t,r,n,a,i){var o,s,c,l=k[t]&&k[t][r];Object(u.a)(l&&(!n||n===l));var d=_.copy(a);if(Object(f.j)(d.x,0,1e-14)&&Object(f.j)(d.y,0,1e-14)){var h=Math.sign(d.z);o=E.fromArray(j[t]),"east"!==t&&"west"!==t&&o.scale(h),s=P.fromArray(j[r]),"east"!==r&&"west"!==r&&s.scale(h),c=S.fromArray(j[n]),"east"!==n&&"west"!==n&&c.scale(h)}else{var p=x.up,y=x.east,v=x.north;y.set(-d.y,d.x,0).normalize(),e.geodeticSurfaceNormal(d,p),v.copy(p).cross(y);var b=x.west,m=x.south;x.down.copy(p).scale(-1),b.copy(y).scale(-1),m.copy(v).scale(-1),o=x[t],s=x[r],c=x[n]}return i[0]=o.x,i[1]=o.y,i[2]=o.z,i[3]=0,i[4]=s.x,i[5]=s.y,i[6]=s.z,i[7]=0,i[8]=c.x,i[9]=c.y,i[10]=c.z,i[11]=0,i[12]=d.x,i[13]=d.y,i[14]=d.z,i[15]=1,i}var I,M=new o.a,L=new o.a,R=new o.a,N=new o.a,D=new o.a,C=new o.a,B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(a.a)(this,e),Object(u.a)(t>=0),Object(u.a)(r>=0),Object(u.a)(n>=0),this.radii=new o.a(t,r,n),this.radiiSquared=new o.a(t*t,r*r,n*n),this.radiiToTheFourth=new o.a(t*t*t*t,r*r*r*r,n*n*n*n),this.oneOverRadii=new o.a(0===t?0:1/t,0===r?0:1/r,0===n?0:1/n),this.oneOverRadiiSquared=new o.a(0===t?0:1/(t*t),0===r?0:1/(r*r),0===n?0:1/(n*n)),this.minimumRadius=Math.min(t,r,n),this.maximumRadius=Math.max(t,r,n),this.centerToleranceSquared=s.a.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}return Object(i.a)(e,null,[{key:"WGS84",get:function(){return I=I||new e(6378137,6378137,6356752.314245179)}}]),Object(i.a)(e,[{key:"equals",value:function(e){return this===e||Boolean(e&&this.radii.equals(e.radii))}},{key:"toString",value:function(){return this.radii.toString()}},{key:"cartographicToCartesian",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=L,a=R,i=Object(n.a)(e,3),o=i[2];this.geodeticSurfaceNormalCartographic(e,r),a.copy(this.radiiSquared).scale(r);var u=Math.sqrt(r.dot(a));return a.scale(1/u),r.scale(o),a.add(r),a.to(t)}},{key:"cartesianToCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];C.from(e);var r=this.scaleToGeodeticSurface(C,N);if(r){var n=this.geodeticSurfaceNormal(r,L),a=D;a.copy(C).subtract(r);var i=Math.atan2(n.y,n.x),o=Math.asin(n.z),u=Math.sign(l.d(a,C))*l.g(a);return m([i,o,u],t)}}},{key:"eastNorthUpToFixedFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.a;return A(this,"east","north","up",e,t)}},{key:"localFrameToFixedFrame",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new c.a;return A(this,e,t,r,n,a)}},{key:"geocentricSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return M.from(e).normalize().to(t)}},{key:"geodeticSurfaceNormalCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=v(e),n=r[0],a=r[1],i=Math.cos(a);return M.set(i*Math.cos(n),i*Math.sin(n),Math.sin(a)).normalize(),M.to(t)}},{key:"geodeticSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return M.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}},{key:"scaleToGeodeticSurface",value:function(e,t){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o.a,n=t.oneOverRadii,a=t.oneOverRadiiSquared,i=t.centerToleranceSquared;O.from(e);var u=e.x,c=e.y,f=e.z,l=n.x,d=n.y,h=n.z,p=u*u*l*l,y=c*c*d*d,v=f*f*h*h,b=p+y+v,m=Math.sqrt(1/b);if(Number.isFinite(m)){var g=w;if(g.copy(e).scale(m),b<i)return g.to(r);var _=a.x,k=a.y,j=a.z,x=T;x.set(g.x*_*2,g.y*k*2,g.z*j*2);var E,P,S,A,I=(1-m)*e.len()/(.5*x.len()),M=0;do{var L=(E=1/(1+(I-=M)*_))*E,R=(P=1/(1+I*k))*P,N=(S=1/(1+I*j))*S,D=L*E,C=R*P,B=N*S,U=p*D*_+y*C*k+v*B*j,V=-2*U;M=(A=p*L+y*R+v*N-1)/V}while(Math.abs(A)>s.a.EPSILON12);return O.scale([E,P,S]).to(r)}}(e,this,t)}},{key:"scaleToGeocentricSurface",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];N.from(e);var r=N.x,n=N.y,a=N.z,i=this.oneOverRadiiSquared,o=1/Math.sqrt(r*r*i.x+n*n*i.y+a*a*i.z);return N.multiplyScalar(o).to(t)}},{key:"transformPositionToScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return N.from(e).scale(this.oneOverRadii).to(t)}},{key:"transformPositionFromScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return N.from(e).scale(this.radii).to(t)}},{key:"getSurfaceNormalIntersectionWithZAxis",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0];Object(u.a)(Object(f.j)(this.radii.x,this.radii.y,s.a.EPSILON15)),Object(u.a)(this.radii.z>0),N.from(e);var n=N.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(n)>=this.radii.z-t))return N.set(0,0,n).to(r)}}]),e}()},function(e,t,r){"use strict";(function(e){function n(){var t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){var r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(57))},function(e,t,r){"use strict";r.d(t,"a",(function(){return D}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(29),c=r(3),f=r(20),l=r(1),d=r(22),h=r(10),p=r(19);function y(){var e=new l.a(4);return l.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function v(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function b(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=r[0],s=r[1],c=r[2],f=r[3];return e[0]=n*f+o*u+a*c-i*s,e[1]=a*f+o*s+i*u-n*c,e[2]=i*f+o*c+n*s-a*u,e[3]=o*f-n*u-a*s-i*c,e}function m(e,t,r,n){var a,i,o,u,s,c=t[0],f=t[1],d=t[2],h=t[3],p=r[0],y=r[1],v=r[2],b=r[3];return(i=c*p+f*y+d*v+h*b)<0&&(i=-i,p=-p,y=-y,v=-v,b=-b),1-i>l.b?(a=Math.acos(i),o=Math.sin(a),u=Math.sin((1-n)*a)/o,s=Math.sin(n*a)/o):(u=1-n,s=n),e[0]=u*c+s*p,e[1]=u*f+s*y,e[2]=u*d+s*v,e[3]=u*h+s*b,e}function g(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+a]+t[3*a+i])*r,e[o]=(t[3*o+a]+t[3*a+o])*r}return e}p.b,p.g,p.c,p.l;var O,w,T,_,k,j,x=p.a,E=p.k,P=p.d,S=p.i,A=p.h,I=p.m,M=p.j,L=(p.f,p.e,O=h.b(),w=h.e(1,0,0),T=h.e(0,1,0),function(e,t,r){var n=h.d(t,r);return n<-.999999?(h.c(O,w,t),h.f(O)<1e-6&&h.c(O,T,t),h.h(O,O),v(e,O,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(h.c(O,t,r),e[0]=O[0],e[1]=O[1],e[2]=O[2],e[3]=1+n,M(e,e))});_=y(),k=y(),j=d.a();function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var N=[0,0,0,1],D=function(e){Object(i.a)(r,e);var t=R(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(n.a)(this,r),e=t.call(this,-0,-0,-0,-0),Array.isArray(a)&&1===arguments.length?e.copy(a):e.set(a,i,o,u),e}return Object(a.a)(r,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:"fromMatrix3",value:function(e){return g(this,e),this.check()}},{key:"identity",value:function(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}},{key:"fromAxisRotation",value:function(e,t){return v(this,e,t),this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"len",value:function(){return A(this)}},{key:"lengthSquared",value:function(){return I(this)}},{key:"dot",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return P(this,e)}},{key:"rotationTo",value:function(e,t){return L(this,e,t),this.check()}},{key:"add",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return x(this,this,e),this.check()}},{key:"calculateW",value:function(){var e,t,r,n,a;return e=this,r=(t=this)[0],n=t[1],a=t[2],e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),this.check()}},{key:"conjugate",value:function(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}},{key:"invert",value:function(){var e,t,r,n,a,i,o,u;return e=this,r=(t=this)[0],n=t[1],a=t[2],i=t[3],u=(o=r*r+n*n+a*a+i*i)?1/o:0,e[0]=-r*u,e[1]=-n*u,e[2]=-a*u,e[3]=i*u,this.check()}},{key:"lerp",value:function(e,t,r){return S(this,e,t,r),this.check()}},{key:"multiplyRight",value:function(e,t){return Object(f.a)(!t),b(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e,t){return Object(f.a)(!t),b(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return function(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s+o*u,e[1]=a*s+i*u,e[2]=i*s-a*u,e[3]=o*s-n*u}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s-i*u,e[1]=a*s+o*u,e[2]=i*s+n*u,e[3]=o*s-a*u}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s+a*u,e[1]=a*s-n*u,e[2]=i*s+o*u,e[3]=o*s-i*u}(this,this,e),this.check()}},{key:"scale",value:function(e){return E(this,this,e),this.check()}},{key:"slerp",value:function(e,t,r){switch(arguments.length){case 1:var n=arguments[0],a=n.start;e=void 0===a?N:a,t=n.target,r=n.ratio;break;case 2:var i=Array.prototype.slice.call(arguments);t=i[0],r=i[1],e=this}return m(this,e,t,r),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return p.o(t,e,this),Object(c.b)(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e,t){return this.multiplyLeft(e,t)}},{key:"multiply",value:function(e,t){return this.multiplyRight(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(c.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(c.a)(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(c.a)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(c.a)(e)}}]),r}(s.a)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||f||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parse=y;var i=a(r(4)),o=a(r(5)),u=r(7),s=r(32),c=r(26),f=r(78),l=r(79),d=n(r(178)),h=r(47),p=r(59);function y(e,t,r,n){return v.apply(this,arguments)}function v(){return(v=(0,o.default)(i.default.mark((function e(t,r,n,a){var o,f,d,v;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,u.assert)(!a||"string"!=typeof a,"parse no longer accepts final url"),!r||Array.isArray(r)||(0,s.isLoaderObject)(r)||(a=n,n=r,r=null),e.next=4,t;case 4:return t=e.sent,n=n||{},o=(0,h.getResourceUrlAndType)(t),f=o.url,d=(0,l.getLoaders)(r,a),e.next=10,(0,p.selectLoader)(t,d,n);case 10:if(v=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:return n=(0,c.normalizeOptions)(n,v,d,f),a=(0,l.getLoaderContext)({url:f,parse:y,loaders:d},n,a),e.next=17,b(v,t,n,a);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){return m.apply(this,arguments)}function m(){return(m=(0,o.default)(i.default.mark((function e(t,r,n,a){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,u.validateLoaderVersion)(t),e.next=3,(0,f.getArrayBufferOrStringFromData)(r,t);case 3:if(r=e.sent,!t.parseTextSync||"string"!=typeof r){e.next=7;break}return n.dataType="text",e.abrupt("return",t.parseTextSync(r,n,a,t));case 7:if(!(0,d.canParseWithWorker)(t,r,n,a)){e.next=11;break}return e.next=10,(0,d.default)(t,r,n,a);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!=typeof r){e.next=15;break}return e.next=14,t.parseText(r,n,a,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(r,n,a,t);case 18:return e.abrupt("return",e.sent);case 19:return(0,u.assert)(!t.parseSync),e.abrupt("return",(0,u.assert)(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.selectLoader=function(e){return O.apply(this,arguments)},t.selectLoaderSync=w;var a=n(r(4)),i=n(r(11)),o=n(r(18)),u=n(r(37)),s=n(r(5)),c=r(7),f=r(32),l=r(47),d=r(112),h=r(114),p=r(25);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=/\.([^.]+)$/;function O(){return(O=(0,s.default)(a.default.mark((function e(t){var r,n,i,o,u=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:[],n=u.length>2&&void 0!==u[2]?u[2]:{},i=u.length>3&&void 0!==u[3]?u[3]:{},!(o=w(t,r,v(v({},n),{},{nothrow:!0}),i))){e.next=6;break}return e.abrupt("return",o);case 6:if(!(0,p.isBlob)(t)){e.next=11;break}return e.next=9,(0,h.readFileSlice)(t,0,10);case 9:t=e.sent,o=w(t,r,n,i);case 11:if(o||n.nothrow){e.next=13;break}throw new Error(T(t));case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&!Array.isArray(t))return(0,f.normalizeLoader)(t);_(t=[].concat((0,u.default)(t||[]),(0,u.default)((0,d.getRegisteredLoaders)())));var a=(0,l.getResourceUrlAndType)(e),i=a.url,o=a.type,s=k(t,i||n.url);if(!(s=(s=s||j(t,o))||x(t,e))&&!r.nothrow)throw new Error(T(e));return s}function T(e){var t=(0,l.getResourceUrlAndType)(e),r=t.url,n=t.type,a="No valid loader found";return e&&(a+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return S(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return S(e,r,t)}return""}(e),'", contentType: "').concat(n,'"')),r&&(a+=" url: ".concat(r)),a}function _(e){var t,r=b(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;(0,f.normalizeLoader)(n)}}catch(e){r.e(e)}finally{r.f()}}function k(e,t){var r=t&&t.match(g),n=r&&r[1];return n&&function(e,t){t=t.toLowerCase();var r,n=b(e);try{for(n.s();!(r=n.n()).done;){var a,i=r.value,o=b(i.extensions);try{for(o.s();!(a=o.n()).done;){if(a.value.toLowerCase()===t)return i}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return null}(e,n)}function j(e,t){var r,n=b(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(a.mimeTypes&&a.mimeTypes.includes(t))return a;if(t==="application/x.".concat(a.id))return a}}catch(e){n.e(e)}finally{n.f()}return null}function x(e,t){if(!t)return null;var r,n=b(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;if("string"==typeof t){if(E(t,a))return a}else if(ArrayBuffer.isView(t)){if(P(t.buffer,t.byteOffset,a))return a}else if(t instanceof ArrayBuffer){if(P(t,0,a))return a}}}catch(e){n.e(e)}finally{n.f()}return null}function E(e,t){return t.testText&&t.testText(e)}function P(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((function(n){return function(e,t,r,n){if(n instanceof ArrayBuffer)return(0,c.compareArrayBuffers)(n,e,n.byteLength);switch((0,o.default)(n)){case"function":return n(e,r);case"string":var a=S(e,t,n.length);return n===a;default:return!1}}(e,t,r,n)}))}function S(e,t,r){if(e.byteLength<t+r)return"";for(var n=new DataView(e),a="",i=0;i<r;i++)a+=String.fromCharCode(n.getUint8(t+i));return a}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_OPTIONS=void 0;var a=n(r(11)),i=n(r(13)),o=n(r(14)),u=n(r(193)),s=r(48),c=r(7);function f(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2};t.DEFAULT_OPTIONS=p;var y=function(){function e(t){(0,i.default)(this,e),this.options=h(h({},p),t),this._traversalStack=new u.default,this._emptyTraversalStack=new u.default,this._frameNumber=null,this.root=null,this.selectedTiles={},this.requestedTiles={},this.emptyTiles={}}return(0,o.default)(e,[{key:"traverse",value:function(e,t,r){this.root=e,this.options=h(h({},this.options),r),this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}},{key:"reset",value:function(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}},{key:"executeTraversal",value:function(e,t){var r=this._traversalStack;for(r.push(e);r.length>0;){var n=r.pop(),a=!1;this.canTraverse(n,t)&&(this.updateChildTiles(n,t),a=this.updateAndPushChildren(n,t,r));var i=n.parent,o=Boolean(!i||i._shouldRefine),u=!a;n.hasRenderContent?n.refine===s.TILE_REFINEMENT.ADD?(this.loadTile(n,t),this.selectTile(n,t)):n.refine===s.TILE_REFINEMENT.REPLACE&&(this.loadTile(n,t),u&&this.selectTile(n,t)):(this.emptyTiles[n.id]=n,this.loadTile(n,t),u&&this.selectTile(n,t)),this.touchTile(n,t),n._shouldRefine=a&&o}this.options.onTraversalEnd&&this.options.onTraversalEnd(t)}},{key:"updateChildTiles",value:function(e,t){var r,n=f(e.children);try{for(n.s();!(r=n.n()).done;){var a=r.value;this.updateTile(a,t)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"updateAndPushChildren",value:function(e,t,r){var n=this.options,a=n.loadSiblings,i=n.skipLevelOfDetail,o=e.children;o.sort(this.compareDistanceToCamera);var u,c=!i&&e.refine===s.TILE_REFINEMENT.REPLACE&&e.hasRenderContent,l=!1,d=f(o);try{for(d.s();!(u=d.n()).done;){var h=u.value;if(h.isVisibleAndInRequestVolume?(r.find(h)&&r.delete(h),r.push(h),l=!0):(c||a)&&(this.loadTile(h,t),this.touchTile(h,t)),c){var p=void 0;if(!(p=!!h._inRequestVolume&&(h.hasRenderContent?h.contentAvailable:this.executeEmptyTraversal(h,t))))return p}}}catch(e){d.e(e)}finally{d.f()}return l}},{key:"updateTile",value:function(e,t){this.updateTileVisibility(e,t)}},{key:"selectTile",value:function(e,t){this.shouldSelectTile(e,t)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}},{key:"loadTile",value:function(e,t){this.shouldLoadTile(e,t)&&(e._requestedFrame=t.frameNumber,e._priority=this.getPriority(e),this.requestedTiles[e.id]=e)}},{key:"touchTile",value:function(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}},{key:"canTraverse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(!n&&!e.isVisibleAndInRequestVolume)&&(!!e.hasChildren&&(e.hasTilesetContent?!e.contentExpired:this.shouldRefine(e,t,r)))}},{key:"shouldLoadTile",value:function(e,t){return e.hasUnloadedContent||e.contentExpired}},{key:"shouldSelectTile",value:function(e,t){return e.contentAvailable&&!this.options.skipLevelOfDetail}},{key:"shouldRefine",value:function(e,t,r){var n=e._screenSpaceError;return r&&(n=e.getScreenSpaceError(t,!0)),n>this.options.maximumScreenSpaceError}},{key:"updateTileVisibility",value:function(e,t){e.updateVisibility(t)}},{key:"compareDistanceToCamera",value:function(e,t){return e._distanceToCamera-t._distanceToCamera}},{key:"getPriority",value:function(e){var t=this.options;switch(e.refine){case s.TILE_REFINEMENT.ADD:return e._distanceToCamera;case s.TILE_REFINEMENT.REPLACE:var r=e.parent,n=r&&(!t.skipLevelOfDetail||0===e._screenSpaceError||r.hasTilesetContent)?r._screenSpaceError:e._screenSpaceError;return this.root._screenSpaceError-n;default:return(0,c.assert)(!1)}}},{key:"anyChildrenVisible",value:function(e,t){var r,n=!1,a=f(e.children);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.updateVisibility(t),n=n||i.isVisibleAndInRequestVolume}}catch(e){a.e(e)}finally{a.f()}return n}},{key:"executeEmptyTraversal",value:function(e,t){for(var r=!0,n=this._emptyTraversalStack;n.length>0;){var a=n.pop();this.updateTile(a,t),a.isVisibleAndInRequestVolume||(this.loadTile(a,t),this.touchTile(a,t));var i=!a.hasRenderContent&&this.canTraverse(a,t,!1,!0);if(i||a.contentAvailable||(r=!1),i){var o,u=f(a.children.filter((function(e){return e})));try{for(u.s();!(o=u.n()).done;){var s=o.value;n.find(s)&&n.delete(s),n.push(s)}}catch(e){u.e(e)}finally{u.f()}}}return r}}]),e}();t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error("math.gl assertion failed. ".concat(t))}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13)),i=n(r(14)),o=r(27),u=function(){function e(t,r){(0,a.default)(this,e),this.json=t,this.buffer=r,this.featuresLength=0,this._cachedTypedArrays={}}return(0,i.default)(e,[{key:"getExtension",value:function(e){return this.json.extensions&&this.json.extensions[e]}},{key:"hasProperty",value:function(e){return Boolean(this.json[e])}},{key:"getGlobalProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.GL.UNSIGNED_INT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.json[e];return n&&Number.isFinite(n.byteOffset)?this._getTypedArrayFromBinary(e,t,r,1,n.byteOffset):n}},{key:"getPropertyArray",value:function(e,t,r){var n=this.json[e];return n&&Number.isFinite(n.byteOffset)?("componentType"in n&&(t=o.GLType.fromName(n.componentType)),this._getTypedArrayFromBinary(e,t,r,this.featuresLength,n.byteOffset)):this._getTypedArrayFromArray(e,t,n)}},{key:"getProperty",value:function(e,t,r,n,a){var i=this.json[e];if(!i)return i;var o=this.getPropertyArray(e,t,r);if(1===r)return o[n];for(var u=0;u<r;++u)a[u]=o[r*n+u];return a}},{key:"_getTypedArrayFromBinary",value:function(e,t,r,n,a){var i=this._cachedTypedArrays,u=i[e];return u||(u=o.GLType.createTypedArray(t,this.buffer.buffer,this.buffer.byteOffset+a,n*r),i[e]=u),u}},{key:"_getTypedArrayFromArray",value:function(e,t,r){var n=this._cachedTypedArrays,a=n[e];return a||(a=o.GLType.createTypedArray(t,r),n[e]=a),a}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTileHeaderSync=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new DataView(t);if(e.magic=n.getUint32(r,!0),r+=4,e.version=n.getUint32(r,!0),r+=4,e.byteLength=n.getUint32(r,!0),r+=4,1!==e.version)throw new Error("3D Tile Version ".concat(e.version," not supported"));return r}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return d.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=n(r(50)),u=r(130),s=r(65),c=n(r(131)),f=n(r(220)),l=n(r(221));function d(){return(d=(0,i.default)(a.default.mark((function e(t,r,n){var i,u,d,p,y;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(r=r||{}).image||{},u=i.type||"auto",d=(n||{}).url,p=h(u),e.t0=p,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,(0,f.default)(t,r,d);case 10:return y=e.sent,e.abrupt("break",21);case 12:return e.next=14,(0,c.default)(t,r,d);case 14:return y=e.sent,e.abrupt("break",21);case 16:return e.next=18,(0,l.default)(t,r);case 18:return y=e.sent,e.abrupt("break",21);case 20:(0,o.default)(!1);case 21:return"data"===u&&(y=(0,s.getImageData)(y)),e.abrupt("return",y);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){switch(e){case"auto":case"data":return(0,u.getDefaultImageType)();default:return(0,u.isImageTypeSupported)(e),e}}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isImage=function(e){return Boolean(u(e))},t.deleteImage=function(e){switch(o(e)){case"imagebitmap":e.close()}},t.getImageType=o,t.getImageSize=t.getImageData=function(e){switch(o(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),r=t.getContext("2d");if(r)return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:return(0,i.default)(!1)}};var a=n(r(18)),i=n(r(50));function o(e){var t=u(e);if(!t)throw new Error("Not an image");return t}function u(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"===(0,a.default)(e)&&e.data&&e.width&&e.height?"data":null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBinaryImageMetadata=function(e){var t=a(e);return function(e){var t=a(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=a(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var r=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),n=r.tableMarkers,i=r.sofMarkers,o=2;for(;o+9<t.byteLength;){var u=t.getUint16(o,!1);if(i.has(u))return{mimeType:"image/jpeg",height:t.getUint16(o+5,!1),width:t.getUint16(o+7,!1)};if(!n.has(u))return null;o+=2,o+=t.getUint16(o,!1)}return null}(t)||function(e){var t=a(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||n(t)},t.getBmpMetadata=n;function n(e){var t=a(e);return t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength?{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}:null}function a(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getAccessorTypeFromSize=function(e){return i[e-1]||i[0]},t.getComponentTypeFromArray=function(e){var t=o.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t},t.getAccessorArrayTypeAndLength=function(e,t){var r=c[e.componentType],n=u[e.type],i=s[e.componentType],o=e.count*n,f=e.count*n*i;return(0,a.default)(f>=0&&f<=t.byteLength),{ArrayType:r,length:o,byteLength:f}},t.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY=t.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE=t.ATTRIBUTE_TYPE_TO_COMPONENTS=void 0;var a=n(r(40)),i=["SCALAR","VEC2","VEC3","VEC4"],o=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),u={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};t.ATTRIBUTE_TYPE_TO_COMPONENTS=u;var s={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};t.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE=s;var c={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};t.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode3DTileHeader=function(e,t,r){if(!t)return r+12;var a=e.magic,i=e.version,o=void 0===i?1:i,u=e.byteLength,s=void 0===u?12:u;return(0,n.assert)(Array.isArray(a)&&Number.isFinite(o)&&Number.isFinite(s)),t.setUint8(r+0,a[0]),t.setUint8(r+1,a[1]),t.setUint8(r+2,a[2]),t.setUint8(r+3,a[3]),t.setUint32(r+4,o,!0),t.setUint32(r+8,s,!0),r+=12},t.encode3DTileByteLength=function(e,t,r){if(!e)return;e.setUint32(t+8,r,!0)};var n=r(7)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(55);function a(e,t){if(e){if("string"==typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(29),c=r(3),f=r(2);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var d=function(e){Object(i.a)(r,e);var t=l(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"toString",value:function(){var e="[";if(f.f.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(var n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,r){return this[t*this.RANK+e]=Object(c.a)(r),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=e*this.RANK,n=0;n<this.RANK;++n)t[n]=this[r+n];return t}},{key:"setColumn",value:function(e,t){for(var r=e*this.RANK,n=0;n<this.RANK;++n)this[r+n]=t[n];return this}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(42);function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function i(e,t,r){return(i=a()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return r&&Object(n.a)(i,r.prototype),i}).apply(null,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferList=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,o=n||new Set;if(t){if(i(t))o.add(t);else if(i(t.buffer))o.add(t.buffer);else if(ArrayBuffer.isView(t));else if(r&&"object"===(0,a.default)(t))for(var u in t)e(t[u],r,o)}else;return void 0===n?Array.from(o):[]};var a=n(r(18));function i(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=function(e){u.toArrayBuffer&&(e=u.toArrayBuffer(e));if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===(0,i.default)(e)&&e._toArrayBuffer)return e._toArrayBuffer();return(0,o.default)(!1)},t.compareArrayBuffers=function(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),a=new Uint8Array(t),i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0},t.concatenateArrayBuffers=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),i=a.reduce((function(e,t){return e+t.byteLength}),0),o=new Uint8Array(i),u=0,c=s(a);try{for(c.s();!(n=c.n()).done;){var f=n.value;o.set(f,u),u+=f.byteLength}}catch(e){c.e(e)}finally{c.f()}return o.buffer},t.sliceArrayBuffer=function(e,t,r){var n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer};var i=a(r(18)),o=a(r(30)),u=n(r(95));function s(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(11)),o=n(r(5)),u=n(r(18)),s=n(r(13)),c=n(r(14)),f=r(12),l=r(87),d=r(75),h=r(7),p=r(48),y=r(118),v=r(189),b=r(119);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=new f.Vector3;var w=function(){function e(t,r,n){(0,s.default)(this,e),(0,h.assert)("object"===(0,u.default)(r)),this.header=r,this.tileset=t,this.id=r.id,this.url=r.url,this.parent=n,this.refine=this._getRefine(r.refine),this.type=r.type,this.contentUrl=r.contentUrl,this.lodMetricType=null,this.lodMetricValue=null,this.boundingVolume=null,this.content=null,this.contentState=p.TILE_CONTENT_STATE.UNLOADED,this.gpuMemoryUsageInBytes=0,this.children=[],this.depth=0,this._cacheNode=null,this._frameNumber=null,this._cacheNode=null,this._initializeLodMetric(r),this._initializeTransforms(r),this._initializeBoundingVolumes(r),this._initializeContent(r),this._initializeRenderingState(r),this._lodJudge=null,this._expireDate=null,this._expiredContent=null,this._getPriority=this._getPriority.bind(this),Object.seal(this)}var t;return(0,c.default)(e,[{key:"destroy",value:function(){this.header=null}},{key:"isDestroyed",value:function(){return null===this.header}},{key:"getScreenSpaceError",value:function(e,t){switch(this.tileset.type){case p.TILESET_TYPE.I3S:return(0,b.getI3ScreenSize)(this,e);case p.TILESET_TYPE.TILES3D:return(0,v.getTiles3DScreenSpaceError)(this,e,t);default:return console.error("Unsupported tileset type"),null}}},{key:"_getPriority",value:function(){return this.isVisible?this.contentState===p.TILE_CONTENT_STATE.UNLOADED?-1:Math.max(1e7-this._priority,0)||0:-1}},{key:"loadContent",value:(t=(0,o.default)(a.default.mark((function e(){var t,r,n,o,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.content){e.next=4;break}return e.abrupt("return",!0);case 4:return this.contentExpired&&(this._expireDate=null),this.contentState=p.TILE_CONTENT_STATE.LOADING,e.next=9,this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority);case 9:if(t=e.sent){e.next=13;break}return this.contentState=p.TILE_CONTENT_STATE.UNLOADED,e.abrupt("return",!1);case 13:return e.prev=13,r=this.tileset.getTileUrl(this.contentUrl),n=this.tileset.fetchOptions,o=this.tileset.loader,u=g(g({},n),{},(0,i.default)({},o.id,{tile:this.header,tileset:this.tileset.tileset,isTileset:"auto",isTileHeader:!1,assetGltfUpAxis:this.tileset.asset.gltfUpAxis})),e.next=20,(0,d.load)(r,o,u);case 20:return this.content=e.sent,this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this,h.path.dirname(this.contentUrl)),this.contentState=p.TILE_CONTENT_STATE.READY,this._onContentLoaded(),e.abrupt("return",!0);case 27:throw e.prev=27,e.t0=e.catch(13),this.contentState=p.TILE_CONTENT_STATE.FAILED,e.t0;case 31:return e.prev=31,t.done(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[13,27,31,34]])}))),function(){return t.apply(this,arguments)})},{key:"unloadContent",value:function(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.contentState=p.TILE_CONTENT_STATE.UNLOADED,!0}},{key:"updateVisibility",value:function(e){if(this._frameNumber!==e.frameNumber){var t=this.parent,r=t?t.computedTransform:this.tileset.modelMatrix,n=t?t._visibilityPlaneMask:l.CullingVolume.MASK_INDETERMINATE;this._updateTransform(r),this._distanceToCamera=this.distanceToTile(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,n),this._visible=this._visibilityPlaneMask!==l.CullingVolume.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._priority=this.lodMetricValue,this._frameNumber=e.frameNumber}}},{key:"visibility",value:function(e,t){var r=e.cullingVolume,n=this.boundingVolume;return r.computeVisibilityWithPlaneMask(n,t)}},{key:"contentVisibility",value:function(e){return!0}},{key:"distanceToTile",value:function(e){var t=this.boundingVolume;return Math.sqrt(Math.max(t.distanceSquaredTo(e.camera.position),0))}},{key:"cameraSpaceZDepth",value:function(e){var t=e.camera,r=this.boundingVolume;return O.subVectors(r.center,t.position),t.direction.dot(O)}},{key:"insideViewerRequestVolume",value:function(e){var t=this._viewerRequestVolume;return!t||0===t.distanceToCamera(e.camera.position)}},{key:"_initializeLodMetric",value:function(e){"lodMetricType"in e?this.lodMetricType=e.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in e?this.lodMetricValue=e.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}},{key:"_initializeTransforms",value:function(e){this.transform=e.transform?new f.Matrix4(e.transform):new f.Matrix4;var t=this.parent,r=this.tileset,n=t&&t.computedTransform?t.computedTransform.clone():r.modelMatrix.clone();this.computedTransform=new f.Matrix4(n).multiplyRight(this.transform);var a=t&&t._initialTransform?t._initialTransform.clone():new f.Matrix4;this._initialTransform=new f.Matrix4(a).multiplyRight(this.transform)}},{key:"_initializeBoundingVolumes",value:function(e){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(e)}},{key:"_initializeContent",value:function(e){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=p.TILE_CONTENT_STATE.UNLOADED,this.hasTilesetContent=!1,e.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}},{key:"_initializeRenderingState",value:function(e){this.depth=e.level,this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=l.CullingVolume.MASK_INDETERMINATE,this._visible=!1,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}},{key:"_getRefine",value:function(e){return e||this.parent&&this.parent.refine||p.TILE_REFINEMENT.REPLACE}},{key:"_isTileset",value:function(){return-1!==this.contentUrl.indexOf(".json")}},{key:"_onContentLoaded",value:function(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset.traverser.disableSkipLevelOfDetail=!0}this._isTileset()&&(this.hasTilesetContent=!0)}},{key:"_updateBoundingVolume",value:function(e){this.boundingVolume=(0,y.createBoundingVolume)(e.boundingVolume,this.computedTransform,this.boundingVolume);var t=e.content;t&&(t.boundingVolume&&(this._contentBoundingVolume=(0,y.createBoundingVolume)(t.boundingVolume,this.computedTransform,this._contentBoundingVolume)),e.viewerRequestVolume&&(this._viewerRequestVolume=(0,y.createBoundingVolume)(e.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}},{key:"_updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new f.Matrix4,t=e.clone().multiplyRight(this.transform),r=!t.equals(this.computedTransform);r&&(this.computedTransform=t,this._updateBoundingVolume(this.header))}},{key:"updateExpiration",value:function(){if(null!=this._expireDate&&this.contentReady&&!this.hasEmptyContent){var e=Date.now();Date.lessThan(this._expireDate,e)&&(this.contentState=p.TILE_CONTENT_STATE.EXPIRED,this._expiredContent=this.content)}}},{key:"selected",get:function(){return this._selectedFrame===this.tileset._frameNumber}},{key:"isVisible",get:function(){return this._visible}},{key:"isVisibleAndInRequestVolume",get:function(){return this._visible&&this._inRequestVolume}},{key:"hasRenderContent",get:function(){return!this.hasEmptyContent&&!this.hasTilesetContent}},{key:"hasChildren",get:function(){return this.children.length>0||this.header.children&&this.header.children.length>0}},{key:"contentReady",get:function(){return this.contentState===p.TILE_CONTENT_STATE.READY||this.hasEmptyContent}},{key:"contentAvailable",get:function(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}},{key:"hasUnloadedContent",get:function(){return this.hasRenderContent&&this.contentUnloaded}},{key:"contentUnloaded",get:function(){return this.contentState===p.TILE_CONTENT_STATE.UNLOADED}},{key:"contentExpired",get:function(){return this.contentState===p.TILE_CONTENT_STATE.EXPIRED}},{key:"contentFailed",get:function(){return this.contentState===p.TILE_CONTENT_STATE.FAILED}},{key:"extras",get:function(){return this.header.extras}}]),e}();t.default=w},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return a.fetchFile}}),Object.defineProperty(t,"readFileSync",{enumerable:!0,get:function(){return i.readFileSync}}),Object.defineProperty(t,"writeFile",{enumerable:!0,get:function(){return o.writeFile}}),Object.defineProperty(t,"writeFileSync",{enumerable:!0,get:function(){return o.writeFileSync}}),Object.defineProperty(t,"setLoaderOptions",{enumerable:!0,get:function(){return u.setLoaderOptions}}),Object.defineProperty(t,"registerLoaders",{enumerable:!0,get:function(){return s.registerLoaders}}),Object.defineProperty(t,"_unregisterLoaders",{enumerable:!0,get:function(){return s._unregisterLoaders}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return c.parse}}),Object.defineProperty(t,"parseSync",{enumerable:!0,get:function(){return f.parseSync}}),Object.defineProperty(t,"parseInBatches",{enumerable:!0,get:function(){return l.parseInBatches}}),Object.defineProperty(t,"selectLoader",{enumerable:!0,get:function(){return d.selectLoader}}),Object.defineProperty(t,"selectLoaderSync",{enumerable:!0,get:function(){return d.selectLoaderSync}}),Object.defineProperty(t,"load",{enumerable:!0,get:function(){return h.load}}),Object.defineProperty(t,"loadInBatches",{enumerable:!0,get:function(){return p.loadInBatches}}),Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return y.encode}}),Object.defineProperty(t,"encodeSync",{enumerable:!0,get:function(){return y.encodeSync}}),Object.defineProperty(t,"encodeInBatches",{enumerable:!0,get:function(){return y.encodeInBatches}}),Object.defineProperty(t,"encodeText",{enumerable:!0,get:function(){return y.encodeText}}),Object.defineProperty(t,"encodeURLtoURL",{enumerable:!0,get:function(){return y.encodeURLtoURL}}),Object.defineProperty(t,"save",{enumerable:!0,get:function(){return v.save}}),Object.defineProperty(t,"saveSync",{enumerable:!0,get:function(){return v.saveSync}}),Object.defineProperty(t,"makeIterator",{enumerable:!0,get:function(){return b.makeIterator}}),Object.defineProperty(t,"NullLoader",{enumerable:!0,get:function(){return m.NullLoader}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return g.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return g.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return g.resolvePath}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return g.RequestScheduler}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return g.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return g.isWorker}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return g.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return g.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return g.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return g.document}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return g.assert}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return g.forEach}}),Object.defineProperty(t,"concatenateChunksAsync",{enumerable:!0,get:function(){return g.concatenateChunksAsync}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return g.makeTextDecoderIterator}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return g.makeTextEncoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return g.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return g.makeNumberedLineIterator}}),Object.defineProperty(t,"_fetchProgress",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"_BrowserFileSystem",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"isPromise",{enumerable:!0,get:function(){return T.isPromise}}),Object.defineProperty(t,"isIterable",{enumerable:!0,get:function(){return T.isIterable}}),Object.defineProperty(t,"isAsyncIterable",{enumerable:!0,get:function(){return T.isAsyncIterable}}),Object.defineProperty(t,"isIterator",{enumerable:!0,get:function(){return T.isIterator}}),Object.defineProperty(t,"isResponse",{enumerable:!0,get:function(){return T.isResponse}}),Object.defineProperty(t,"isReadableStream",{enumerable:!0,get:function(){return T.isReadableStream}}),Object.defineProperty(t,"isWritableStream",{enumerable:!0,get:function(){return T.isWritableStream}}),r(166);var a=r(76),i=r(169),o=r(77),u=r(173),s=r(112),c=r(58),f=r(179),l=r(115),d=r(59),h=r(180),p=r(181),y=r(117),v=r(182),b=r(113),m=r(183),g=r(7),O=n(r(184)),w=n(r(185)),T=r(25)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFile=function(e){return c.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(7),u=r(111),s=r(168);function c(){return(c=(0,i.default)(a.default.mark((function e(t){var r,n,i=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},"string"==typeof t){e.next=5;break}return e.next=4,(0,u.makeResponse)(t);case 4:return e.abrupt("return",e.sent);case 5:return t=(0,o.resolvePath)(t),e.next=8,fetch(t,r);case 8:if((n=e.sent).ok||!r.throws){e.next=15;break}return e.t0=Error,e.next=13,(0,s.getErrorMessageFromResponse)(n);case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(23);Object.defineProperty(t,"__esModule",{value:!0}),t.writeFile=function(e,t,r){if(e=(0,a.resolvePath)(e),!a.isBrowser&&i.writeFile)return i.writeFile(e,t,r);return(0,a.assert)(!1)},t.writeFileSync=function(e,t,r){if(e=(0,a.resolvePath)(e),!a.isBrowser&&i.writeFileSync)return i.writeFileSync(e,t,r);return(0,a.assert)(!1)};var a=r(7),i=n(r(172))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayBufferOrStringFromDataSync=l,t.getArrayBufferOrStringFromData=function(e,t){return d.apply(this,arguments)},t.getAsyncIteratorFromData=function(e){return h.apply(this,arguments)},t.getReadableStream=function(e){return y.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(7),u=r(25),s=r(113),c=r(111),f="Cannot convert supplied data type";function l(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer){var r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)||(0,u.isBuffer)(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var n=e.buffer,a=e.byteLength||e.length;return 0===e.byteOffset&&a===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+a)),n}throw new Error(f)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,r){var n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!n){e.next=3;break}return e.abrupt("return",l(t,r));case 3:if(!(0,u.isBlob)(t)){e.next=7;break}return e.next=6,(0,c.makeResponse)(t);case 6:t=e.sent;case 7:if(!(0,u.isResponse)(t)){e.next=21;break}return i=t,e.next=11,(0,c.checkResponse)(i);case 11:if(!r.binary){e.next=17;break}return e.next=14,i.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,i.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if((0,u.isReadableStream)(t)&&(t=(0,s.makeIterator)(t)),!(0,u.isIterable)(t)&&!(0,u.isAsyncIterable)(t)){e.next=24;break}return e.abrupt("return",(0,o.concatenateChunksAsync)(t));case 24:throw new Error(f);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isIterator)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,u.isResponse)(t)){e.next=6;break}return e.next=5,(0,c.checkResponse)(t);case 5:return e.abrupt("return",(0,s.makeIterator)(t.body));case 6:if(!(0,u.isBlob)(t)&&!(0,u.isReadableStream)(t)){e.next=8;break}return e.abrupt("return",(0,s.makeIterator)(t));case 8:if(!(0,u.isAsyncIterable)(t)){e.next=10;break}return e.abrupt("return",t[Symbol.asyncIterator]());case 10:return e.abrupt("return",p(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){if(ArrayBuffer.isView(e))return a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buffer;case 2:case"end":return t.stop()}}),t)}))();if(e instanceof ArrayBuffer)return a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)}))();if((0,u.isIterator)(e))return e;if((0,u.isIterable)(e))return e[Symbol.iterator]();throw new Error(f)}function y(){return(y=(0,i.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isReadableStream)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,u.isResponse)(t)){e.next=4;break}return e.abrupt("return",t.body);case 4:return e.next=6,(0,c.makeResponse)(t);case 6:return r=e.sent,e.abrupt("return",r.body);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getLoaderContext=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r)return r;e=s({fetch:(0,o.getFetchFunction)(t||{},e)},e),Array.isArray(e.loaders)||(e.loaders=null);return e},t.getLoaders=function(e,t){if(!t&&e&&!Array.isArray(e))return e;var r;e&&(r=Array.isArray(e)?e:[e]);if(t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat((0,a.default)(r),(0,a.default)(n)):n}return r&&r.length?r:null};var a=n(r(37)),i=n(r(11)),o=r(26);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(37)),i=n(r(13)),o=n(r(14)),u=r(7),s=r(209),c=r(210);function f(e){return null!=e}var l=function(e,t){return e},d={HIERARCHY:!0,extensions:!0,extras:!0},h=function(){function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(var o in(0,i.default)(this,e),(0,u.assert)(n>=0),this.json=t||{},this.binary=r,this.featureCount=n,this._extensions=this.json&&this.json.extensions||{},this._properties={},this.json)d[o]||(this._properties[o]=this.json[o]);this._binaryProperties=this._initializeBinaryProperties(),a["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=(0,c.initializeHierarchy)(this,this.json,this.binary))}return(0,o.default)(e,[{key:"getExtension",value:function(e){return this.json&&this.json.extensions&&this.json.extensions[e]}},{key:"memorySizeInBytes",value:function(){return 0}},{key:"isClass",value:function(e,t){return this._checkBatchId(e),(0,u.assert)("string"==typeof t,t),!!this._hierarchy&&f((0,c.traverseHierarchy)(this._hierarchy,e,(function(e,r){var n=e.classIds[r];return e.classes[n].name===t})))}},{key:"isExactClass",value:function(e,t){return(0,u.assert)("string"==typeof t,t),this.getExactClassName(e)===t}},{key:"getExactClassName",value:function(e){if(this._checkBatchId(e),this._hierarchy){var t=this._hierarchy.classIds[e];return this._hierarchy.classes[t].name}}},{key:"hasProperty",value:function(e,t){return this._checkBatchId(e),(0,u.assert)("string"==typeof t,t),f(this._properties[t])||this._hasPropertyInHierarchy(e,t)}},{key:"getPropertyNames",value:function(e,t){var r;this._checkBatchId(e),(t=f(t)?t:[]).length=0;var n=Object.keys(this._properties);return(r=t).push.apply(r,(0,a.default)(n)),this._hierarchy&&this._getPropertyNamesInHierarchy(e,t),t}},{key:"getProperty",value:function(e,t){if(this._checkBatchId(e),(0,u.assert)("string"==typeof t,t),this._binaryProperties){var r=this._binaryProperties[t];if(f(r))return this._getBinaryProperty(r,e)}var n=this._properties[t];if(f(n))return l(n[e]);if(this._hierarchy){var a=this._getHierarchyProperty(e,t);if(f(a))return a}}},{key:"setProperty",value:function(e,t,r){var n=this.featureCount;if(this._checkBatchId(e),(0,u.assert)("string"==typeof t,t),this._binaryProperties){var a=this._binaryProperties[t];if(a)return void this._setBinaryProperty(a,e,r)}if(!this._hierarchy||!this._setHierarchyProperty(this,e,t,r)){var i=this._properties[t];f(i)||(this._properties[t]=new Array(n),i=this._properties[t]),i[e]=l(r)}}},{key:"_checkBatchId",value:function(e){if(!(e>=0&&e<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}},{key:"_getBinaryProperty",value:function(e,t){return e.unpack(e.typedArray,t)}},{key:"_setBinaryProperty",value:function(e,t,r){e.pack(r,e.typedArray,t)}},{key:"_initializeBinaryProperties",value:function(){var e=null;for(var t in this._properties){var r=this._properties[t],n=this._initializeBinaryProperty(t,r);n&&((e=e||{})[t]=n)}return e}},{key:"_initializeBinaryProperty",value:function(e,t){if("byteOffset"in t){var r=t;(0,u.assert)(this.binary,"Property ".concat(e," requires a batch table binary.")),(0,u.assert)(r.type,"Property ".concat(e," requires a type."));var n=(0,s.createTypedArrayFromAccessor)(r,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:n.values,componentCount:n.size,unpack:n.unpacker,pack:n.packer}}return null}},{key:"_hasPropertyInHierarchy",value:function(e,t){if(!this._hierarchy)return!1;var r=(0,c.traverseHierarchy)(this._hierarchy,e,(function(e,r){var n=e.classIds[r];return f(e.classes[n].instances[t])}));return f(r)}},{key:"_getPropertyNamesInHierarchy",value:function(e,t){(0,c.traverseHierarchy)(this._hierarchy,e,(function(e,r){var n=e.classIds[r],a=e.classes[n].instances;for(var i in a)a.hasOwnProperty(i)&&-1===t.indexOf(i)&&t.push(i)}))}},{key:"_getHierarchyProperty",value:function(e,t){var r=this;return(0,c.traverseHierarchy)(this._hierarchy,e,(function(e,n){var a=e.classIds[n],i=e.classes[a],o=e.classIndexes[n],u=i.instances[t];return f(u)?f(u.typedArray)?r._getBinaryProperty(u,o):l(u[o]):null}))}},{key:"_setHierarchyProperty",value:function(e,t,r,n){var a=this,i=(0,c.traverseHierarchy)(this._hierarchy,t,(function(e,i){var o=e.classIds[i],s=e.classes[o],c=e.classIndexes[i],d=s.instances[r];return!!f(d)&&((0,u.assert)(i===t,'Inherited property "'.concat(r,'" is read-only.')),f(d.typedArray)?a._setBinaryProperty(d,c,n):d[c]=l(n),!0)}));return f(i)}}]),e}();t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTileTablesHeaderSync=function(e,t,r){var n=new DataView(t);return e.header=e.header||{},e.header.featureTableJsonByteLength=n.getUint32(r,!0),r+=4,e.header.featureTableBinaryByteLength=n.getUint32(r,!0),r+=4,e.header.batchTableJsonByteLength=n.getUint32(r,!0),r+=4,e.header.batchTableBinaryByteLength=n.getUint32(r,!0),r+=4},t.parse3DTileTablesSync=function(e,t,r,a){return r=function(e,t,r,a){var i=e.header,o=i.featureTableJsonByteLength,u=i.featureTableBinaryByteLength;if(e.featureTableJson={BATCH_LENGTH:0},o>0){var s=(0,n.getStringFromArrayBuffer)(t,r,o);e.featureTableJson=JSON.parse(s)}return r+=o,e.featureTableBinary=new Uint8Array(t,r,u),r+=u}(e,t,r),r=function(e,t,r,a){var i=e.header,o=i.batchTableJsonByteLength,u=i.batchTableBinaryByteLength;if(o>0){var s=(0,n.getStringFromArrayBuffer)(t,r,o);e.batchTableJson=JSON.parse(s),r+=o,u>0&&(e.batchTableBinary=new Uint8Array(t,r,u),e.batchTableBinary=new Uint8Array(e.batchTableBinary),r+=u)}return r}(e,t,r)};var n=r(123)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedImageType=function(){return(0,u.getDefaultImageType)()},Object.defineProperty(t,"ImageLoader",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"HTMLImageLoader",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ImageWriter",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getBinaryImageMetadata",{enumerable:!0,get:function(){return o.getBinaryImageMetadata}}),Object.defineProperty(t,"isImageTypeSupported",{enumerable:!0,get:function(){return u.isImageTypeSupported}}),Object.defineProperty(t,"getDefaultImageType",{enumerable:!0,get:function(){return u.getDefaultImageType}}),Object.defineProperty(t,"isImage",{enumerable:!0,get:function(){return s.isImage}}),Object.defineProperty(t,"getImageType",{enumerable:!0,get:function(){return s.getImageType}}),Object.defineProperty(t,"getImageSize",{enumerable:!0,get:function(){return s.getImageSize}}),Object.defineProperty(t,"getImageData",{enumerable:!0,get:function(){return s.getImageData}}),Object.defineProperty(t,"loadImage",{enumerable:!0,get:function(){return c.loadImage}}),Object.defineProperty(t,"loadImageArray",{enumerable:!0,get:function(){return f.loadImageArray}}),Object.defineProperty(t,"loadImageCube",{enumerable:!0,get:function(){return l.loadImageCube}}),Object.defineProperty(t,"isBinaryImage",{enumerable:!0,get:function(){return d.isBinaryImage}}),Object.defineProperty(t,"getBinaryImageMIMEType",{enumerable:!0,get:function(){return d.getBinaryImageMIMEType}}),Object.defineProperty(t,"getBinaryImageSize",{enumerable:!0,get:function(){return d.getBinaryImageSize}});var a=n(r(219)),i=n(r(222)),o=r(66),u=r(130),s=r(65),c=r(84),f=r(226),l=r(227),d=r(228)},function(e,t,r){"use strict";(function(e,n){var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i=a(r(18)),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},u=o.self||o.window||o.global;t.self=u;var s=o.window||o.self||o.global;t.window=s;var c=o.global||o.self||o.window;t.global=c;var f=o.document||{};t.document=f;var l="object"!==(void 0===n?"undefined":(0,i.default)(n))||"[object process]"!==String(n)||n.browser;t.isBrowser=l;var d="function"==typeof importScripts;t.isWorker=d;var h=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/),p=h&&parseFloat(h[1])||0;t.nodeVersion=p}).call(this,r(56),r(57))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=function(e){return p.apply(this,arguments)},t.getImageUrls=y,t.getMipLevels=g;var a=n(r(11)),i=n(r(4)),o=n(r(5)),u=n(r(50)),s=n(r(64)),c=r(65),f=r(224),l=r(85);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(){return(p=(0,o.default)(i.default.mark((function e(t){var r,n,a=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,y(t,r);case 3:return n=e.sent,e.next=6,(0,l.deepLoad)(n,s.default,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return v.apply(this,arguments)}function v(){return(v=(0,o.default)(i.default.mark((function e(t,r){var n,a,o=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:{},0===(a=r&&r.image&&r.image.mipLevels||0)){e.next=8;break}return e.next=5,b(t,a,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=(0,f.generateUrl)(t,r,n);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){return m.apply(this,arguments)}function m(){return(m=(0,o.default)(i.default.mark((function e(t,r,n,a){var o,d,p,y,v,b,m,O;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],"auto"!==r){e.next=9;break}return d=(0,f.generateUrl)(t,n,h(h({},a),{},{lod:0})),e.next=5,(0,l.shallowLoad)(d,s.default,n);case 5:p=e.sent,y=(0,c.getImageSize)(p),v=y.width,b=y.height,r=g({width:v,height:b}),o.push(d);case 9:for((0,u.default)(r>0),m=o.length;m<r;++m)O=(0,f.generateUrl)(t,n,h(h({},a),{},{lod:m})),o.push(O);return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.deepLoad=function(e,t,r){return u.apply(this,arguments)},t.shallowLoad=s;var a=n(r(4)),i=n(r(5)),o=r(225);function u(){return(u=(0,i.default)(a.default.mark((function e(t,r,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.asyncDeepMap)(t,(function(e){return s(e,r,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,r){return c.apply(this,arguments)}function c(){return(c=(0,i.default)(a.default.mark((function e(t,r,n){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return o=e.sent,e.next=8,r(o,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=e.magic,i=void 0===a?1179937895:a,o=e.version,u=void 0===o?2:o,s=e.json,c=void 0===s?{}:s,f=e.binary,l=r;t&&(t.setUint32(r+0,i,!0),t.setUint32(r+4,u,!0),t.setUint32(r+8,0,!0));var d=r+8,h=r+=12;t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,1313821514,!0));r+=8;var p=JSON.stringify(c);if(r=(0,n.copyPaddedStringToDataView)(t,r,p),t){var y=r-h-8;t.setUint32(h+0,y,!0)}if(f){var v=r;if(t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,5130562,!0)),r+=8,r=(0,n.copyPaddedArrayBufferToDataView)(t,r,f),t){var b=r-v-8;t.setUint32(v+0,b,!0)}}if(t){var m=r-l;t.setUint32(d,m,!0)}return r};var n=r(7)},function(e,t,r){"use strict";r.r(t),r.d(t,"INTERSECTION",(function(){return n})),r.d(t,"AxisAlignedBoundingBox",(function(){return c})),r.d(t,"BoundingSphere",(function(){return h})),r.d(t,"OrientedBoundingBox",(function(){return D})),r.d(t,"CullingVolume",(function(){return W})),r.d(t,"Plane",(function(){return F})),r.d(t,"_PerspectiveOffCenterFrustum",(function(){return ne})),r.d(t,"_PerspectiveFrustum",(function(){return ue})),r.d(t,"makeBoundingSphereFromPoints",(function(){return _e})),r.d(t,"makeAxisAlignedBoundingBoxFromPoints",(function(){return Ye})),r.d(t,"makeOrientedBoundingBoxFromPoints",(function(){return He})),r.d(t,"computeEigenDecomposition",(function(){return Ae})),r.d(t,"Intersect",(function(){return n})),r.d(t,"INTERSECT",(function(){return n}));var n=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),a=r(8),i=r(6),o=r(34),u=new o.a,s=new o.a,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(a.a)(this,e),n=n||u.copy(t).add(r).scale(.5),this.center=new o.a(n),this.halfDiagonal=new o.a(r).subtract(this.center),this.minimum=new o.a(t),this.maximum=new o.a(r)}return Object(i.a)(e,[{key:"clone",value:function(){return new e(this.minimum,this.maximum,this.center)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}},{key:"intersectPlane",value:function(e){var t=this.halfDiagonal,r=s.from(e.normal),a=t.x*Math.abs(r.x)+t.y*Math.abs(r.y)+t.z*Math.abs(r.z),i=this.center.dot(r)+e.distance;return i-a>0?n.INSIDE:i+a<0?n.OUTSIDE:n.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t,r=u.from(e).subtract(this.center),n=this.halfDiagonal,a=0;return(t=Math.abs(r.x)-n.x)>0&&(a+=t*t),(t=Math.abs(r.y)-n.y)>0&&(a+=t*t),(t=Math.abs(r.z)-n.z)>0&&(a+=t*t),a}}]),e}(),f=r(17),l=new o.a,d=new o.a,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(a.a)(this,e),this.radius=-0,this.center=new o.a,this.fromCenterRadius(t,r)}return Object(i.a)(e,[{key:"fromCenterRadius",value:function(e,t){return this.center.from(e),this.radius=t,this}},{key:"fromCornerPoints",value:function(e,t){return t=l.from(t),this.center=(new o.a).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}},{key:"clone",value:function(){return new e(this.center,this.radius)}},{key:"union",value:function(e){var t=this.center,r=this.radius,n=e.center,a=e.radius,i=l.copy(n).subtract(t),o=i.magnitude();if(r>=o+a)return this.clone();if(a>=o+r)return e.clone();var u=.5*(r+o+a);return d.copy(i).scale((-r+u)/o).add(t),this.center.copy(d),this.radius=u,this}},{key:"expand",value:function(e){var t=(e=l.from(e)).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}},{key:"intersectPlane",value:function(e){var t=this.center,r=this.radius,a=e.normal.dot(t)+e.distance;return a<-r?n.OUTSIDE:a<r?n.INTERSECTING:n.INSIDE}},{key:"transform",value:function(e){this.center.transform(e);var t=f.d(l,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}},{key:"distanceSquaredTo",value:function(e){return(e=l.from(e)).subtract(this.center).lengthSquared()-this.radius*this.radius}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}}]),e}(),p=r(46),y=r(104),v=r(53),b=new o.a,m=new o.a,g=new o.a,O=new o.a,w=new o.a,T=new o.a,_=new o.a,k=new o.a,j=new o.a,x=new o.a,E=0,P=1,S=2,A=3,I=4,M=5,L=6,R=7,N=8,D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];Object(a.a)(this,e),this.center=(new o.a).from(t),this.halfAxes=new y.a(r)}return Object(i.a)(e,[{key:"fromCenterHalfSizeQuaternion",value:function(e,t,r){var n=new v.a(r),a=(new y.a).fromQuaternion(n);return a[0]=a[0]*t[0],a[1]=a[1]*t[0],a[2]=a[2]*t[0],a[3]=a[3]*t[1],a[4]=a[4]*t[1],a[5]=a[5]*t[1],a[6]=a[6]*t[2],a[7]=a[7]*t[2],a[8]=a[8]*t[2],this.center=(new o.a).from(e),this.halfAxes=a,this}},{key:"clone",value:function(){return new e(this.center,this.halfAxes)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}},{key:"getBoundingSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new h,t=this.halfAxes,r=t.getColumn(0,k),n=t.getColumn(1,j),a=t.getColumn(2,x),i=b.copy(r).add(n).add(a);return e.center.copy(this.center),e.radius=i.magnitude(),e}},{key:"intersectPlane",value:function(e){var t=this.center,r=e.normal,a=this.halfAxes,i=r.x,o=r.y,u=r.z,s=Math.abs(i*a[E]+o*a[P]+u*a[S])+Math.abs(i*a[A]+o*a[I]+u*a[M])+Math.abs(i*a[L]+o*a[R]+u*a[N]),c=r.dot(t)+e.distance;return c<=-s?n.OUTSIDE:c>=s?n.INSIDE:n.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t=m.from(e).subtract(this.center),r=this.halfAxes,n=r.getColumn(0,g),a=r.getColumn(1,O),i=r.getColumn(2,w),o=n.magnitude(),u=a.magnitude(),s=i.magnitude();n.normalize(),a.normalize(),i.normalize();var c,f=0;return(c=Math.abs(t.dot(n))-o)>0&&(f+=c*c),(c=Math.abs(t.dot(a))-u)>0&&(f+=c*c),(c=Math.abs(t.dot(i))-s)>0&&(f+=c*c),f}},{key:"computePlaneDistances",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,i=this.center,o=this.halfAxes,u=o.getColumn(0,g),s=o.getColumn(1,O),c=o.getColumn(2,w),f=T.copy(u).add(s).add(c).add(i),l=_.copy(f).subtract(e),d=t.dot(l);return n=Math.min(d,n),a=Math.max(d,a),f.copy(i).add(u).add(s).subtract(c),l.copy(f).subtract(e),d=t.dot(l),n=Math.min(d,n),a=Math.max(d,a),f.copy(i).add(u).subtract(s).add(c),l.copy(f).subtract(e),d=t.dot(l),n=Math.min(d,n),a=Math.max(d,a),f.copy(i).add(u).subtract(s).subtract(c),l.copy(f).subtract(e),d=t.dot(l),n=Math.min(d,n),a=Math.max(d,a),i.copy(f).subtract(u).add(s).add(c),l.copy(f).subtract(e),d=t.dot(l),n=Math.min(d,n),a=Math.max(d,a),i.copy(f).subtract(u).add(s).subtract(c),l.copy(f).subtract(e),d=t.dot(l),n=Math.min(d,n),a=Math.max(d,a),i.copy(f).subtract(u).subtract(s).add(c),l.copy(f).subtract(e),d=t.dot(l),n=Math.min(d,n),a=Math.max(d,a),i.copy(f).subtract(u).subtract(s).subtract(c),l.copy(f).subtract(e),d=t.dot(l),n=Math.min(d,n),a=Math.max(d,a),r[0]=n,r[1]=a,r}},{key:"getTransform",value:function(){}},{key:"halfSize",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new o.a(e).len(),new o.a(t).len(),new o.a(r).len()]}},{key:"quaternion",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),n=new o.a(e).normalize(),a=new o.a(t).normalize(),i=new o.a(r).normalize();return(new v.a).fromMatrix3(new y.a([].concat(Object(p.a)(n),Object(p.a)(a),Object(p.a)(i))))}}]),e}(),C=r(20),B=r(2),U=new o.a,V=new o.a,F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(a.a)(this,e),this.normal=new o.a,this.distance=-0,this.fromNormalDistance(t,r)}return Object(i.a)(e,[{key:"fromNormalDistance",value:function(e,t){return Object(C.a)(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}},{key:"fromPointNormal",value:function(e,t){e=U.from(e),this.normal.from(t).normalize();var r=-this.normal.dot(e);return this.distance=r,this}},{key:"fromCoefficients",value:function(e,t,r,n){return this.normal.set(e,t,r),Object(C.a)(Object(B.j)(this.normal.len(),1)),this.distance=n,this}},{key:"clone",value:function(t){return new e(this.normal,this.distance)}},{key:"equals",value:function(e){return Object(B.j)(this.distance,e.distance)&&Object(B.j)(this.normal,e.normal)}},{key:"getPointDistance",value:function(e){return this.normal.dot(e)+this.distance}},{key:"transform",value:function(e){var t=V.copy(this.normal).transformAsVector(e).normalize(),r=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(r,t)}},{key:"projectPointOntoPlane",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];e=U.from(e);var r=this.getPointDistance(e),n=V.copy(this.normal).scale(r);return e.subtract(n).to(t)}}]),e}();function G(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=[new o.a([1,0,0]),new o.a([0,1,0]),new o.a([0,0,1])],H=new o.a,Y=new o.a,W=(new F(new o.a(1,0,0),0),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(a.a)(this,e),this.planes=t,Object(C.a)(this.planes.every((function(e){return e instanceof F})))}return Object(i.a)(e,null,[{key:"MASK_OUTSIDE",get:function(){return 4294967295}},{key:"MASK_INSIDE",get:function(){return 0}},{key:"MASK_INDETERMINATE",get:function(){return 2147483647}}]),Object(i.a)(e,[{key:"fromBoundingSphere",value:function(e){this.planes.length=2*q.length;var t,r=e.center,n=e.radius,a=0,i=G(q);try{for(i.s();!(t=i.n()).done;){var o=t.value,u=this.planes[a],s=this.planes[a+1];u||(u=this.planes[a]=new F),s||(s=this.planes[a+1]=new F);var c=H.copy(o).scale(-n).add(r);o.dot(c);u.fromPointNormal(c,o);var f=H.copy(o).scale(n).add(r),l=Y.copy(o).negate();l.dot(f);s.fromPointNormal(f,l),a+=2}}catch(e){i.e(e)}finally{i.f()}return this}},{key:"computeVisibility",value:function(e){Object(C.a)(e);var t,r=n.INSIDE,a=G(this.planes);try{for(a.s();!(t=a.n()).done;){var i=t.value;switch(e.intersectPlane(i)){case n.OUTSIDE:return n.OUTSIDE;case n.INTERSECTING:r=n.INTERSECTING}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"computeVisibilityWithPlaneMask",value:function(t,r){if(Object(C.a)(t,"boundingVolume is required."),Object(C.a)(Number.isFinite(r),"parentPlaneMask is required."),r===e.MASK_OUTSIDE||r===e.MASK_INSIDE)return r;for(var a=e.MASK_INSIDE,i=this.planes,o=0;o<this.planes.length;++o){var u=o<31?1<<o:0;if(!(o<31&&0==(r&u))){var s=i[o],c=t.intersectPlane(s);if(c===n.OUTSIDE)return e.MASK_OUTSIDE;c===n.INTERSECTING&&(a|=u)}}return a}}]),e}());function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=r(44);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=new o.a,$=new o.a,ee=new o.a,te=new o.a,re=new o.a,ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),t=K({near:1,far:5e8},t),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this._cullingVolume=new W([new F,new F,new F,new F,new F,new F]),this._perspectiveMatrix=new X.a,this._infinitePerspective=new X.a}return Object(i.a)(e,[{key:"clone",value:function(){return new e({right:this.right,left:this.left,top:this.top,bottom:this.bottom,near:this.near,far:this.far})}},{key:"equals",value:function(t){return t&&t instanceof e&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far}},{key:"computeCullingVolume",value:function(e,t,r){Object(C.a)(e,"position is required."),Object(C.a)(t,"direction is required."),Object(C.a)(r,"up is required.");var n=this._cullingVolume.planes;r=J.copy(r).normalize();var a=$.copy(t).cross(r).normalize(),i=ee.copy(t).multiplyByScalar(this.near).add(e),u=te.copy(t).multiplyByScalar(this.far).add(e),s=re;return s.copy(a).multiplyByScalar(this.left).add(i).subtract(e).cross(r),n[0].fromPointNormal(e,s),s.copy(a).multiplyByScalar(this.right).add(i).subtract(e).cross(r).negate(),n[1].fromPointNormal(e,s),s.copy(r).multiplyByScalar(this.bottom).add(i).subtract(e).cross(a).negate(),n[2].fromPointNormal(e,s),s.copy(r).multiplyByScalar(this.top).add(i).subtract(e).cross(a),n[3].fromPointNormal(e,s),s=(new o.a).copy(t),n[4].fromPointNormal(i,s),s.negate(),n[5].fromPointNormal(u,s),this._cullingVolume}},{key:"getPixelDimensions",value:function(e,t,r,n){ae(this),Object(C.a)(Number.isFinite(e)&&Number.isFinite(t)),Object(C.a)(e>0),Object(C.a)(t>0),Object(C.a)(r>0),Object(C.a)(n);var a=1/this.near,i=this.top*a,o=2*r*i/t,u=2*r*(i=this.right*a)/e;return n.x=u,n.y=o,n}},{key:"projectionMatrix",get:function(){return ae(this),this._perspectiveMatrix}},{key:"infiniteProjectionMatrix",get:function(){return ae(this),this._infinitePerspective}}]),e}();function ae(e){Object(C.a)(Number.isFinite(e.right)&&Number.isFinite(e.left)&&Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e.top,r=e.bottom,n=e.right,a=e.left,i=e.near,o=e.far;t===e._top&&r===e._bottom&&a===e._left&&n===e._right&&i===e._near&&o===e._far||(Object(C.a)(e.near>0&&e.near<e.far,"near must be greater than zero and less than far."),e._left=a,e._right=n,e._top=t,e._bottom=r,e._near=i,e._far=o,e._perspectiveMatrix=(new X.a).frustum({left:a,right:n,bottom:r,top:t,near:i,far:o}),e._infinitePerspective=(new X.a).frustum({left:a,right:n,bottom:r,top:t,near:i,far:1/0}))}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),t=oe({near:1,far:5e8,xOffset:0,yOffset:0},t),this._offCenterFrustum=new ne,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this.xOffset=t.xOffset,this._xOffset=this.xOffset,this.yOffset=t.yOffset,this._yOffset=this.yOffset}return Object(i.a)(e,[{key:"clone",value:function(){return new e({aspectRatio:this.aspectRatio,fov:this.fov,near:this.near,far:this.far})}},{key:"equals",value:function(t){return null!=t&&t instanceof e&&(se(this),se(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this.near===t.near&&this.far===t.far&&this._offCenterFrustum.equals(t._offCenterFrustum))}},{key:"computeCullingVolume",value:function(e,t,r){return se(this),this._offCenterFrustum.computeCullingVolume(e,t,r)}},{key:"getPixelDimensions",value:function(e,t,r,n){return se(this),this._offCenterFrustum.getPixelDimensions(e,t,r,n)}},{key:"projectionMatrix",get:function(){return se(this),this._offCenterFrustum.projectionMatrix}},{key:"infiniteProjectionMatrix",get:function(){return se(this),this._offCenterFrustum.infiniteProjectionMatrix}},{key:"fovy",get:function(){return se(this),this._fovy}},{key:"sseDenominator",get:function(){return se(this),this._sseDenominator}}]),e}();function se(e){Object(C.a)(Number.isFinite(e.fov)&&Number.isFinite(e.aspectRatio)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(Object(C.a)(e.fov>=0&&e.fov<Math.PI),Object(C.a)(e.aspectRatio>0),Object(C.a)(e.near>=0&&e.near<e.far),e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}function ce(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var le=new o.a,de=new o.a,he=new o.a,pe=new o.a,ye=new o.a,ve=new o.a,be=new o.a,me=new o.a,ge=new o.a,Oe=new o.a,we=new o.a,Te=new o.a;Math.PI;function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new h;if(!e||0===e.length)return t.fromCenterRadius([0,0,0],0);var r,n=be.copy(e[0]),a=le.copy(n),i=de.copy(n),o=he.copy(n),u=pe.copy(n),s=ye.copy(n),c=ve.copy(n),f=ce(e);try{for(f.s();!(r=f.n()).done;){var l=r.value;n.copy(l);var d=n.x,p=n.y,y=n.z;d<a.x&&n.copy(a),d>u.x&&n.copy(u),p<i.y&&n.copy(i),p>s.y&&n.copy(s),y<o.z&&n.copy(o),y>c.z&&n.copy(c)}}catch(e){f.e(e)}finally{f.f()}var v=me.copy(u).subtract(a).magnitudeSquared(),b=me.copy(s).subtract(i).magnitudeSquared(),m=me.copy(c).subtract(o).magnitudeSquared(),g=a,O=u,w=v;b>w&&(w=b,g=i,O=s),m>w&&(w=m,g=o,O=c);var T=ge;T.x=.5*(g.x+O.x),T.y=.5*(g.y+O.y),T.z=.5*(g.z+O.z);var _=me.copy(O).subtract(T).magnitudeSquared(),k=Math.sqrt(_),j=Oe;j.x=a.x,j.y=i.y,j.z=o.z;var x=we;x.x=u.x,x.y=s.y,x.z=c.z;var E,P=Te.copy(j).add(x).multiplyByScalar(.5),S=0,A=ce(e);try{for(A.s();!(E=A.n()).done;){var I=E.value;n.copy(I);var M=me.copy(n).subtract(P).magnitude();M>S&&(S=M);var L=me.copy(n).subtract(T).magnitudeSquared();if(L>_){var R=Math.sqrt(L);_=(k=.5*(k+R))*k;var N=R-k;T.x=(k*T.x+N*n.x)/R,T.y=(k*T.y+N*n.y)/R,T.z=(k*T.z+N*n.z)/R}}}catch(e){A.e(e)}finally{A.f()}return k<S?(T.to(t.center),t.radius=k):(P.to(t.center),t.radius=S),t}var ke=r(105),je=new y.a,xe=new y.a,Ee=new y.a,Pe=new y.a,Se=new y.a;function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ke.a.EPSILON20,n=10,a=0,i=0,o=xe,u=Ee;o.identity(),u.copy(e);for(var s=r*Ie(u);i<n&&Re(u)>s;)Ne(u,Pe),Se.copy(Pe).transpose(),u.multiplyRight(Pe),u.multiplyLeft(Se),o.multiplyRight(Pe),++a>2&&(++i,a=0);return t.unitary=o.toTarget(t.unitary),t.diagonal=u.toTarget(t.diagonal),t}function Ie(e){for(var t=0,r=0;r<9;++r){var n=e[r];t+=n*n}return Math.sqrt(t)}var Me=[1,0,0],Le=[2,2,1];function Re(e){for(var t=0,r=0;r<3;++r){var n=e[je.getElementIndex(Le[r],Me[r])];t+=2*n*n}return Math.sqrt(t)}function Ne(e,t){for(var r=ke.a.EPSILON15,n=0,a=1,i=0;i<3;++i){var o=Math.abs(e[je.getElementIndex(Le[i],Me[i])]);o>n&&(a=i,n=o)}var u=Me[a],s=Le[a],c=1,f=0;if(Math.abs(e[je.getElementIndex(s,u)])>r){var l,d=(e[je.getElementIndex(s,s)]-e[je.getElementIndex(u,u)])/2/e[je.getElementIndex(s,u)];f=(l=d<0?-1/(-d+Math.sqrt(1+d*d)):1/(d+Math.sqrt(1+d*d)))*(c=1/Math.sqrt(1+l*l))}return y.a.IDENTITY.to(t),t[je.getElementIndex(u,u)]=t[je.getElementIndex(s,s)]=c,t[je.getElementIndex(s,u)]=f,t[je.getElementIndex(u,s)]=-f,t}function De(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ce(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Be=new o.a,Ue=new o.a,Ve=new o.a,Fe=new o.a,Ge=new o.a,ze=new y.a,qe={diagonal:new y.a,unitary:new y.a};function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new D;if(!e||0===e.length)return t.halfAxes=new y.a([0,0,0,0,0,0,0,0,0]),t.center=new o.a,t;var r,n=e.length,a=new o.a(0,0,0),i=De(e);try{for(i.s();!(r=i.n()).done;){var u=r.value;a.add(u)}}catch(e){i.e(e)}finally{i.f()}var s=1/n;a.multiplyByScalar(s);var c,f=0,l=0,d=0,h=0,p=0,v=0,b=De(e);try{for(b.s();!(c=b.n()).done;){var m=c.value,g=Be.copy(m).subtract(a);f+=g.x*g.x,l+=g.x*g.y,d+=g.x*g.z,h+=g.y*g.y,p+=g.y*g.z,v+=g.z*g.z}}catch(e){b.e(e)}finally{b.f()}f*=s,l*=s,d*=s,h*=s,p*=s,v*=s;var O=ze;O[0]=f,O[1]=l,O[2]=d,O[3]=l,O[4]=h,O[5]=p,O[6]=d,O[7]=p,O[8]=v;var w,T=Ae(O,qe),_=T.unitary,k=t.halfAxes.copy(_),j=k.getColumn(0,Ve),x=k.getColumn(1,Fe),E=k.getColumn(2,Ge),P=-Number.MAX_VALUE,S=-Number.MAX_VALUE,A=-Number.MAX_VALUE,I=Number.MAX_VALUE,M=Number.MAX_VALUE,L=Number.MAX_VALUE,R=De(e);try{for(R.s();!(w=R.n()).done;){var N=w.value;P=Math.max(N.dot(j),P),S=Math.max(N.dot(x),S),A=Math.max(N.dot(E),A),I=Math.min(N.dot(j),I),M=Math.min(N.dot(x),M),L=Math.min(N.dot(E),L)}}catch(e){R.e(e)}finally{R.f()}j=j.multiplyByScalar(.5*(I+P)),x=x.multiplyByScalar(.5*(M+S)),E=E.multiplyByScalar(.5*(L+A)),t.center.copy(j).add(x).add(E);var C=Ue.set(P-I,S-M,A-L).multiplyByScalar(.5);return t.halfAxes.multiplyByScalar(C),t}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c;if(!e||0===e.length)return t.minimum.set(0,0,0),t.maximum.set(0,0,0),t.center.set(0,0,0),t.halfDiagonal.set(0,0,0),t;var r,n=e[0][0],a=e[0][1],i=e[0][2],o=e[0][0],u=e[0][1],s=e[0][2],f=De(e);try{for(f.s();!(r=f.n()).done;){var l=r.value,d=l[0],h=l[1],p=l[2];n=Math.min(d,n),o=Math.max(d,o),a=Math.min(h,a),u=Math.max(h,u),i=Math.min(p,i),s=Math.max(p,s)}}catch(e){f.e(e)}finally{f.f()}return t.minimum.set(n,a,i),t.maximum.set(o,u,s),t.center.copy(t.minimum).add(t.maximum).scale(.5),t.halfDiagonal.copy(t.maximum).subtract(t.center),t}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(5)),o=r(7),u=r(101),s=r(196),c=r(245);function f(e){return o.path.dirname(e.url)}function l(e,t,r){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i={}).content=i.content||{},0,e.next=5,(0,s.parse3DTile)(t,0,r,n,i.content);case 5:return e.abrupt("return",i.content);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=JSON.parse((new TextDecoder).decode(t))).loader=r.loader||v,i.url=n.url,i.basePath=f(i),i.root=(0,c.normalizeTileHeaders)(i),i.type=u.TILESET_TYPE.TILES3D,i.lodMetricType=u.LOD_METRIC_TYPE.GEOMETRIC_ERROR,i.lodMetricValue=i.root.lodMetricValue,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=(0,i.default)(a.default.mark((function e(t,r,n,i){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r["3d-tiles"]||{},!("auto"===o.isTileset?n.url&&-1!==n.url.indexOf(".json"):o.isTileset)){e.next=8;break}return e.next=5,h(t,r,n);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,l(t,r,n);case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={id:"3d-tiles",name:"3D Tiles",version:"2.3.13",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:function(e,t,r,n){return y.apply(this,arguments)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",tile:null,tileset:null,assetGltfUpAxis:null}}},b=v;t.default=b},function(e,t,r){"use strict";(function(e,n){var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i=a(r(18)),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},u=o.self||o.window||o.global;t.self=u;var s=o.window||o.self||o.global;t.window=s;var c=o.global||o.self||o.window;t.global=c;var f=o.document||{};t.document=f;var l="object"!==(void 0===n?"undefined":(0,i.default)(n))||"[object process]"!==String(n)||n.browser;t.isBrowser=l;var d="function"==typeof importScripts;t.isWorker=d;var h=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/),p=h&&parseFloat(h[1])||0;t.nodeVersion=p}).call(this,r(56),r(57))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoaderVersion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2.3.13";(0,a.default)(e,"no loader provided");var r=e.version;if(!t||!r)return;t=i(t),r=i(r)};var a=n(r(30));function i(e){var t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}},function(e,t){e.exports=function(e){this.wrapped=e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(5)),o=n(r(13)),u=n(r(14)),s=n(r(93)),c=function(){function e(t){var r=t.source,n=t.name,a=void 0===n?"unnamed":n,i=t.maxConcurrency,u=void 0===i?1:i,s=t.onMessage,c=t.onDebug,f=void 0===c?function(){}:c,l=t.reuseWorkers,d=void 0===l||l;(0,o.default)(this,e),this.source=r,this.name=a,this.maxConcurrency=u,this.onMessage=s,this.onDebug=f,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.reuseWorkers=d}var t;return(0,u.default)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"process",value:function(e,t){var r=this;return new Promise((function(n,a){r.jobQueue.push({data:e,jobName:t,resolve:n,reject:a}),r._startQueuedJob()}))}},{key:"_startQueuedJob",value:(t=(0,i.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:return r=this.jobQueue.shift(),this.onDebug({message:"processing",worker:t.name,job:r.jobName,backlog:this.jobQueue.length}),e.prev=7,e.t0=r,e.next=11,t.process(r.data);case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(7),r.reject(e.t2);case 18:return e.prev=18,this._onWorkerDone(t),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,15,18,21]])}))),function(){return t.apply(this,arguments)})},{key:"_onWorkerDone",value:function(e){this.isDestroyed?e.destroy():(this.reuseWorkers?this.idleQueue.push(e):(e.destroy(),this.count--),this._startQueuedJob())}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new s.default({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}();t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(5)),o=n(r(13)),u=n(r(14)),s=r(145),c=r(72),f=0;function l(e){var t=e.data;(0,e.resolve)(t)}var d=function(){function e(t){var r=t.source,n=t.name,a=void 0===n?"web-worker-".concat(f++):n,i=t.onMessage;(0,o.default)(this,e);var u=(0,s.getWorkerURL)(r,a);this.worker=new Worker(u,{name:a}),this.name=a,this.onMessage=i||l}var t;return(0,u.default)(e,[{key:"process",value:(t=(0,i.default)(a.default.mark((function e(t){var r=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){r.worker.onmessage=function(t){r.onMessage({worker:r.worker,data:t.data,resolve:e,reject:n})},r.worker.onerror=function(e){var t="".concat(r.name,": WorkerThread.process() failed");e.message&&(t+=" ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));var a=new Error(t);console.error(e),n(a)};var a=(0,c.getTransferList)(t);r.worker.postMessage(t,a)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.worker.terminate(),this.worker=null}}]),e}();t.default=d},function(e,t,r){"use strict";function n(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),a="",i=0;i<r;i++)a+=String.fromCharCode(n.getUint8(t+i));return a}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return n(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return n(e,r,t)}return""},t.getMagicString=n},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padTo4Bytes=a,t.getZeroOffsetArrayBuffer=function(e,t,r){return(0,n.sliceArrayBuffer)(e,t,r)},t.copyArrayBuffer=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,a=new Uint8Array(e,r,n),i=new Uint8Array(t);return a.set(i),e},t.copyToArray=function(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var i=e.byteOffset,o=e.byteLength;n=new Uint8Array(e.buffer,i,o)}return t.set(n,r),r+a(n.byteLength)};var n=r(73);function a(e){return e+3&-4}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPathPrefix=function(e){n=e},t.getPathPrefix=function(){return n},t.addAliases=function(e){Object.assign(a,e)},t.resolvePath=function(e){for(var t in a)if(e.startsWith(t)){var r=a[t];e=e.replace(t,r)}e.startsWith("http://")||e.startsWith("https://")||(e="".concat(n).concat(e));return e};var n="",a={}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){var n=r(98);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Tileset3D",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Tile3D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TilesetTraverser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TilesetCache",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createBoundingVolume",{enumerable:!0,get:function(){return s.createBoundingVolume}}),Object.defineProperty(t,"calculateTransformProps",{enumerable:!0,get:function(){return c.calculateTransformProps}}),Object.defineProperty(t,"getFrameState",{enumerable:!0,get:function(){return f.getFrameState}}),Object.defineProperty(t,"TILE_CONTENT_STATE",{enumerable:!0,get:function(){return l.TILE_CONTENT_STATE}}),Object.defineProperty(t,"TILE_REFINEMENT",{enumerable:!0,get:function(){return l.TILE_REFINEMENT}}),Object.defineProperty(t,"TILE_TYPE",{enumerable:!0,get:function(){return l.TILE_TYPE}}),Object.defineProperty(t,"TILESET_TYPE",{enumerable:!0,get:function(){return l.TILESET_TYPE}}),Object.defineProperty(t,"LOD_METRIC_TYPE",{enumerable:!0,get:function(){return l.LOD_METRIC_TYPE}});var a=n(r(162)),i=n(r(74)),o=n(r(60)),u=n(r(108)),s=r(118),c=r(109),f=r(110),l=r(48)},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(43),c=r(2),f=r(3),l=r(24),d=r(21);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){Object(i.a)(r,e);var t=h(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n.a)(this,r),e=t.call(this,2),Object(c.m)(a)&&1===arguments.length?e.copy(a):(c.f.debug&&(Object(f.a)(a),Object(f.a)(i)),e[0]=a,e[1]=i),e}return Object(a.a)(r,[{key:"set",value:function(e,t){return this[0]=e,this[1]=t,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this.check()}},{key:"fromObject",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y)),this[0]=e.x,this[1]=e.y,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return l.d(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(d.a)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return l.c(this,this,e),this.check()}},{key:"transformByMatrix2x3",value:function(e){return l.b(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return l.a(this,this,e),this.check()}},{key:"ELEMENTS",get:function(){return 2}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(43),c=r(2),f=r(3),l=r(10),d=r(21);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p={},y=function(e){Object(i.a)(r,e);var t=h(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(n.a)(this,r),e=t.call(this,-0,-0,-0,-0),Object(c.m)(a)&&1===arguments.length?e.copy(a):(c.f.debug&&(Object(f.a)(a),Object(f.a)(i),Object(f.a)(o),Object(f.a)(u)),e[0]=a,e[1]=i,e[2]=o,e[3]=u),e}return Object(a.a)(r,null,[{key:"ZERO",get:function(){return p.ZERO=p.ZERO||Object.freeze(new r(0,0,0,0))}}]),Object(a.a)(r,[{key:"set",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"fromObject",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y),Object(f.a)(e.z),Object(f.a)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}},{key:"transform",value:function(e){return l.m(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return Object(d.e)(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(d.d)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return l.n(this,this,e),this.check()}},{key:"applyMatrix4",value:function(e){return e.transform(this,this),this}},{key:"ELEMENTS",get:function(){return 4}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(f.a)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(f.a)(e)}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(8),a=r(6),i=r(15),o=r(16),u=r(9),s=r(70),c=r(3),f=r(21),l=r(22),d=r(24),h=r(10);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=Object.freeze([1,0,0,0,1,0,0,0,1]),v=Object.freeze([0,0,0,0,0,0,0,0,0]),b=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),m={},g=function(e){Object(i.a)(r,e);var t=p(r);function r(e){var a;return Object(n.a)(this,r),a=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?a.copy(e):a.identity(),a}return Object(a.a)(r,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return b}}],[{key:"IDENTITY",get:function(){return m.IDENTITY=m.IDENTITY||Object.freeze(new r(y)),m.IDENTITY}},{key:"ZERO",get:function(){return m.ZERO=m.ZERO||Object.freeze(new r(v)),m.ZERO}}]),Object(a.a)(r,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}},{key:"set",value:function(e,t,r,n,a,i,o,u,s){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=a,this[5]=i,this[6]=o,this[7]=u,this[8]=s,this.check()}},{key:"setRowMajor",value:function(e,t,r,n,a,i,o,u,s){return this[0]=e,this[1]=n,this[2]=o,this[3]=t,this[4]=a,this[5]=u,this[6]=r,this[7]=i,this[8]=s,this.check()}},{key:"determinant",value:function(){return l.b(this)}},{key:"identity",value:function(){return this.copy(y)}},{key:"fromQuaternion",value:function(e){return l.c(this,e),this.check()}},{key:"transpose",value:function(){return l.i(this,this),this.check()}},{key:"invert",value:function(){return l.d(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return l.e(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return l.e(this,this,e),this.check()}},{key:"rotate",value:function(e){return l.f(this,this,e),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?l.g(this,this,e):l.g(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return l.h(this,this,e),this.check()}},{key:"transform",value:function(e,t){switch(e.length){case 2:t=d.c(t||[-0,-0],e,this);break;case 3:t=h.l(t||[-0,-0,-0],e,this);break;case 4:t=Object(f.e)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"transformVector",value:function(e,t){return Object(c.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector2",value:function(e,t){return Object(c.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector3",value:function(e,t){return Object(c.c)("Matrix3.transformVector"),this.transform(e,t)}}]),r}(s.a)},function(e,t,r){"use strict";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(28),a=r(8),i=r(6),o=r(2),u=r(34),s=r(10),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.phi,n=void 0===r?0:r,i=t.theta,o=void 0===i?0:i,u=t.radius,s=void 0===u?1:u,c=t.bearing,f=void 0===c?void 0:c,l=t.pitch,d=void 0===l?void 0:l,h=t.altitude,p=void 0===h?void 0:h,y=t.radiusScale,v=void 0===y?6371e3:y;Object(a.a)(this,e),this.phi=n,this.theta=o,this.radius=s||p||1,this.radiusScale=v||1,void 0!==f&&(this.bearing=f),void 0!==d&&(this.pitch=d),this.check()}return Object(i.a)(e,[{key:"toString",value:function(){return this.formatString(o.f)}},{key:"formatString",value:function(e){var t=e.printTypes,r=void 0!==t&&t,n=o.l;return"".concat(r?"Spherical":"","[rho:").concat(n(this.radius),",theta:").concat(n(this.theta),",phi:").concat(n(this.phi),"]")}},{key:"equals",value:function(e){return Object(o.j)(this.radius,e.radius)&&Object(o.j)(this.theta,e.theta)&&Object(o.j)(this.phi,e.phi)}},{key:"exactEquals",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"set",value:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}},{key:"clone",value:function(){return(new e).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:"fromLngLatZ",value:function(e){var t=Object(n.a)(e,3),r=t[0],a=t[1],i=t[2];this.radius=1+i/this.radiusScale,this.phi=Object(o.o)(a),this.theta=Object(o.o)(r)}},{key:"fromVector3",value:function(e){return this.radius=s.g(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(o.d)(e[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new u.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"check",value:function(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},{key:"bearing",get:function(){return 180-Object(o.i)(this.phi)},set:function(e){this.phi=Math.PI-Object(o.o)(e)}},{key:"pitch",get:function(){return Object(o.i)(this.theta)},set:function(e){this.theta=Object(o.o)(e)}},{key:"longitude",get:function(){return Object(o.i)(this.phi)}},{key:"latitude",get:function(){return Object(o.i)(this.theta)}},{key:"lng",get:function(){return Object(o.i)(this.phi)}},{key:"lat",get:function(){return Object(o.i)(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(8),a=r(6),i=r(44),o=r(34),u=r(45),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,a=void 0===r?0:r,i=t.y,s=void 0===i?0:i,c=t.z,f=void 0===c?0:c,l=t.roll,d=void 0===l?0:l,h=t.pitch,p=void 0===h?0:h,y=t.yaw,v=void 0===y?0:y,b=t.position,m=void 0===b?void 0:b,g=t.orientation,O=void 0===g?void 0:g;Object(n.a)(this,e),Array.isArray(m)&&3===m.length?this.position=new o.a(m):this.position=new o.a(a,s,f),Array.isArray(O)&&4===O.length?this.orientation=new u.a(O,O[3]):this.orientation=new u.a(d,p,v,u.a.RollPitchYaw)}return Object(a.a)(e,[{key:"getPosition",value:function(){return this.position}},{key:"getOrientation",value:function(){return this.orientation}},{key:"equals",value:function(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}},{key:"exactEquals",value:function(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}},{key:"getTransformationMatrix",value:function(){var e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),n=Math.cos(this.roll),a=Math.cos(this.pitch),o=Math.cos(this.yaw);return(new i.a).setRowMajor(o*a,-r*n+o*t*e,r*e+o*t*n,this.x,r*a,o*n+r*t*e,-o*e+r*t*n,this.y,-t,a*e,a*n,this.z,0,0,0,1)}},{key:"getTransformationMatrixFromPose",value:function(e){return(new i.a).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}},{key:"getTransformationMatrixToPose",value:function(e){return(new i.a).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},{key:"x",get:function(){return this.position.x},set:function(e){this.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.position.y=e}},{key:"z",get:function(){return this.position.z},set:function(e){this.position.z=e}},{key:"roll",get:function(){return this.orientation.roll},set:function(e){this.orientation.roll=e}},{key:"pitch",get:function(){return this.orientation.pitch},set:function(e){this.orientation.pitch=e}},{key:"yaw",get:function(){return this.orientation.yaw},set:function(e){this.orientation.yaw=e}}]),e}()},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13)),i=n(r(14)),o=n(r(163));function u(e){return null!=e}var s=function(){function e(){(0,a.default)(this,e),this._list=new o.default,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}return(0,i.default)(e,[{key:"reset",value:function(){this._list.splice(this._list.tail,this._sentinel)}},{key:"touch",value:function(e){var t=e._cacheNode;u(t)&&this._list.splice(this._sentinel,t)}},{key:"add",value:function(e,t,r){u(t._cacheNode)||(t._cacheNode=this._list.add(t),r&&r(e,t))}},{key:"unloadTile",value:function(e,t,r){var n=t._cacheNode;u(n)&&(this._list.remove(n),t._cacheNode=void 0,r&&r(e,t))}},{key:"unloadTiles",value:function(e,t){var r=this._trimTiles;this._trimTiles=!1;for(var n=this._list,a=1024*e.maximumMemoryUsage*1024,i=this._sentinel,o=n.head;o!==i&&(e.gpuMemoryUsageInBytes>a||r);){var u=o.item;o=o.next,this.unloadTile(e,u,t)}}},{key:"trim",value:function(){this._trimTiles=!0}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransformProps=function(e,t){(0,i.assert)(e),(0,i.assert)(t);var r=t.rtcCenter,o=t.gltfUpAxis,u=e.computedTransform,s=e.boundingVolume.center,c=new a.Matrix4(u);r&&c.translate(r);switch(o){case"Z":break;case"Y":var f=(new a.Matrix4).rotateX(Math.PI/2);c=c.multiplyRight(f);break;case"X":var l=(new a.Matrix4).rotateY(-Math.PI/2);c=c.multiplyRight(l)}t.isQuantized&&c.translate(t.quantizedVolumeOffset).scale(t.quantizedVolumeScale);var d=new a.Vector3(s);t.cartesianModelMatrix=c,t.cartesianOrigin=d;var h=n.Ellipsoid.WGS84.cartesianToCartographic(d,new a.Vector3),p=n.Ellipsoid.WGS84.eastNorthUpToFixedFrame(d).invert();t.cartographicModelMatrix=p.multiplyRight(c),t.cartographicOrigin=h,t.modelMatrix=t.cartographicModelMatrix};var n=r(51),a=r(12),i=r(7)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFrameState=function(e,t){var r=e.cameraDirection,a=e.cameraUp,c=e.height,f=e.distanceScales.metersPerUnit,l=[e.longitude,e.latitude,0],d=i.Ellipsoid.WGS84.cartographicToCartesian(l,new n.Vector3),h=i.Ellipsoid.WGS84.eastNorthUpToFixedFrame(d),p=e.unprojectPosition(e.cameraPosition),y=i.Ellipsoid.WGS84.cartographicToCartesian(p,new n.Vector3),v=new n.Vector3(h.transformAsVector(new n.Vector3(r).scale(f))).normalize(),b=new n.Vector3(h.transformAsVector(new n.Vector3(a).scale(f))).normalize();return function(e,t){var r=e.getFrustumPlanes(),a=0;for(var c in r){var f=r[c],l=f.normal.dot(e.center);u.copy(f.normal).scale(f.distance-l).add(e.center);var d=e.unprojectPosition(u),h=i.Ellipsoid.WGS84.cartographicToCartesian(d,new n.Vector3);s.planes[a++].fromPointNormal(h,o.copy(t).subtract(h))}}(e,d),{camera:{position:y,direction:v,up:b},viewport:e,height:c,cullingVolume:s,frameNumber:t,sseDenominator:1.15}};var n=r(12),a=r(87),i=r(51),o=new n.Vector3,u=new n.Vector3,s=new a.CullingVolume([new a.Plane,new a.Plane,new a.Plane,new a.Plane,new a.Plane,new a.Plane])},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeResponse=function(e){return s.apply(this,arguments)},t.checkResponse=function(e){return c.apply(this,arguments)},t.checkResponseSync=function(e){if(!e.ok){var t="".concat(e.status," ").concat(e.statusText);throw t=t.length>60?"".concat(t.slice(60),"..."):t,new Error(t)}};var a=n(r(4)),i=n(r(5)),o=r(25),u=r(47);function s(){return(s=(0,i.default)(a.default.mark((function e(t){var r,n,i,s,c,f,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.isResponse)(t)){e.next=2;break}return e.abrupt("return",t);case 2:return r={},(n=(0,u.getResourceContentLength)(t))>=0&&(r["content-length"]=String(n)),i=(0,u.getResourceUrlAndType)(t),s=i.url,(c=i.type)&&(r["content-type"]=c),e.next=9,d(t);case 9:return(f=e.sent)&&(r["x-first-bytes"]=f),"string"==typeof t&&(t=(new TextEncoder).encode(t)),l=new Response(t,{headers:r}),Object.defineProperty(l,"url",{value:s}),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,i.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,f(t);case 3:throw r=e.sent,new Error(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return(l=(0,i.default)(a.default.mark((function e(t){var r,n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,n=t.headers.get("Content-Type"),i=t.statusText,!n.includes("application/json")){e.next=11;break}return e.t0=i,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,i=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:r=(r+=i).length>60?"".concat(r.slice(60),"..."):r,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=(0,i.default)(a.default.mark((function e(t){var r,n,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=5,"string"!=typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,r)));case 3:if(!(t instanceof Blob)){e.next=8;break}return n=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){return e(t.target&&t.target.result)},t.readAsDataURL(n)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,r),o=p(i),e.abrupt("return","data:base64,".concat(o));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){for(var t="",r=new Uint8Array(e),n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoaders=function(e){var t,r=o(),a=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}(e=Array.isArray(e)?e:[e]);try{var u=function(){var e=t.value,a=(0,n.normalizeLoader)(e);r.find((function(e){return a===e}))||r.unshift(a)};for(a.s();!(t=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}},t.getRegisteredLoaders=function(){return o()},t._unregisterLoaders=function(){(0,a.getGlobalLoaderState)().loaderRegistry=[]};var n=r(32),a=r(26);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=function(){var e=(0,a.getGlobalLoaderState)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeIterator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e)return(0,n.makeStringIterator)(e,t);if(e instanceof ArrayBuffer)return(0,a.makeArrayBufferIterator)(e,t);if((0,s.isBlob)(e))return(0,i.makeBlobIterator)(e,t);if((0,s.isReadableStream)(e))return(0,u.makeStreamIterator)(e);if((0,s.isResponse)(e))return(0,u.makeStreamIterator)(e.body);return(0,o.assert)(!1)};var n=r(175),a=r(176),i=r(114),o=r(7),u=r(177),s=r(25)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeBlobIterator=function(e){return s.apply(this,arguments)},t.readFileSlice=c;var a=n(r(5)),i=n(r(4)),o=n(r(35)),u=n(r(36));function s(){return(s=(0,u.default)(i.default.mark((function e(t){var r,n,a,u,s,f=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>1&&void 0!==f[1]?f[1]:{},n=r.chunkSize||1048576,a=0;case 3:if(!(a<t.size)){e.next=13;break}return u=a+n,e.next=7,(0,o.default)(c(t,a,u));case 7:return s=e.sent,a=u,e.next=11,s;case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t,r){return f.apply(this,arguments)}function f(){return(f=(0,a.default)(i.default.mark((function e(t,r,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var i=t.slice(r,n),o=new FileReader;o.onload=function(t){return e(t.target&&t.target.result)},o.onerror=function(e){return a(e)},o.readAsArrayBuffer(i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parseInBatches=O;var a=n(r(4)),i=n(r(5)),o=n(r(36)),u=n(r(35)),s=n(r(31)),c=n(r(116)),f=r(7),l=r(32),d=r(26),h=r(79),p=r(78),y=r(47),v=r(59),b=r(58);function m(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r,n){return w.apply(this,arguments)}function w(){return(w=(0,i.default)(a.default.mark((function e(t,r,n,i){var o,u,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,f.assert)(!i||"string"!=typeof i,"parseInBatches no longer accepts final url"),Array.isArray(r)||(0,l.isLoaderObject)(r)||(i=n,n=r,r=null),e.next=4,t;case 4:return t=e.sent,n=n||{},o=(0,y.getResourceUrlAndType)(t),u=o.url,e.next=9,(0,v.selectLoader)(t,r,n);case 9:if(s=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return n=(0,d.normalizeOptions)(n,s,r,u),i=(0,h.getLoaderContext)({url:u,parseInBatches:O,parse:b.parse,loaders:r},n,i),e.next=16,T(s,t,n,i);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,r,n){return _.apply(this,arguments)}function _(){return(_=(0,i.default)(a.default.mark((function e(t,r,n,i){var f,l,d,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){return(h=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:return e.delegateYield((0,c.default)((0,s.default)(t),u.default),"t0",3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(e){return h.apply(this,arguments)},e.next=4,k(t,r,n,i);case 4:if(f=e.sent,n.metadata){e.next=7;break}return e.abrupt("return",f);case 7:return l={batchType:"metadata",metadata:{_loader:t,_context:i},data:[],bytesUsed:0},e.abrupt("return",d(f));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,r,n){return j.apply(this,arguments)}function j(){return(j=(0,i.default)(a.default.mark((function e(t,r,n,i){var s,c,l,d,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=function(){return(h=(0,o.default)(a.default.mark((function e(){var o,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)((0,p.getAsyncIteratorFromData)(r));case 2:return o=e.sent,e.next=5,(0,u.default)((0,f.concatenateChunksAsync)(o));case 5:return s=e.sent,e.next=8,t.parse(s,n,i,t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(){return h.apply(this,arguments)},!t.parseInBatches){e.next=10;break}return e.next=5,(0,p.getAsyncIteratorFromData)(r);case 5:return s=e.sent,c=x(s,n),e.next=9,t.parseInBatches(c,n,i,t);case 9:return e.abrupt("return",e.sent);case 10:if(!t.parseStreamInBatches){e.next=17;break}return e.next=13,(0,p.getReadableStream)(r);case 13:if(!(l=e.sent)){e.next=17;break}return n.transforms&&console.warn("options.transforms not implemented for loaders that use `parseStreamInBatches`"),e.abrupt("return",t.parseStreamInBatches(l,n,i));case 17:return e.next=19,d();case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){var r,n=e,a=m(t.transforms||[]);try{for(a.s();!(r=a.n()).done;){var i=r.value;n=(0,f.makeTransformIterator)(n,i,t)}}catch(e){a.e(e)}finally{a.f()}return n}},function(e,t){e.exports=function(e,t){var r={},n=!1;function a(r,a){return n=!0,a=new Promise((function(t){t(e[r](a))})),{done:!1,value:t(a)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):a("return",e)}),r}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.encode=l,t.encodeSync=function(e,t,r,n){if(t.encodeSync)return t.encodeSync(e,r);throw new Error("Writer could not synchronously encode data")},t.encodeText=function(e,t,r,n){return h.apply(this,arguments)},t.encodeInBatches=p,t.encodeURLtoURL=y;var a=n(r(4)),i=n(r(5)),o=n(r(31)),u=r(7),s=r(77),c=r(76);function f(e){return"/tmp/".concat(e)}function l(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,r,n,i){var l,d,h,v,b,m,g,O,w,T,_,k,j;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.encode){e.next=4;break}return e.next=3,r.encode(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.encodeSync){e.next=6;break}return e.abrupt("return",r.encodeSync(t,n));case 6:if(!r.encodeText){e.next=12;break}return e.t0=new TextEncoder,e.next=10,r.encodeText(t,n);case 10:return e.t1=e.sent,e.abrupt("return",e.t0.encode.call(e.t0,e.t1));case 12:if(!r.encodeInBatches){e.next=51;break}l=p(t,r,n),d=[],h=!0,v=!1,e.prev=17,m=(0,o.default)(l);case 19:return e.next=21,m.next();case 21:return g=e.sent,h=g.done,e.next=25,g.value;case 25:if(O=e.sent,h){e.next=32;break}w=O,d.push(w);case 29:h=!0,e.next=19;break;case 32:e.next=38;break;case 34:e.prev=34,e.t2=e.catch(17),v=!0,b=e.t2;case 38:if(e.prev=38,e.prev=39,h||null==m.return){e.next=43;break}return e.next=43,m.return();case 43:if(e.prev=43,!v){e.next=46;break}throw b;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.next=50,u.concatenateArrayBuffers.apply(void 0,d);case 50:return e.abrupt("return",e.sent);case 51:if(u.isBrowser||!r.encodeURLtoURL){e.next=63;break}return T=f("input"),e.next=55,(0,s.writeFile)(T,t);case 55:return _=f("output"),e.next=58,y(T,_,r,n);case 58:return k=e.sent,e.next=61,(0,c.fetchFile)(k);case 61:return j=e.sent,e.abrupt("return",j.arrayBuffer());case 63:throw new Error("Writer could not encode data");case 64:case"end":return e.stop()}}),e,null,[[17,34,38,48],[39,,43,47]])})))).apply(this,arguments)}function h(){return(h=(0,i.default)(a.default.mark((function e(t,r,n,i){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.text||!r.encodeText){e.next=4;break}return e.next=3,r.encodeText(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.text||!r.encode&&!r.encodeInBatches){e.next=9;break}return e.next=7,l(t,r,n);case 7:return o=e.sent,e.abrupt("return",(new TextDecoder).decode(o));case 9:throw new Error("Writer could not encode data as text");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,r,n){if(t.encodeInBatches){var a=function(e){return[{table:e,start:0,end:e.length}]}(e);return t.encodeInBatches(a,r)}throw new Error("Writer could not encode data in batches")}function y(e,t,r,n){return v.apply(this,arguments)}function v(){return(v=(0,i.default)(a.default.mark((function e(t,r,n,i){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,u.resolvePath)(t),r=(0,u.resolvePath)(r),!u.isBrowser&&n.encodeURLtoURL){e.next=4;break}throw new Error;case 4:return e.next=6,n.encodeURLtoURL(t,r,i);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createBoundingVolume=function(e,t,r){if((0,s.assert)(e,"3D Tile: boundingVolume must be defined"),e.box)return function(e,t,r){var n=new i.Vector3(e[0],e[1],e[2]);t.transform(n,n);var a=t.transformAsVector(e.slice(3,6)),u=t.transformAsVector(e.slice(6,9)),s=t.transformAsVector(e.slice(9,12)),f=new i.Matrix3([a[0],a[1],a[2],u[0],u[1],u[2],s[0],s[1],s[2]]);if(c(r))return r.center=n,r.halfAxes=f,r;return new o.OrientedBoundingBox(n,f)}(e.box,t,r);if(e.region){var n=(0,a.default)(e.region,6),f=n[0],p=n[1],y=n[2],v=n[3],b=n[4],m=n[5],g=u.Ellipsoid.WGS84.cartographicToCartesian([(0,i.degrees)(f),(0,i.degrees)(v),b],l),O=u.Ellipsoid.WGS84.cartographicToCartesian([(0,i.degrees)(y),(0,i.degrees)(p),m],d),w=(new i.Vector3).addVectors(g,O).multiplyScalar(.5),T=(new i.Vector3).subVectors(g,O).len()/2;return h([w[0],w[1],w[2],T],new i.Matrix4)}if(e.sphere)return h(e.sphere,t,r);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")};var a=n(r(38)),i=r(12),o=r(87),u=r(51),s=r(7);function c(e){return null!=e}var f=new i.Vector3,l=new i.Vector3,d=new i.Vector3;new i.Matrix4;function h(e,t,r){var n=new i.Vector3(e[0],e[1],e[2]);t.transform(n,n);var a=t.getScale(f),u=Math.max(Math.max(a[0],a[1]),a[2]),s=e[3]*u;return c(r)?(r.center=n,r.radius=s,r):new o.BoundingSphere(n,s)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.lodJudge=function(e,t){var r=t.viewport,n=r.metersPerPixel,a=e.header.mbs[1],i=e.header.mbs[0],u=e.header.mbs[2],f=e.header.mbs[3],l=r.height,d=r.width,h=r.latitude,p=r.longitude,y=[p,h],v=[i,a,u],b=[p,a],m=[i,h],g=Math.sqrt(l*l+d*d)*n[0],O=s(y,v),w=.5*l+f/6378137,T=.5*d+f/6378137;if(O>g+f/6378137)return"OUT";if(s(y,b)>w)return"OUT";if(s(y,m)>T)return"OUT";if(0===e.lodMetricValue)return"DIG";var _=c(e,t);if((_*=o)<.5)return"OUT";if(!e.header.children||_<=e.lodMetricValue)return"DRAW";if(e.header.children)return"DIG";return"OUT"},t.getI3ScreenSize=c;var a=n(r(38)),i=r(12),o=Math.PI/2;function u(e){var t=(0,a.default)(e,3),r=t[0],n=t[1],o=t[2],u=(0,i.toRadians)(r),s=(0,i.toRadians)(n),c=1+o/6378137,f=c*Math.cos(s);return[r=f*Math.cos(u),n=f*Math.sin(u),o=c*Math.sin(s)]}function s(e,t){var r=(0,a.default)(e,3),n=r[0],i=r[1],o=r[2],s=void 0===o?0:o,c=(0,a.default)(t,3),f=c[0],l=c[1],d=c[2],h=u([f,l,void 0===d?0:d]),p=u([n,i,s]),y=p[0]-h[0],v=p[1]-h[1],b=p[2]-h[2];return y*y+v*v+b*b}function c(e,t){var r=t.viewport,n=e.header.mbs[1],a=[e.header.mbs[0],n,e.header.mbs[2]],i=e.header.mbs[3]/6378137,o=s(r.unprojectPosition(r.cameraPosition),a)-i*i;if(o<=0)return 170141175e30;var u=function(e,t){var r=t.viewport,n=r.width,a=r.height,i=r.pixelProjectionMatrix,o=Math.tan(Math.atan(Math.sqrt(1/(i[0]*i[0])+1/(i[5]*i[5]))));return Math.sqrt(a*a+n*n)/o}(0,t);return u*=i/Math.sqrt(o)/r.scale}},function(e,t,r){var n=r(191);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(18),a=r(192);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStringFromArrayBuffer=function(e,t,r){(0,n.assert)(e instanceof ArrayBuffer);var a=new TextDecoder("utf8"),i=new Uint8Array(e,t,r);return a.decode(i)},t.getStringFromTypedArray=function(e){return(0,n.assert)(ArrayBuffer.isView(e)),new TextDecoder("utf8").decode(e)},t.getMagicString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new DataView(e);return"".concat(String.fromCharCode(r.getUint8(t+0))).concat(String.fromCharCode(r.getUint8(t+1))).concat(String.fromCharCode(r.getUint8(t+2))).concat(String.fromCharCode(r.getUint8(t+3)))};var n=r(7)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DracoLoader",{enumerable:!0,get:function(){return a.DracoLoader}}),Object.defineProperty(t,"DracoWorkerLoader",{enumerable:!0,get:function(){return a.DracoWorkerLoader}}),Object.defineProperty(t,"DracoWriter",{enumerable:!0,get:function(){return i.default}});var a=r(198),i=n(r(200))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.loadDracoDecoderModule=function(e){return h.apply(this,arguments)},t.loadDracoEncoderModule=function(e){return p.apply(this,arguments)};var a,i,o=n(r(38)),u=n(r(4)),s=n(r(11)),c=n(r(5)),f=r(7);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){return(h=(0,c.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modules||{},a=r.draco3d?a||new Promise((function(e){var t=r.draco3d.createDecoderModule({onModuleLoaded:function(){e({draco:t})}})})):a||y(t),e.next=4,a;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,c.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modules||{},i=r.draco3d?i||new Promise((function(e){var t=r.draco3d.createEncoderModule({onModuleLoaded:function(){e({draco:t})}})})):i||m(t),e.next=4,i;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=(0,c.default)(u.default.mark((function e(t){var r,n,a,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,(0,f.loadLibrary)("draco_decoder.js","draco",t);case 5:return r=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,(0,f.loadLibrary)("draco_wasm_wrapper.js","draco",t);case 10:return e.t2=e.sent,e.next=13,(0,f.loadLibrary)("draco_decoder.wasm","draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:a=e.sent,i=(0,o.default)(a,2),r=i[0],n=i[1];case 21:return r=r||f.global.DracoDecoderModule,e.next=24,b(r,n);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){var r={};return t&&(r.wasmBinary=t),new Promise((function(t){e(d(d({},r),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}function m(e){return g.apply(this,arguments)}function g(){return(g=(0,c.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.loadLibrary)("draco_encoder.js","draco",t);case 2:return r=(r=e.sent)||f.global.DracoEncoderModule,e.abrupt("return",new Promise((function(e){r({onModuleLoaded:function(t){return e({draco:t})}})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"object"===(0,a.default)(e)&&e.mode&&e.attributes&&"object"===(0,a.default)(e.attributes)};var a=n(r(18))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makePrimitiveIterator=c;var a=n(r(4)),i=r(49),o=r(128),u=r(7),s=a.default.mark(c);function c(e){var t,r,n,c,f,l,d,h;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.indices,r=e.attributes,n=e.mode,c=e.start,f=void 0===c?0:c,l=e.end,t&&(t=t.values||t.value||t),void 0===l&&(l=t?t.length:f),d={attributes:r,type:(0,o.getPrimitiveModeType)(n),i1:0,i2:0,i3:0},h=f;case 5:if(!(h<l)){a.next=44;break}a.t0=n,a.next=a.t0===i.GL.POINTS?9:a.t0===i.GL.LINES?12:a.t0===i.GL.LINE_STRIP?16:a.t0===i.GL.LINE_LOOP?20:a.t0===i.GL.TRIANGLES?24:a.t0===i.GL.TRIANGLE_STRIP?29:a.t0===i.GL.TRIANGLE_FAN?33:38;break;case 9:return d.i1=h,h+=1,a.abrupt("break",39);case 12:return d.i1=h,d.i2=h+1,h+=2,a.abrupt("break",39);case 16:case 20:return d.i1=h,d.i2=h+1,h+=1,a.abrupt("break",39);case 24:return d.i1=h,d.i2=h+1,d.i3=h+2,h+=3,a.abrupt("break",39);case 29:return d.i1=h,d.i2=h+1,h+=1,a.abrupt("break",39);case 33:return d.i1=1,d.i2=h,d.i3=h+1,h+=1,a.abrupt("break",39);case 38:(0,u.assert)(!1);case 39:return t&&"i1"in d&&(d.i1=t[d.i1],d.i2=t[d.i2],d.i3=t[d.i3]),a.next=42,d;case 42:a.next=5;break;case 44:case"end":return a.stop()}}),s)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getPrimitiveModeType=function(e){switch(e){case a.GL.POINTS:return a.GL.POINTS;case a.GL.LINES:case a.GL.LINE_STRIP:case a.GL.LINE_LOOP:return a.GL.LINES;case a.GL.TRIANGLES:case a.GL.TRIANGLE_STRIP:case a.GL.TRIANGLE_FAN:return a.GL.TRIANGLES;default:return(0,i.default)(!1)}},t.isPrimitiveModeExpandable=function(e){switch(e){case a.GL.LINE_STRIP:case a.GL.LINE_LOOP:case a.GL.TRIANGLE_STRIP:case a.GL.TRIANGLE_FAN:return!0;default:return!1}},t.getPrimitiveModeExpandedLength=function(e,t){switch(e){case a.GL.POINTS:case a.GL.LINES:case a.GL.LINE_STRIP:return t;case a.GL.LINE_LOOP:return t+1;case a.GL.TRIANGLES:return t;case a.GL.TRIANGLE_STRIP:case a.GL.TRIANGLE_FAN:return 3*(t-2);default:return(0,i.default)(!1)}};var a=r(49),i=n(r(61))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTileGLTFViewSync=function(e,t,r,n){e.rotateYtoZ=!0;var a=e.byteOffset+e.byteLength-r;if(0===a)throw new Error("glTF byte length must be greater than 0.");e.gltfUpAxis=n["3d-tiles"]&&n["3d-tiles"].assetGltfUpAxis?n["3d-tiles"].assetGltfUpAxis:"Y",e.gltfArrayBuffer=(0,u.getZeroOffsetArrayBuffer)(t,r,a),e.gltfByteOffset=0,e.gltfByteLength=a,r%4==0||console.warn("".concat(e.type,": embedded glb is not aligned to a 4-byte boundary."));return e.byteOffset+e.byteLength},t.extractGLTF=function(e,t,r,n){return c.apply(this,arguments)},t.GLTF_FORMAT=void 0;var a=n(r(4)),i=n(r(5)),o=r(216),u=r(7),s={URI:0,EMBEDDED:1};function c(){return(c=(0,i.default)(a.default.mark((function e(t,r,n,i){var u,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=n["3d-tiles"]||{},f(t,r,n),!u.loadGLTF){e.next=16;break}if(s=i.parse,c=i.fetch,!t.gltfUrl){e.next=9;break}return e.next=7,c(t.gltfUrl,n);case 7:t.gltfArrayBuffer=e.sent,t.gltfByteOffset=0;case 9:if(!t.gltfArrayBuffer){e.next=16;break}return e.next=12,s(t.gltfArrayBuffer,o.GLTFLoader,n,i);case 12:t.gltf=e.sent,delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,r){switch(t){case s.URI:var n=new Uint8Array(e.gltfArrayBuffer,e.gltfByteOffset),a=(new TextDecoder).decode(n);e.gltfUrl=a.replace(/[\s\0]+$/,""),delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength;break;case s.EMBEDDED:break;default:throw new Error("b3dm: Illegal glTF format field")}}t.GLTF_FORMAT=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isImageTypeSupported=function(e){switch(e){case"auto":return o||i||s;case"imagebitmap":return o;case"image":return i;case"data":return s;case"html":return i;case"ndarray":return s;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}},t.getDefaultImageType=function(){if(o)return"imagebitmap";if(i)return"image";if(s)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")};var n=r(83),a=n.global._parseImageNode,i="undefined"!=typeof Image,o="undefined"!=typeof ImageBitmap,u=Boolean(a),s=!!n.isBrowser||u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return u.apply(this,arguments)},t.loadToImage=s;var a=n(r(4)),i=n(r(5)),o=r(132);function u(){return(u=(0,i.default)(a.default.mark((function e(t,r,n){var i,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o.getBlobOrSVGDataUrl)(t,n),u=self.URL||self.webkitURL,c="string"!=typeof i&&u.createObjectURL(i),e.prev=3,e.next=6,s(c||i,r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,c&&u.revokeObjectURL(c),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function s(e,t){return c.apply(this,arguments)}function c(){return(c=(0,i.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new Image).src=t,!(r.image&&r.image.decode&&n.decode)){e.next=6;break}return e.next=5,n.decode();case 5:return e.abrupt("return",n);case 6:return e.next=8,new Promise((function(e,r){try{n.onload=function(){return e(n)},n.onerror=function(e){return r(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(e){r(e)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSVG=i,t.getBlobOrSVGDataUrl=function(e,t){if(i(t)){var r=(new TextDecoder).decode(e);return"data:image/svg+xml;base64,".concat(btoa(r))}return o(e,t)},t.getBlob=o;var n=/^data:image\/svg\+xml/,a=/\.svg((\?|#).*)?$/;function i(e){return e&&(n.test(e)||a.test(e))}function o(e,t){if(i(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGLB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new DataView(e),a=r.magic,i=void 0===a?1735152710:a,o=n.getUint32(t,!1);return o===i||1735152710===o},t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new DataView(t);e.type=a(n,r+0),e.version=n.getUint32(r+4,!0);var u=n.getUint32(r+8,!0);switch(e.header={byteOffset:r,byteLength:u},e.json={},e.binChunks=[],r+=12,e.version){case 1:return i(e,n,r,{});case 2:return o(e,n,r,{});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}};var n=r(7);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function i(e,t,r,a){(0,n.assert)(e.header.byteLength>20);var i=t.getUint32(r+0,!0),o=t.getUint32(r+4,!0);return r+=8,(0,n.assert)(0===o),u(e,t,r,i,a),r+=i,r+=s(e,t,r,e.header.byteLength,a)}function o(e,t,r,a){return(0,n.assert)(e.header.byteLength>20),function(e,t,r,a){for(;r+8<=e.header.byteLength;){var i=t.getUint32(r+0,!0),o=t.getUint32(r+4,!0);switch(r+=8,o){case 1313821514:u(e,t,r,i,a);break;case 5130562:s(e,t,r,i,a);break;case 0:a.glb.strict||u(e,t,r,i,a);break;case 1:a.glb.strict||s(e,t,r,i,a)}r+=(0,n.padTo4Bytes)(i)}}(e,t,r,a),r+e.header.byteLength}function u(e,t,r,a,i){var o=new Uint8Array(t.buffer,r,a),u=new TextDecoder("utf8").decode(o);return e.json=JSON.parse(u),(0,n.padTo4Bytes)(a)}function s(e,t,r,a,i){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:r,byteLength:a,arrayBuffer:t.buffer}),(0,n.padTo4Bytes)(a)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(new m).postProcess(e,t)};var a,i=n(r(18)),o=n(r(13)),u=n(r(14)),s=n(r(11)),c=n(r(40)),f=r(67);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},p={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},y={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},v={magFilter:y.TEXTURE_MAG_FILTER,minFilter:y.TEXTURE_MIN_FILTER,wrapS:y.TEXTURE_WRAP_S,wrapT:y.TEXTURE_WRAP_T},b=(a={},(0,s.default)(a,y.TEXTURE_MAG_FILTER,y.LINEAR),(0,s.default)(a,y.TEXTURE_MIN_FILTER,y.NEAREST_MIPMAP_LINEAR),(0,s.default)(a,y.TEXTURE_WRAP_S,y.REPEAT),(0,s.default)(a,y.TEXTURE_WRAP_,y.REPEAT),a);var m=function(){function e(){(0,o.default)(this,e)}return(0,u.default)(e,[{key:"postProcess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.json,n=e.buffers,a=void 0===n?[]:n,i=e.images,o=void 0===i?[]:i,u=e.baseUri,s=void 0===u?"":u;return(0,c.default)(r),this.baseUri=s,this.json=r,this.buffers=a,this.images=o,this._resolveTree(this.json,t),this.json}},{key:"_resolveTree",value:function(e){var t=this;e.bufferViews&&(e.bufferViews=e.bufferViews.map((function(e,r){return t._resolveBufferView(e,r)}))),e.images&&(e.images=e.images.map((function(e,r){return t._resolveImage(e,r)}))),e.samplers&&(e.samplers=e.samplers.map((function(e,r){return t._resolveSampler(e,r)}))),e.textures&&(e.textures=e.textures.map((function(e,r){return t._resolveTexture(e,r)}))),e.accessors&&(e.accessors=e.accessors.map((function(e,r){return t._resolveAccessor(e,r)}))),e.materials&&(e.materials=e.materials.map((function(e,r){return t._resolveMaterial(e,r)}))),e.meshes&&(e.meshes=e.meshes.map((function(e,r){return t._resolveMesh(e,r)}))),e.nodes&&(e.nodes=e.nodes.map((function(e,r){return t._resolveNode(e,r)}))),e.skins&&(e.skins=e.skins.map((function(e,r){return t._resolveSkin(e,r)}))),e.scenes&&(e.scenes=e.scenes.map((function(e,r){return t._resolveScene(e,r)}))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===(0,i.default)(t))return t;var r=this.json[e]&&this.json[e][t];return r||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),r}},{key:"_resolveScene",value:function(e,t){var r=this;return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return r.getNode(e)})),e}},{key:"_resolveNode",value:function(e,t){var r=this;return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((function(e){return r.getNode(e)}))),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}},{key:"_resolveSkin",value:function(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}},{key:"_resolveMesh",value:function(e,t){var r=this;return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((function(e){var t=(e=d({},e)).attributes;for(var n in e.attributes={},t)e.attributes[n]=r.getAccessor(t[n]);return void 0!==e.indices&&(e.indices=r.getAccessor(e.indices)),void 0!==e.material&&(e.material=r.getMaterial(e.material)),e}))),e}},{key:"_resolveMaterial",value:function(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=d({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=d({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=d({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){e.pbrMetallicRoughness=d({},e.pbrMetallicRoughness);var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture=d({},r.baseColorTexture),r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture=d({},r.metallicRoughnessTexture),r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}return e}},{key:"_resolveAccessor",value:function(e,t){var r,n;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(r=e.componentType,p[r]),e.components=(n=e.type,h[n]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){var a=e.bufferView.buffer,i=(0,f.getAccessorArrayTypeAndLength)(e,e.bufferView),o=i.ArrayType,u=i.length,s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+a.byteOffset;e.value=new o(a.arrayBuffer,s,u)}return e}},{key:"_resolveTexture",value:function(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):b,e.source=this.getImage(e.source),e}},{key:"_resolveSampler",value:function(e,t){for(var r in e.id=e.id||"sampler-".concat(t),e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}return e}},{key:"_enumSamplerParameter",value:function(e){return v[e]}},{key:"_resolveImage",value:function(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var r=this.images[t];return r&&(e.image=r),e}},{key:"_resolveBufferView",value:function(e,t){e.id=e.id||"bufferView-".concat(t);var r=e.buffer;e.buffer=this.buffers[r];var n=this.buffers[r].arrayBuffer,a=this.buffers[r].byteOffset||0;return"byteOffset"in e&&(a+=e.byteOffset),e.data=new Uint8Array(n,a,e.byteLength),e}},{key:"_resolveCamera",value:function(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}]),e}()},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.encodeGLTFSync=function(e,t,r,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.firstBuffer,n=void 0===r?0:r;if(e.buffers&&e.buffers.length>n)throw new Error("encodeGLTF: multiple buffers not yet implemented")}(e),(0,a.default)(e,t,r,n)};var a=n(r(86))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getIonTilesetMetadata=function(e,t){return p.apply(this,arguments)},t.getIonAssets=y,t.getIonAssetMetadata=b;var a=n(r(11)),i=n(r(4)),o=n(r(5)),u=r(75),s=r(7);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h="https://api.cesium.com/v1/assets";function p(){return(p=(0,o.default)(i.default.mark((function e(t,r){var n,a,o,u,c,f,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=6;break}return e.next=3,y(t);case 3:n=e.sent,a=l(n.items);try{for(a.s();!(o=a.n()).done;)"3DTILES"===(u=o.value).type&&(r=u.id)}catch(e){a.e(e)}finally{a.f()}case 6:return e.next=8,b(t,r);case 8:return c=e.sent,f=c.type,d=c.url,(0,s.assert)("3DTILES"===f&&d),c.headers={Authorization:"Bearer ".concat(c.accessToken)},e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=(0,o.default)(i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,s.assert)(t),h,r={Authorization:"Bearer ".concat(t)},e.next=5,(0,u.fetchFile)("https://api.cesium.com/v1/assets",{headers:r,throws:!0});case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return m.apply(this,arguments)}function m(){return(m=(0,o.default)(i.default.mark((function e(t,r){var n,a,o,c,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,s.assert)(t,r),n={Authorization:"Bearer ".concat(t)},a="".concat(h,"/").concat(r),e.next=5,(0,u.fetchFile)("".concat(a),{headers:n,throws:!0});case 5:return o=e.sent,e.next=8,o.json();case 8:return c=e.sent,e.next=11,(0,u.fetchFile)("".concat(a,"/endpoint"),{headers:n,throws:!0});case 11:return o=e.sent,e.next=14,o.json();case 14:return l=e.sent,c=f(f({},c),l),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";r.r(t),r.d(t,"Stats",(function(){return u})),r.d(t,"Stat",(function(){return o})),r.d(t,"_getHiResTimestamp",(function(){return i.a}));var n=r(8),a=r(6),i=r(52),o=function(){function e(t,r){Object(n.a)(this,e),this.name=t,this.type=r,this.sampleSize=1,this.reset()}return Object(a.a)(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=Object(i.a)(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(Object(i.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),u=function(){function e(t){var r=t.id,a=t.stats;Object(n.a)(this,e),this.id=r,this.stats={},this._initializeStats(a),Object.seal(this)}return Object(a.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,r=e.type;return this.stats[t]||(this.stats[t]=e instanceof o?e:new o(t,r)),this.stats[t]}},{key:"size",get:function(){return Object.keys(this.stats).length}}]),e}()},function(e,t,r){"use strict";(function(t){var n=r(139),a="undefined"==typeof window?t:window;a.loaders=a.loaders||{},e.exports=Object.assign(a.loaders,n)}).call(this,r(56))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Tiles3DLoader",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CesiumIonLoader",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Tile3DWriter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Tile3DFeatureTable",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Tile3DBatchTable",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"TILE3D_TYPE",{enumerable:!0,get:function(){return c.TILE3D_TYPE}}),Object.defineProperty(t,"_getIonTilesetMetadata",{enumerable:!0,get:function(){return f.getIonTilesetMetadata}});var a=n(r(88)),i=n(r(246)),o=n(r(247)),u=n(r(62)),s=n(r(80)),c=r(33),f=r(136)},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof l?t:l,i=Object.create(a.prototype),o=new _(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return j()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var u=O(o,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,o),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function l(){}function d(){}function h(){}var p={};p[a]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==t&&r.call(v,a)&&(p=v);var b=h.prototype=l.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var n;this._invoke=function(a,i){function o(){return new t((function(n,o){!function n(a,i,o,u){var s=c(e[a],e,i);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){f.value=e,o(f)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}(a,i,n,o)}))}return n=n?n.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=b.constructor=h,h.constructor=d,d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},m(g.prototype),g.prototype[i]=function(){return this},e.AsyncIterator=g,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new g(s(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(b),u(b,o,"Generator"),b[a]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;T(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"==typeof self)return;var t=0,r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(a,i){var o=t++;self.addEventListener("message",(function e(t){var r=t.data;if(r&&r.id===o)switch(r.type){case"parse-done":self.removeEventListener("message",e),a(r.result);break;case"parse-error":self.removeEventListener("message",e),i(r.message)}})),self.postMessage({type:"parse",id:o,arraybuffer:e,options:r,url:n},[e])}))};self.onmessage=function(){var t=(0,o.default)(i.default.mark((function t(n){var a,o,c,f,d,p,y,v,b,m;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.data,t.prev=1,h(a,e.name)){t.next=4;break}return t.abrupt("return");case 4:return(0,s.validateLoaderVersion)(e,a.source.split("@")[1]),o=a.arraybuffer,c=a.byteOffset,f=void 0===c?0:c,d=a.byteLength,p=void 0===d?0:d,y=a.options,v=void 0===y?{}:y,t.next=8,l({loader:e,arraybuffer:o,byteOffset:f,byteLength:p,options:v,context:{parse:r}});case 8:b=t.sent,m=(0,u.getTransferList)(b),self.postMessage({type:"done",result:b},m),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),self.postMessage({type:"error",message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()};var a=n(r(11)),i=n(r(4)),o=n(r(5)),u=r(72),s=r(90);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){return d.apply(this,arguments)}function d(){return(d=(0,o.default)(i.default.mark((function e(t){var r,n,a,o,u,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arraybuffer,t.byteOffset,t.byteLength,a=t.options,o=t.context,!r.parseSync&&!r.parse){e.next=6;break}u=n,s=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,u=c.decode(n),s=r.parseTextSync,e.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return a=f(f({},a),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,s(u,f({},a),o,r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return e&&"parse"===e.type&&e.source&&e.source.startsWith("loaders.gl")}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeTransformIterator=function(e,t,r){return s.apply(this,arguments)};var a=n(r(4)),i=n(r(35)),o=n(r(36)),u=n(r(31));function s(){return(s=(0,o.default)(a.default.mark((function e(t,r,n){var o,s,c,f,l,d,h,p,y,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new r(n),s=!0,c=!1,e.prev=3,l=(0,u.default)(t);case 5:return e.next=7,(0,i.default)(l.next());case 7:return d=e.sent,s=d.done,e.next=11,(0,i.default)(d.value);case 11:if(h=e.sent,s){e.next=23;break}return p=h,e.next=16,(0,i.default)(o.write(p));case 16:if(!(y=e.sent)){e.next=20;break}return e.next=20,y;case 20:s=!0,e.next=5;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(3),c=!0,f=e.t0;case 29:if(e.prev=29,e.prev=30,s||null==l.return){e.next=34;break}return e.next=34,(0,i.default)(l.return());case 34:if(e.prev=34,!c){e.next=37;break}throw f;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.next=41,(0,i.default)(o.end());case 41:if(!(v=e.sent)){e.next=45;break}return e.next=45,v;case 45:case"end":return e.stop()}}),e,null,[[3,25,29,39],[30,,34,38]])})))).apply(this,arguments)}},function(e,t,r){var n=r(91);function a(e){var t,r;function a(t,r){try{var o=e[t](r),u=o.value,s=u instanceof n;Promise.resolve(s?u.wrapped:u).then((function(e){s?a("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(e){i("throw",e)}}function i(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(i,o){var u={key:e,arg:n,resolve:i,reject:o,next:null};r?r=r.next=u:(t=r=u,a(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)},e.exports=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(5)),o=n(r(13)),u=n(r(14)),s=n(r(92)),c=function(){function e(t){var r=t.maxConcurrency,n=void 0===r?5:r,a=t.onMessage,i=void 0===a?null:a,u=t.onDebug,s=void 0===u?function(){}:u,c=t.reuseWorkers,f=void 0===c||c;(0,o.default)(this,e),this.maxConcurrency=n,this.onMessage=i,this.onDebug=s,this.workerPools=new Map,this.reuseWorkers=f}var t;return(0,u.default)(e,null,[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}]),(0,u.default)(e,[{key:"setProps",value:function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug),"reuseWorkers"in e&&(this.reuseWorkers=e.reuseWorkers)}},{key:"destroy",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:"process",value:(t=(0,i.default)(a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getWorkerPool(t,r),e.abrupt("return",i.process(n));case 2:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_getWorkerPool",value:function(e,t){var r=this.workerPools.get(t);return r||(r=new s.default({source:e,name:t,onMessage:f.bind(null,this.onMessage),maxConcurrency:this.maxConcurrency,onDebug:this.onDebug,reuseWorkers:this.reuseWorkers}),this.workerPools.set(t,r)),r}}]),e}();function f(e,t){var r=t.worker,n=t.data,a=t.resolve,i=t.reject;if(e)e({worker:r,data:n,resolve:a,reject:i});else switch(n.type){case"done":a(n.result);break;case"error":i(n.message)}}t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerURL=function(e){if((0,a.default)("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){var t=e.match(/^url\((.*)\)$/)[1];if(t&&!t.startsWith("http"))return t;e=o(t)}var r=i.get(e);if(!r){var n=new Blob([e],{type:"application/javascript"});r=URL.createObjectURL(n),i.set(e,r)}return r};var a=n(r(30)),i=new Map;function o(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n}")}},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.loadLibrary=function(e){return l.apply(this,arguments)},t.getLibraryUrl=d;var i=a(r(4)),o=a(r(5)),u=r(89),s=n(r(147)),c=a(r(30)),f={};function l(){return(l=(0,o.default)(i.default.mark((function e(t){var r,n,a=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:null,n=a.length>2&&void 0!==a[2]?a[2]:{},r&&(t=d(t,r,n)),f[t]=f[t]||h(t),e.next=6,f[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,r){var n=r.modules||{};return n[e]?n[e]:u.isBrowser?r.CDN?((0,c.default)(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(t,"@").concat("2.3.13","/dist/libs/").concat(e)):u.isWorker?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function h(e){return p.apply(this,arguments)}function p(){return(p=(0,o.default)(i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(u.isBrowser){e.next=9;break}return e.abrupt("return",s.requireFromFile&&s.requireFromFile(t));case 9:if(!u.isWorker){e.next=11;break}return e.abrupt("return",importScripts(t));case 11:return e.next=13,fetch(t);case 13:return n=e.sent,e.next=16,n.text();case 16:return a=e.sent,e.abrupt("return",y(a,t));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){if(!u.isBrowser)return s.requireFromString&&s.requireFromString(e,t);if(u.isWorker)return eval.call(u.global,e),null;var r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=function(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat((0,n.getFirstCharacters)(e),'"'))}};var n=r(94)},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isBuffer=function(e){return e&&"object"===(0,i.default)(e)&&e.isBuffer},t.toBuffer=function(e){return o.toBuffer?o.toBuffer(e):e},t.bufferToArrayBuffer=function(e){if(o.toArrayBuffer)return o.toArrayBuffer(e);return e};var i=a(r(18)),o=n(r(95))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPaddedArrayBufferToDataView=a,t.copyPaddedStringToDataView=function(e,t,r){var n=(new TextEncoder).encode(r);return t=a(e,t,n)};var n=r(96);function a(e,t,r){var a=(0,n.padTo4Bytes)(r.byteLength),i=a-r.byteLength;if(e){var o=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),u=new Uint8Array(r);o.set(u);for(var s=0;s<i;++s)e.setUint8(t+r.byteLength+s,32)}return t+=a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padStringToByteAlignment=function(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,a="",i=0;i<n;++i)a+=" ";return e+a},t.copyStringToDataView=function(e,t,r,n){if(e)for(var a=0;a<n;a++)e.setUint8(t+a,r.charCodeAt(a));return t+n},t.copyBinaryToDataView=function(e,t,r,n){if(e)for(var a=0;a<n;a++)e.setUint8(t+a,r[a]),t++;return t+n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dirname=function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeTextDecoderIterator=function(e,t){return s.apply(this,arguments)},t.makeTextEncoderIterator=function(e,t){return c.apply(this,arguments)},t.makeLineIterator=function(e){return f.apply(this,arguments)},t.makeNumberedLineIterator=function(e){return l.apply(this,arguments)};var a=n(r(4)),i=n(r(35)),o=n(r(36)),u=n(r(31));function s(){return(s=(0,o.default)(a.default.mark((function e(t,r){var n,o,s,c,f,l,d,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextDecoder(r),o=!0,s=!1,e.prev=3,f=(0,u.default)(t);case 5:return e.next=7,(0,i.default)(f.next());case 7:return l=e.sent,o=l.done,e.next=11,(0,i.default)(l.value);case 11:if(d=e.sent,o){e.next=19;break}return h=d,e.next=16,"string"==typeof h?h:n.decode(h,{stream:!0});case 16:o=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),s=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==f.return){e.next=30;break}return e.next=30,(0,i.default)(f.return());case 30:if(e.prev=30,!s){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function c(){return(c=(0,o.default)(a.default.mark((function e(t,r){var n,o,s,c,f,l,d,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextEncoder,o=!0,s=!1,e.prev=3,f=(0,u.default)(t);case 5:return e.next=7,(0,i.default)(f.next());case 7:return l=e.sent,o=l.done,e.next=11,(0,i.default)(l.value);case 11:if(d=e.sent,o){e.next=19;break}return h=d,e.next=16,"string"==typeof h?n.encode(h):h;case 16:o=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),s=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==f.return){e.next=30;break}return e.next=30,(0,i.default)(f.return());case 30:if(e.prev=30,!s){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function f(){return(f=(0,o.default)(a.default.mark((function e(t){var r,n,o,s,c,f,l,d,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",n=!0,o=!1,e.prev=3,c=(0,u.default)(t);case 5:return e.next=7,(0,i.default)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,(0,i.default)(f.value);case 11:if(l=e.sent,n){e.next=26;break}r+=l,d=void 0;case 16:if(!((d=r.indexOf("\n"))>=0)){e.next=23;break}return h=r.slice(0,d+1),r=r.slice(d+1),e.next=21,h;case 21:e.next=16;break;case 23:n=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),o=!0,s=e.t0;case 32:if(e.prev=32,e.prev=33,n||null==c.return){e.next=37;break}return e.next=37,(0,i.default)(c.return());case 37:if(e.prev=37,!o){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case"end":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function l(){return(l=(0,o.default)(a.default.mark((function e(t){var r,n,o,s,c,f,l,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,n=!0,o=!1,e.prev=3,c=(0,u.default)(t);case 5:return e.next=7,(0,i.default)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,(0,i.default)(f.value);case 11:if(l=e.sent,n){e.next=20;break}return d=l,e.next=16,{counter:r,line:d};case 16:r++;case 17:n=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),o=!0,s=e.t0;case 26:if(e.prev=26,e.prev=27,n||null==c.return){e.next=31;break}return e.next=31,(0,i.default)(c.return());case 31:if(e.prev=31,!o){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t){return c.apply(this,arguments)},t.concatenateChunksAsync=function(e){return f.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=n(r(31)),u=r(73),s=n(r(30));function c(){return(c=(0,i.default)(a.default.mark((function e(t,r){var n,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,i=n.done,o=n.value,!i){e.next=9;break}return t.return(),e.abrupt("return");case 9:if(!r(o)){e.next=12;break}return e.abrupt("return");case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,i.default)(a.default.mark((function e(t){var r,n,i,c,f,l,d,h,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=[],i=!0,c=!1,e.prev=4,l=(0,o.default)(t);case 6:return e.next=8,l.next();case 8:return d=e.sent,i=d.done,e.next=12,d.value;case 12:if(h=e.sent,i){e.next=19;break}"string"==typeof(p=h)?n.push(p):r.push(p);case 16:i=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),c=!0,f=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==l.return){e.next=30;break}return e.next=30,l.return();case 30:if(e.prev=30,!c){e.next=33;break}throw f;case 33:return e.finish(30);case 34:return e.finish(25);case 35:if(!(n.length>0)){e.next=38;break}return(0,s.default)(0===r.length),e.abrupt("return",n.join(""));case 38:return e.abrupt("return",u.concatenateArrayBuffers.apply(void 0,r));case 39:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(11)),i=n(r(13)),o=n(r(14)),u=r(137);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={id:"request-scheduler",throttleRequests:!0,maxRequests:6},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e),this.props=c(c({},f),t),this.requestQueue=[],this.activeRequestCount=0,this.requestMap=new Map,this.stats=new u.Stats({id:t.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever"),this._deferredUpdate=null}return(0,o.default)(e,[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:"_issueRequest",value:function(e){var t=this,r=e.handle,n=e.resolve,a=!1,i=function(){a||(a=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:i}):Promise.resolve({done:i})}},{key:"_issueNewRequests",value:function(){var e=this;this._deferredUpdate||(this._deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this._deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t)if(this.requestQueue.length>0){var r=this.requestQueue.shift();this._issueRequest(r)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}();t.default=l},function(e,t,r){"use strict";(function(e){var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(37)),o=n(r(11)),u=n(r(5)),s=n(r(13)),c=n(r(14)),f=n(r(100)),l=n(r(30)),d=r(160);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={command:null,arguments:[],portArg:null,port:"auto",basePort:5e3,wait:2e3,nodeSpawnOptions:{maxBuffer:512e4},onSuccess:function(e){console.log("Started ".concat(e.options.command))}},v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,n=void 0===r?"browser-driver":r;(0,s.default)(this,t),this.id=n,this.childProcess=null,this.port=null}var r,n,o;return(0,c.default)(t,[{key:"start",value:(o=(0,u.default)(a.default.mark((function e(){var t,r,n=this,o=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},t=p(p({},y),t),(0,l.default)(t.command&&"string"==typeof t.command),this.options=t,r=(0,i.default)(t.arguments),this.port=t.port,!t.portArg){e.next=12;break}if("auto"!==this.port){e.next=11;break}return e.next=10,(0,d.getAvailablePort)(t.basePort);case 10:this.port=e.sent;case 11:r.push(t.portArg,this.port);case 12:return e.next=14,new Promise((function(e,a){try{var i=setTimeout((function(){t.onSuccess&&t.onSuccess(n),e({})}),t.wait);console.log("Spawning ".concat(t.command," ").concat(t.arguments.join(" "))),n.childProcess=f.default.spawn(t.command,r,t.spawn),n.childProcess.stderr.on("data",(function(e){console.log('Child process wrote to stderr: "'.concat(e,'".')),clearTimeout(i),a(new Error(e))})),n.childProcess.on("error",(function(e){console.log("Child process errored with ".concat(e)),clearTimeout(i),a(e)})),n.childProcess.on("close",(function(e){console.log("Child process exited with ".concat(e)),n.childProcess=null}))}catch(e){a(e)}}));case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"stop",value:(n=(0,u.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.childProcess&&(this.childProcess.kill(),this.childProcess=null);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"exit",value:(r=(0,u.default)(a.default.mark((function t(){var r,n=arguments;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:0,t.prev=1,t.next=4,this.stop();case 4:e.exit(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0.message||t.t0),e.exit(1);case 11:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(){return r.apply(this,arguments)})}]),t}();t.default=v}).call(this,r(57))},function(e,t,r){var n=r(98);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailablePort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;return new Promise((function(t,r){a.default.exec("lsof -i -P -n | grep LISTEN",(function(r,n,a){if(r)t(e);else{var i=[],o=/:(\d+) \(LISTEN\)/;n.split("\n").forEach((function(e){var t=e.match(o);t&&i.push(Number(t[1]))}));for(var u=e;i.includes(u);)u++;t(u)}}))}))};var a=n(r(100))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMeshSize=function(e){var t=0;for(var r in e){var n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t},t.getMeshBoundingBox=function(e){if(!e||!e.POSITION)return null;var t=1/0,r=1/0,n=1/0,a=-1/0,i=-1/0,o=-1/0,u=e.POSITION.value,s=u&&u.length;if(!s)return null;for(var c=0;c<s;c+=3){var f=u[c],l=u[c+1],d=u[c+2];t=f<t?f:t,r=l<r?l:r,n=d<n?d:n,a=f>a?f:a,i=l>i?l:i,o=d>o?d:o}return[[t,r,n],[a,i,o]]}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(5)),o=n(r(11)),u=n(r(13)),s=n(r(14)),c=r(12),f=r(51),l=r(137),d=r(7),h=n(r(108)),p=r(109),y=r(110),v=r(165),b=n(r(74)),m=n(r(190)),g=n(r(60)),O=n(r(194)),w=r(48);function T(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={ellipsoid:f.Ellipsoid.WGS84,modelMatrix:new c.Matrix4,throttleRequests:!1,maximumMemoryUsage:32,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(e,t,r){},maximumScreenSpaceError:8},E=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.default)(this,e),(0,d.assert)(t),this.options=j(j({},x),r),this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||d.path.dirname(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.fetchOptions=this.options.fetchOptions||{},this.options.headers&&(this.fetchOptions.headers=this.options.headers),this.options.token&&(this.fetchOptions.token=this.options.token),this.root=null,this.cartographicCenter=null,this.cartesianCenter=null,this.zoom=1,this.boundingVolume=null,this._traverser=this._initializeTraverser(),this._cache=new h.default,this._requestScheduler=new d.RequestScheduler({throttleRequests:this.options.throttleRequests}),this._frameNumber=0,this._updateFrameNumber=0,this._pendingCount=0,this._tiles={},this.selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this._selectedTilesToStyle=[],this._queryParams={},this._queryParamsString=null,this.maximumMemoryUsage=this.options.maximumMemoryUsage,this.gpuMemoryUsageInBytes=0,this.stats=new l.Stats({id:this.url}),this._initializeStats(),this._hasMixedContent=!1,this._maximumScreenSpaceError=this.options.maximumScreenSpaceError,this._properties=void 0,this._extensionsUsed=void 0,this._gltfUpAxis=void 0,this._dynamicScreenSpaceErrorComputedDensity=0,this.extras=null,this.asset={},this.credits={},this.description=this.options.description,this._defaultGeometrySchema=[],this._initializeTileSet(t,this.options)}var t;return(0,s.default)(e,[{key:"isLoaded",value:function(){return 0===this._pendingCount}},{key:"destroy",value:function(){this._destroy()}},{key:"getTileUrl",value:function(e){return e.startsWith("data:")?e:"".concat(e).concat(this.queryParams)}},{key:"update",value:function(e){this._cache.reset(),this._frameNumber++,this._frameState=(0,y.getFrameState)(e,this._frameNumber),this._traverser.traverse(this.root,this._frameState,this.options)}},{key:"_onTraversalEnd",value:function(){var e=Object.values(this._traverser.selectedTiles);this._tilesChanged(this.selectedTiles,e)&&this._updateFrameNumber++,this.selectedTiles=e;var t,r=T(this.selectedTiles);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._tiles[n.id]=n}}catch(e){r.e(e)}finally{r.f()}return this._requestedTiles=Object.values(this._traverser.requestedTiles),this._emptyTiles=Object.values(this._traverser.emptyTiles),this._loadTiles(this._frameState),this._unloadTiles(),this._updateStats(),this._updateFrameNumber}},{key:"_tilesChanged",value:function(e,t){if(e.length!==t.length)return!0;var r=new Set(e.map((function(e){return e.id}))),n=new Set(t.map((function(e){return e.id}))),a=e.filter((function(e){return!n.has(e.id)})).length>0;return a=a||t.filter((function(e){return!r.has(e.id)})).length>0}},{key:"_loadTiles",value:function(e){var t,r=T(this._requestedTiles);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.contentUnloaded&&this._loadTile(n,e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"_unloadTiles",value:function(){this._cache.unloadTiles(this,(function(e,t){return e._unloadTile(t)}))}},{key:"_updateStats",value:function(){var e,t=0,r=0,n=T(this.selectedTiles);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.contentAvailable&&(t++,a.content.pointCount&&(r+=a.content.pointCount))}}catch(e){n.e(e)}finally{n.f()}this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=t,this.stats.get("Points").count=r}},{key:"_initializeTileSet",value:function(e){this.root=this._initializeTileHeaders(e,null,this.basePath),this.type===w.TILESET_TYPE.TILES3D&&this._initializeCesiumTileset(e),this.type===w.TILESET_TYPE.I3S&&this._initializeI3STileset(e),this._calculateViewProps()}},{key:"_calculateViewProps",value:function(){var e=this.root,t=e.boundingVolume.center;if(!t)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new c.Vector3,void(this.zoom=1);this.cartographicCenter=f.Ellipsoid.WGS84.cartesianToCartographic(t,new c.Vector3),this.cartesianCenter=t,this.zoom=(0,v.getZoomFromBoundingVolume)(e.boundingVolume)}},{key:"_initializeStats",value:function(){this.stats.get("Tiles In Tileset(s)"),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points","memory"),this.stats.get("Tile Memory Use","memory")}},{key:"_initializeTileHeaders",value:function(e,t,r){var n=new b.default(this,e.root,t,r);if(t&&(t.children.push(n),n.depth=t.depth+1),this.type===w.TILESET_TYPE.TILES3D){var a=[];for(a.push(n);a.length>0;){var i=a.pop();this.stats.get("Tiles In Tileset(s)").incrementCount();var o,u=T(i.header.children||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=new b.default(this,s,i,r);i.children.push(c),c.depth=i.depth+1,a.push(c)}}catch(e){u.e(e)}finally{u.f()}}}return n}},{key:"_initializeTraverser",value:function(){var e;switch(this.type){case w.TILESET_TYPE.TILES3D:e=m.default;break;case w.TILESET_TYPE.I3S:e=O.default;break;default:e=g.default}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}},{key:"_destroyTileHeaders",value:function(e){this._destroySubtree(e)}},{key:"_loadTile",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._onStartTileLoading(),e.next=4,t.loadContent(r);case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onTileLoadError(t,e.t0);case 10:return e.prev=10,this._onEndTileLoading(),this._onTileLoad(t,n),e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[0,7,10,14]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_onTileLoadError",value:function(e,t){this.stats.get("Failed Tile Loads").incrementCount();var r=t.message||t.toString(),n=e.url;console.error("A 3D tile failed to load: ".concat(e.url," ").concat(r)),this.options.onTileError(e,r,n)}},{key:"_onTileLoad",value:function(e,t){t&&(e&&e.content&&(0,p.calculateTransformProps)(e,e.content),this._addTileToCache(e),this.options.onTileLoad(e))}},{key:"_onStartTileLoading",value:function(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()}},{key:"_onEndTileLoading",value:function(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()}},{key:"_addTileToCache",value:function(e){this._cache.add(this,e,(function(t){return t._updateCacheStats(e)}))}},{key:"_updateCacheStats",value:function(e){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=e.content.byteLength||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes}},{key:"_unloadTile",value:function(e){this.gpuMemoryUsageInBytes-=e.content.byteLength||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}},{key:"_destroy",value:function(){var e=[];for(this.root&&e.push(this.root);e.length>0;){var t,r=e.pop(),n=T(r.children);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(a)}}catch(e){n.e(e)}finally{n.f()}this._destroyTile(r)}this.root=null}},{key:"_destroySubtree",value:function(e){var t=e,r=[];for(r.push(t);r.length>0;){var n,a=T((e=r.pop()).children);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.push(i)}}catch(e){a.e(e)}finally{a.f()}e!==t&&this._destroyTile(e)}t.children=[]}},{key:"_destroyTile",value:function(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}},{key:"_initializeCesiumTileset",value:function(e){if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description,this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed,this.extras=e.extras}},{key:"_initializeI3STileset",value:function(e){"token"in this.options&&(this._queryParams.token=this.options.token),this._defaultGeometrySchema=e.store.defaultGeometrySchema}},{key:"hasExtension",value:function(e){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(e)>-1)}},{key:"tiles",get:function(){return Object.values(this._tiles)}},{key:"queryParams",get:function(){return this._queryParamsString||(this._queryParamsString=function(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];t.push("".concat(a,"=").concat(e[a]))}switch(t.length){case 0:return"";case 1:return"?".concat(t[0]);default:return"?".concat(t.join("&"))}}(this._queryParams)),this._queryParamsString}}]),e}();t.default=E},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13)),i=n(r(14)),o=n(r(164)),u=function(){function e(){(0,a.default)(this,e),this.head=null,this.tail=null,this._length=0}return(0,i.default)(e,[{key:"add",value:function(e){var t=new o.default(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}},{key:"remove",value:function(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}},{key:"splice",value:function(e,t){e!==t&&(this.remove(t),this._insert(e,t))}},{key:"_insert",value:function(e,t){var r=e.next;e.next=t,this.tail===e?this.tail=t:r.previous=t,t.next=r,t.previous=e,++this._length}},{key:"length",get:function(){return this._length}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13));t.default=function e(t,r,n){(0,a.default)(this,e),this.item=t,this.previous=r,this.next=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getZoomFromBoundingVolume=function(e){var t=e.halfAxes,r=e.radius,n=e.width,i=e.height;if(t){t.getColumn(0,a);var o=a.len();t.getColumn(1,a);var u=a.len();t.getColumn(2,a);var s=a.len(),c=o/2,f=u/2,l=s/2,d=Math.log2(6378137/c),h=Math.log2(6378137/f),p=Math.log2(6356752.314245179/l);return(d+h+p)/3}if(r)return Math.log2(6356752.314245179/r);if(i&&n){var y=Math.log2(6378137/n),v=Math.log2(6378137/i);return(y+v)/2}return 1};var n=r(12),a=new n.Vector3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(7);n.global.loaders=Object.assign(n.global.loaders||{},{VERSION:"2.3.13"});var a=n.global.loaders;t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMIMEType=function(e){if("string"!=typeof e)return"";var t=e.match(a);if(t)return t[1];return e},t.parseMIMETypeFromURL=function(e){if("string"!=typeof e)return"";var t=e.match(n);if(t)return t[1];return""};var n=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,a=/^([-\w.]+\/[-\w.+]+)/},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessageFromResponseSync=function(e){return"Failed to fetch resource ".concat(e.url,"(").concat(e.status,"): ").concat(e.statusText," ")},t.getErrorMessageFromResponse=function(e){return o.apply(this,arguments)};var a=n(r(4)),i=n(r(5));function o(){return(o=(0,i.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,!t.headers.get("Content-Type").includes("application/json")){e.next=10;break}return e.t0=r,e.next=7,t.text();case 7:r=e.t0+=e.sent,e.next=11;break;case 10:r+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(1),e.abrupt("return",r);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(23);Object.defineProperty(t,"__esModule",{value:!0}),t.readFileSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=(0,a.resolvePath)(e),!a.isBrowser&&i.readFileSync)return i.readFileSync(e,t);return(0,o.readFileSyncBrowser)(e,t)};var a=r(7),i=n(r(170)),o=r(171)},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFileSyncBrowser=function(e,t){t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},a,e)).responseType=e.responseType||e.dataType,e}(t),r=e,void r.startsWith("data:");var r;t.nothrow||(0,n.assert)(!1);return null};var n=r(7),a={dataType:"arraybuffer",nothrow:!0}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLoaderOptions=function(e){(0,n.setGlobalOptions)(e)};var n=r(26)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLog=t.NullLog=void 0;var a=n(r(13)),i=n(r(14)),o=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,[{key:"log",value:function(){return function(e){}}},{key:"info",value:function(){return function(e){}}},{key:"warn",value:function(){return function(e){}}},{key:"error",value:function(){return function(e){}}}]),e}();t.NullLog=o;var u=function(){function e(){(0,a.default)(this,e),this.console=console}return(0,i.default)(e,[{key:"log",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:"info",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}();t.ConsoleLog=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeStringIterator=o;var a=n(r(4)),i=a.default.mark(o);function o(e){var t,r,n,o,u,s,c,f=arguments;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=f.length>1&&void 0!==f[1]?f[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0,u=new TextEncoder;case 4:if(!(o<e.length)){a.next=12;break}return s=Math.min(e.length-o,n),c=e.slice(o,o+s),o+=s,a.next=10,u.encode(c);case 10:a.next=4;break;case 12:case"end":return a.stop()}}),i)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeArrayBufferIterator=o;var a=n(r(4)),i=a.default.mark(o);function o(e){var t,r,n,o,u,s,c,f=arguments;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=f.length>1&&void 0!==f[1]?f[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0;case 3:if(!(o<e.byteLength)){a.next=14;break}return u=Math.min(e.byteLength-o,n),s=new ArrayBuffer(u),c=new Uint8Array(e,o,u),new Uint8Array(s).set(c),o+=u,a.next=12,s;case 12:a.next=3;break;case 14:case"end":return a.stop()}}),i)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeStreamIterator=function(e){if(c.isBrowser||c.nodeVersion>=10){if("function"==typeof e[Symbol.asyncIterator])return function(e){return f.apply(this,arguments)}(e);if("function"==typeof e.getIterator)return e.getIterator()}return c.isBrowser?function(e){return l.apply(this,arguments)}(e):function(e){return d.apply(this,arguments)}(e)};var a=n(r(5)),i=n(r(4)),o=n(r(35)),u=n(r(36)),s=n(r(31)),c=r(7);function f(){return(f=(0,u.default)(i.default.mark((function e(t){var r,n,a,u,f,l,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,e.prev=2,u=(0,s.default)(t);case 4:return e.next=6,(0,o.default)(u.next());case 6:return f=e.sent,r=f.done,e.next=10,(0,o.default)(f.value);case 10:if(l=e.sent,r){e.next=18;break}return d=l,e.next=15,(0,c.toArrayBuffer)(d);case 15:r=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),n=!0,a=e.t0;case 24:if(e.prev=24,e.prev=25,r||null==u.return){e.next=29;break}return e.next=29,(0,o.default)(u.return());case 29:if(e.prev=29,!n){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function l(){return(l=(0,u.default)(i.default.mark((function e(t){var r,n,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return e.next=5,(0,o.default)(r.read());case 5:if(n=e.sent,a=n.done,u=n.value,!a){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,(0,c.toArrayBuffer)(u);case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),r.releaseLock();case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function d(){return(d=(0,u.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)(t);case 2:t=e.sent;case 3:if(null===(r=t.read())){e.next=9;break}return e.next=8,(0,c.toArrayBuffer)(r);case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,o.default)(h(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.once("readable",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.canParseWithWorker=function(e,t,r,n){if(!o._WorkerFarm.isSupported())return!1;var a=r&&r[e.id];if("local"===r.worker&&a&&a.localWorkerUrl||r.worker&&a&&a.workerUrl)return!e.useWorker||e.useWorker(r);return!1},t.default=function(e,t,r,n){var a=(r||{}).worker,i=r&&r[e.id]||{},u="local"===a?i.localWorkerUrl:i.workerUrl,f="url(".concat(u,")"),l=e.name,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);"reuseWorkers"in e&&(t.reuseWorkers=e.reuseWorkers);s||(s=new o._WorkerFarm({onMessage:c}));return s.setProps(t),s}(r);r=JSON.parse(JSON.stringify(r));var h="2.3.13"!==e.version?"(core version ".concat("2.3.13",")"):"";return d.process(f,"".concat(l,"-worker@").concat(e.version).concat(h),{arraybuffer:(0,o.toArrayBuffer)(t),options:r,source:"loaders.gl@".concat("2.3.13"),type:"parse"})};var a=n(r(4)),i=n(r(5)),o=r(7),u=r(58);var s=null;function c(e){return f.apply(this,arguments)}function f(){return(f=(0,i.default)(a.default.mark((function e(t){var r,n,i,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.worker,n=t.data,i=t.resolve,s=t.reject,e.t0=n.type,e.next="done"===e.t0?4:"parse"===e.t0?6:"error"===e.t0?17:19;break;case 4:return i(n.result),e.abrupt("break",19);case 6:return e.prev=6,e.next=9,(0,u.parse)(n.arraybuffer,n.options,n.url);case 9:c=e.sent,r.postMessage({type:"parse-done",id:n.id,result:c},(0,o.getTransferList)(c)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),r.postMessage({type:"parse-error",id:n.id,message:e.t1.message});case 16:return e.abrupt("break",19);case 17:return s(n.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSync=function e(t,r,f,l){(0,n.assert)(!l||"string"!=typeof l,"parseSync no longer accepts final url"),Array.isArray(r)||(0,i.isLoaderObject)(r)||(l=f,f=r,r=null);f=f||{};var d=(0,s.getLoaders)(r,l),h=(0,a.selectLoaderSync)(t,d,f);if(!h)return null;f=(0,o.normalizeOptions)(f,h,d);var p=(0,c.getResourceUrlAndType)(t).url;return l=(0,s.getLoaderContext)({url:p,parseSync:e,loaders:r},f),function(e,t,r,n){if(t=(0,u.getArrayBufferOrStringFromDataSync)(t,e),e.parseTextSync&&"string"==typeof t)return e.parseTextSync(t,r,n,e);if(e.parseSync)return e.parseSync(t,r,n,e);throw new Error("".concat(e.name," loader: 'parseSync' not supported by this loader, use 'parse' instead. ").concat(n.url||""))}(h,t,f,l)};var n=r(7),a=r(59),i=r(32),o=r(26),u=r(78),s=r(79),c=r(47)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.load=function(e,t,r){return f.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(25),u=r(32),s=r(26),c=r(58);function f(){return(f=(0,i.default)(a.default.mark((function e(t,r,n){var i,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||(0,u.isLoaderObject)(r)||(n=r,r=null),i=(0,s.getFetchFunction)(n||{}),f=t,"string"!=typeof t){e.next=9;break}return e.next=6,i(t);case 6:f=e.sent,e.next=10;break;case 9:t=null;case 10:if(!(0,o.isBlob)(t)){e.next=15;break}return e.next=13,i(t);case 13:f=e.sent,t=null;case 15:return e.next=17,(0,c.parse)(f,r,n);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.loadInBatches=function(e,t,r){Array.isArray(t)||(0,o.isLoaderObject)(t)||(r=t,t=null);var n=(0,u.getFetchFunction)(r||{});if(!Array.isArray(e))return c(e,t,r,n);return e.map((function(e){return c(e,t,r,n)}))};var a=n(r(4)),i=n(r(5)),o=r(32),u=r(26),s=r(115);function c(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=(0,i.default)(a.default.mark((function e(t,r,n,i){var o,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=8;break}return o=t,e.next=4,i(o);case 4:return u=e.sent,e.next=7,(0,s.parseInBatches)(u,r,n);case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,(0,s.parseInBatches)(t,r,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.save=function(e,t,r,i){var o=(0,n.encode)(e,r,i,t);return(0,a.writeFile)(t,o)},t.saveSync=function(e,t,r,i){var o=(0,n.encodeSync)(e,r,i,t);return(0,a.writeFileSync)(t,o)};var n=r(117),a=r(77)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.NullLoader=void 0;var a,i,o=n(r(4)),u=n(r(5)),s=n(r(36)),c=n(r(35)),f=n(r(31)),l=n(r(116)),d={id:"image",name:"Images",version:"2.3.13",mimeTypes:["application/x.empty"],extensions:["null"],parse:(i=(0,u.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)}),parseSync:function(e,t){return e},parseInBatches:(a=(0,u.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=(0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,l.default)((0,f.default)(t),c.default),"t0",1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()());case 1:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)}),tests:[function(){return!1}],options:{}};t.NullLoader=d},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return o.apply(this,arguments)};var a=n(r(4)),i=n(r(5));function o(){return(o=(0,i.default)(a.default.mark((function e(t,r){var n,i,o,s,c,f,l=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:function(){},i=l.length>3&&void 0!==l[3]?l[3]:function(){},e.next=4,t;case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",t);case 7:if(o=t.body){e.next=10;break}return e.abrupt("return",t);case 10:if(s=t.headers.get("content-length"),c=s&&parseInt(s,10),s>0){e.next=14;break}return e.abrupt("return",t);case 14:if("undefined"!=typeof ReadableStream&&o.getReader){e.next=16;break}return e.abrupt("return",t);case 16:return f=new ReadableStream({start:function(e){u(e,o.getReader(),0,c,r,n,i)}}),e.abrupt("return",new Response(f));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r,n,a,i,o){return s.apply(this,arguments)}function s(){return(s=(0,i.default)(a.default.mark((function e(t,r,n,i,o,s,c){var f,l,d,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.read();case 3:if(f=e.sent,l=f.done,d=f.value,!l){e.next=10;break}return s(),t.close(),e.abrupt("return");case 10:return n+=d.byteLength,h=Math.round(n/i*100),o(h,{loadedBytes:n,totalBytes:i}),t.enqueue(d),e.next=16,u(t,r,n,i,o,s,c);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.error(e.t0),c(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(5)),o=n(r(13)),u=n(r(14)),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this._fetch=r.fetch||fetch,this.files={};for(var n=0;n<t.length;++n){var a=t[n];this.files[a.name]=a}this.fetch=this.fetch.bind(this)}var t,r,n,s,f,l,d;return(0,u.default)(e,[{key:"fetch",value:(d=(0,i.default)(a.default.mark((function e(t){var r,n,i,o=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},!t.includes("://")){e.next=4;break}return n=r.fetch||this._fetch,e.abrupt("return",n(t,r));case 4:if(!this.files[t]){e.next=9;break}return i=new Response(this.files[t]),Object.defineProperty(i,"url",{value:t}),e.abrupt("return",i);case 9:return e.abrupt("return",new Response(t,{status:400,statusText:"NOT FOUND"}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"readdir",value:(l=(0,i.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t=[],this.files)t.push(r);return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"stat",value:(f=(0,i.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.files[t]){e.next=3;break}throw new Error("No such file: ".concat(t));case 3:return e.abrupt("return",{size:n.size});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"unlink",value:(s=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.files[t];case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"open",value:(n=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.files[t]);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"read",value:(r=(0,i.default)(a.default.mark((function e(t,r){var n,i,o,u,s,f,l,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.buffer,i=void 0===n?null:n,r.offset,o=r.length,u=void 0===o?i.byteLength:o,s=r.position,f=void 0===s?null:s,l=t,e.next=4,c(l,f,f+u);case 4:return d=e.sent,e.abrupt("return",d);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"close",value:(t=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function c(e,t,r){return f.apply(this,arguments)}function f(){return(f=(0,i.default)(a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.slice(r,n),e.next=3,new Promise((function(e,t){var r=new FileReader;r.onload=function(t){return e(t.target&&t.target.result)},r.onerror=function(e){return t(e)},r.readAsArrayBuffer(i)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=s},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDynamicScreenSpaceError=function(e,t){var r,f,l,d,h,p=t.camera,y=t.mapProjection,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=v.dynamicScreenSpaceErrorHeightFalloff,m=void 0===b?.25:b,g=v.dynamicScreenSpaceErrorDensity,O=void 0===g?.00278:g,w=e.contentBoundingVolume;if(w instanceof TileBoundingRegion)r=Cartesian3.normalize(p.positionWC,a),f=p.directionWC,l=p.positionCartographic.height,d=w.minimumHeight,h=w.maximumHeight;else{var T=n.Matrix4.inverseTransformation(e.computedTransform,o),_=y.ellipsoid,k=w.boundingVolume,j=n.Matrix4.multiplyByPoint(T,k.center,u);if(Cartesian3.magnitude(j)>_.minimumRadius){var x=Cartographic.fromCartesian(j,_,i);r=Cartesian3.normalize(p.positionWC,a),f=p.directionWC,l=p.positionCartographic.height,d=0,h=2*x.height}else{var E=n.Matrix4.multiplyByPoint(T,p.positionWC,s);if(r=Cartesian3.UNIT_Z,f=n.Matrix4.multiplyByPointAsVector(T,p.directionWC,c),f=Cartesian3.normalize(f,f),l=E.z,w instanceof TileOrientedBoundingBox){var P=e._header.boundingVolume.box[11];d=j.z-P,h=j.z+P}else if(w instanceof TileBoundingSphere){var S=k.radius;d=j.z-S,h=j.z+S}}}var A=m,I=d+(h-d)*A,M=h,L=(0,n.clamp)((l-I)/(M-I),0,1),R=Math.abs(Cartesian3.dot(f,r)),N=1-R;return O*(N*=1-L)},t.fog=f,t.getDynamicScreenSpaceError=l,t.getTiles3DScreenSpaceError=function(e,t,r){var n=e.tileset,a=e.parent&&e.parent.lodMetricValue||e.lodMetricValue,i=r?a:e.lodMetricValue;if(0===i)return 0;var o=Math.max(e._distanceToCamera,1e-7),u=t.height,s=t.sseDenominator,c=i*u/(o*s);return c-=l(n,o)};var n=r(12),a=new n.Vector3,i=new n.Vector3,o=new n.Matrix4,u=new n.Vector3,s=new n.Vector3,c=new n.Vector3;function f(e,t){var r=e*t;return 1-Math.exp(-r*r)}function l(e,t){if(e.dynamicScreenSpaceError&&e._dynamicScreenSpaceErrorComputedDensity){var r=e._dynamicScreenSpaceErrorComputedDensity,n=e.dynamicScreenSpaceErrorFactor;return f(t,r)*n}return 0}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13)),i=n(r(14)),o=n(r(120)),u=n(r(121)),s=n(r(122)),c=r(48);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var l=function(e){(0,o.default)(r,e);var t=f(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,i.default)(r,[{key:"compareDistanceToCamera",value:function(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}},{key:"updateTileVisibility",value:function(e,t){if(e.updateVisibility(t),e.isVisibleAndInRequestVolume){var r=e.children.length>0;if(e.hasTilesetContent&&r){var n=e.children[0];return this.updateTileVisibility(n,t),void(e._visible=n._visible)}if(this.meetsScreenSpaceErrorEarly(e,t))e._visible=!1;else{var a=e.refine===c.TILE_REFINEMENT.REPLACE,i=e._optimChildrenWithinParent===c.TILE3D_OPTIMIZATION_HINT.USE_OPTIMIZATION;a&&i&&r&&!this.anyChildrenVisible(e,t)&&(e._visible=!1)}}}},{key:"meetsScreenSpaceErrorEarly",value:function(e,t){var r=e.parent;return!(!r||r.hasTilesetContent||r.refine!==c.TILE_REFINEMENT.ADD)&&!this.shouldRefine(e,t,!0)}}]),r}(n(r(60)).default);t.default=l},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13)),i=n(r(14)),o=r(7),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,a.default)(this,e),this._array=new Array(t),this._map=new Map,this._length=t}return(0,i.default)(e,[{key:"get",value:function(e){return(0,o.assert)(e<this._array.length),this._array[e]}},{key:"set",value:function(e,t){(0,o.assert)(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}},{key:"delete",value:function(e){var t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}},{key:"peek",value:function(){return this._array[this._length-1]}},{key:"push",value:function(e){if(!this._map.has(e)){var t=this.length++;this._array[t]=e,this._map.set(e,t)}}},{key:"pop",value:function(){var e=this._array[--this.length];return this._map.delete(e),e}},{key:"reserve",value:function(e){(0,o.assert)(e>=0),e>this._array.length&&(this._array.length=e)}},{key:"resize",value:function(e){(0,o.assert)(e>=0),this.length=e}},{key:"trim",value:function(e){null==e&&(e=this.length),this._array.length=e}},{key:"reset",value:function(){this._array=[],this._map=new Map,this._length=0}},{key:"find",value:function(e){return this._map.has(e)}},{key:"length",get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},{key:"values",get:function(){return this._array}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(11)),o=n(r(5)),u=n(r(13)),s=n(r(14)),c=n(r(120)),f=n(r(121)),l=n(r(122)),d=r(75),h=n(r(60)),p=r(119),y=n(r(74)),v=n(r(195));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T=function(e){(0,c.default)(n,e);var t,r=w(n);function n(e){var t;return(0,u.default)(this,n),(t=r.call(this,e))._tileManager=new v.default,t}return(0,s.default)(n,[{key:"shouldRefine",value:function(e,t){return e._lodJudge=(0,p.lodJudge)(e,t),"DIG"===e._lodJudge}},{key:"updateChildTiles",value:function(e,t){var r,n=this,a=e.header.children||[],i=e.children,o=e.tileset,u=g(a);try{var s=function(){var a=r.value,u=i&&i.find((function(e){return e.id===a.id}));if(u)u&&n.updateTile(u,t);else{var s=function(){return n._loadTile(a.id,o)};n._tileManager.find(a.id)?n._tileManager.update(a.id,t):(o.tileset.nodePages&&(s=function(){return o.tileset.nodePagesTile.formTileFromNodePages(a.id)}),n._tileManager.add(s,a.id,(function(t){return n._onTileLoad(t,e)}),t))}};for(u.s();!(r=u.n()).done;)s()}catch(e){u.e(e)}finally{u.f()}}},{key:"_loadTile",value:(t=(0,o.default)(a.default.mark((function e(t,r){var n,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.loader,i=r.getTileUrl("".concat(r.url,"/nodes/").concat(t)),o={i3s:m(m({},r.fetchOptions),{},{isTileHeader:!0,loadContent:!1})},e.next=5,(0,d.load)(i,n,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"_onTileLoad",value:function(e,t){var r=this.options.basePath,n=new y.default(t.tileset,e,t,r);t.children.push(n);var a=this._tileManager.find(n.id).frameState;this.updateTile(n,a),this._frameNumber===a.frameNumber&&this.executeTraversal(n,a)}}]),n}(h.default);t.default=T},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13)),i=n(r(14)),o="REQUESTED",u="COMPLETED",s="ERROR",c=function(){function e(){(0,a.default)(this,e),this._statusMap={}}return(0,i.default)(e,[{key:"add",value:function(e,t,r,n){var a=this;this._statusMap[t]||(this._statusMap[t]={request:e,callback:r,key:t,frameState:n,status:o},e().then((function(e){a._statusMap[t].status=u,a._statusMap[t].callback(e,n)})).catch((function(e){a._statusMap[t].status=s,r(e)})))}},{key:"update",value:function(e,t){this._statusMap[e]&&(this._statusMap[e].frameState=t)}},{key:"find",value:function(e){return this._statusMap[e]}}]),e}();t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTile=d;var a=n(r(4)),i=n(r(5)),o=r(33),u=r(123),s=r(197),c=r(215),f=r(243),l=r(244);function d(e){return h.apply(this,arguments)}function h(){return(h=(0,i.default)(a.default.mark((function e(t){var r,n,i,h,p=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>1&&void 0!==p[1]?p[1]:0,n=p.length>2?p[2]:void 0,i=p.length>3?p[3]:void 0,(h=p.length>4&&void 0!==p[4]?p[4]:{}).byteOffset=r,h.type=(0,u.getMagicString)(t,r),e.t0=h.type,e.next=e.t0===o.TILE3D_TYPE.COMPOSITE?9:e.t0===o.TILE3D_TYPE.BATCHED_3D_MODEL?12:e.t0===o.TILE3D_TYPE.INSTANCED_3D_MODEL?15:e.t0===o.TILE3D_TYPE.POINT_CLOUD?18:21;break;case 9:return e.next=11,(0,l.parseComposite3DTile)(h,t,r,n,i,d);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,(0,c.parseBatchedModel3DTile)(h,t,r,n,i);case 14:return e.abrupt("return",e.sent);case 15:return e.next=17,(0,f.parseInstancedModel3DTile)(h,t,r,n,i);case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,(0,s.parsePointCloud3DTile)(h,t,r,n,i);case 20:return e.abrupt("return",e.sent);case 21:throw new Error("3DTileLoader: unknown type ".concat(h.type));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parsePointCloud3DTile=function(e,t,r,n,a){return g.apply(this,arguments)},t.loadDraco=E;var a=n(r(11)),i=n(r(4)),o=n(r(5)),u=r(124),s=r(27),c=r(12),f=n(r(62)),l=n(r(80)),d=r(63),h=r(81),p=r(212),y=r(213),v=r(214);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(){return(g=(0,o.default)(i.default.mark((function e(t,r,n,a,o){var u,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,d.parse3DTileHeaderSync)(t,r,n),n=(0,h.parse3DTileTablesHeaderSync)(t,r,n),n=(0,h.parse3DTileTablesSync)(t,r,n,a),O(t),u=w(t),s=u.featureTable,c=u.batchTable,e.next=7,j(t,s,c,a,o);case 7:return T(t,s,a),_(t,s,c),k(t,s),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){e.attributes={positions:null,colors:null,normals:null,batchIds:null},e.isQuantized=!1,e.isTranslucent=!1,e.isRGB565=!1,e.isOctEncoded16P=!1}function w(e){var t=new f.default(e.featureTableJson,e.featureTableBinary),r=t.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(r))throw new Error("POINTS_LENGTH must be defined");t.featuresLength=r,e.featuresLength=r,e.pointsLength=r,e.pointCount=r,e.rtcCenter=t.getGlobalProperty("RTC_CENTER",s.GL.FLOAT,3);var n=function(e,t){var r=null;if(!e.batchIds&&t.hasProperty("BATCH_ID")&&(e.batchIds=t.getPropertyArray("BATCH_ID",s.GL.UNSIGNED_SHORT,1),e.batchIds)){var n=t.getGlobalProperty("BATCH_LENGTH");if(!n)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var a=e.batchTableJson,i=e.batchTableBinary;r=new l.default(a,i,n)}return r}(e,t);return{featureTable:t,batchTable:n}}function T(e,t,r){if(!e.attributes.positions)if(t.hasProperty("POSITION"))e.attributes.positions=t.getPropertyArray("POSITION",s.GL.FLOAT,3);else if(t.hasProperty("POSITION_QUANTIZED")){var n=t.getPropertyArray("POSITION_QUANTIZED",s.GL.UNSIGNED_SHORT,3);if(e.isQuantized=!0,e.quantizedRange=65535,e.quantizedVolumeScale=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",s.GL.FLOAT,3),!e.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(e.quantizedVolumeOffset=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",s.GL.FLOAT,3),!e.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");e.attributes.positions=(0,v.normalize3DTilePositionAttribute)(e,n,r)}if(!e.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function _(e,t,r){if(!e.attributes.colors){var n=null;t.hasProperty("RGBA")?(n=t.getPropertyArray("RGBA",s.GL.UNSIGNED_BYTE,4),e.isTranslucent=!0):t.hasProperty("RGB")?n=t.getPropertyArray("RGB",s.GL.UNSIGNED_BYTE,3):t.hasProperty("RGB565")&&(n=t.getPropertyArray("RGB565",s.GL.UNSIGNED_SHORT,1),e.isRGB565=!0),e.attributes.colors=(0,p.normalize3DTileColorAttribute)(e,n,r)}t.hasProperty("CONSTANT_RGBA")&&(e.constantRGBA=t.getGlobalProperty("CONSTANT_RGBA",s.GL.UNSIGNED_BYTE,4))}function k(e,t){if(!e.attributes.normals){var r=null;t.hasProperty("NORMAL")?r=t.getPropertyArray("NORMAL",s.GL.FLOAT,3):t.hasProperty("NORMAL_OCT16P")&&(r=t.getPropertyArray("NORMAL_OCT16P",s.GL.UNSIGNED_BYTE,2),e.isOctEncoded16P=!0),e.attributes.normals=(0,y.normalize3DTileNormalAttribute)(e,r)}}function j(e,t,r,n,a){return x.apply(this,arguments)}function x(){return(x=(0,o.default)(i.default.mark((function e(t,r,n,a,o){var u,s,c,f,l,d,h,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((f=t.batchTableJson&&t.batchTableJson.extensions&&t.batchTableJson.extensions["3DTILES_draco_point_compression"])&&(c=f.properties),!(l=r.getExtension("3DTILES_draco_point_compression"))){e.next=15;break}if(s=l.properties,d=l.byteOffset,h=l.byteLength,s&&Number.isFinite(d)&&h){e.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:u=t.featureTableBinary.slice(d,d+h),t.hasPositions=Number.isFinite(s.POSITION),t.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),t.hasNormals=Number.isFinite(s.NORMAL),t.hasBatchIds=Number.isFinite(s.BATCH_ID),t.isTranslucent=Number.isFinite(s.RGBA);case 15:if(u){e.next=17;break}return e.abrupt("return",!0);case 17:return p={buffer:u,properties:m(m({},s),c),featureTableProperties:s,batchTableProperties:c,dequantizeInShader:!1},e.next=20,E(t,p,a,o);case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,r,n){return P.apply(this,arguments)}function P(){return(P=(0,o.default)(i.default.mark((function e(t,r,n,a){var o,s,f,l,d,h,y,v,b,g,O,w,T,_;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.parse,e.next=3,o(r.buffer,u.DracoLoader,{draco:{extraAttributes:r.batchTableProperties||{}}});case 3:if(s=e.sent,f=s.attributes.POSITION&&s.attributes.POSITION.value,l=s.attributes.COLOR_0&&s.attributes.COLOR_0.value,d=s.attributes.NORMAL&&s.attributes.NORMAL.value,h=s.attributes.BATCH_ID&&s.attributes.BATCH_ID.value,y=f&&s.attributes.POSITION.value.quantization,v=d&&s.attributes.NORMAL.value.quantization,y&&(b=s.POSITION.data.quantization,g=b.range,t.quantizedVolumeScale=new c.Vector3(g,g,g),t.quantizedVolumeOffset=new c.Vector3(b.minValues),t.quantizedRange=(1<<b.quantizationBits)-1,t.isQuantizedDraco=!0),v&&(t.octEncodedRange=(1<<s.NORMAL.data.quantization.quantizationBits)-1,t.isOctEncodedDraco=!0),O={},r.batchTableProperties)for(w=0,T=Object.keys(r.batchTableProperties);w<T.length;w++)_=T[w],s.attributes[_]&&s.attributes[_].value&&(O[_.toLowerCase()]=s.attributes[_].value);t.attributes=m({positions:f,colors:(0,p.normalize3DTileColorAttribute)(t,l),normals:d,batchIds:h},O);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.DracoLoader=t.DracoWorkerLoader=void 0;var a=n(r(4)),i=n(r(5)),o=n(r(11)),u=n(r(18)),s=r(125),c=n(r(199));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={id:"draco",name:"Draco",version:"2.3.13",extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"===("undefined"==typeof WebAssembly?"undefined":(0,u.default)(WebAssembly))?"wasm":"js",libraryPath:"libs/",workerUrl:"https://unpkg.com/@loaders.gl/draco@".concat("2.3.13","/dist/draco-loader.worker.js"),localWorkerUrl:"modules/draco/dist/draco-loader.worker.dev.js",extraAttributes:{}}}};t.DracoWorkerLoader=d;var h=l(l({},d),{},{parse:function(e,t,r,n){return p.apply(this,arguments)}});function p(){return(p=(0,i.default)(a.default.mark((function e(t,r,n,i){var o,u,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.loadDracoDecoderModule)(r);case 2:return o=e.sent,u=o.draco,f=new c.default(u),e.prev=5,e.abrupt("return",f.parseSync(t,l({extraAttributes:r.draco&&r.draco.extraAttributes||null},r.parseOptions||{})));case 7:return e.prev=7,f.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}t.DracoLoader=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(38)),i=n(r(18)),o=n(r(13)),u=n(r(14)),s=r(7),c=0,f=1,l={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},d={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},h=function(){function e(t){(0,o.default)(this,e),this.draco=t,this.drawMode="TRIANGLE",this.metadataQuerier={}}return(0,u.default)(e,[{key:"destroy",value:function(){}},{key:"destroyGeometry",value:function(e){e&&this.draco.destroy(e.dracoGeometry)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.metadataQuerier=new this.draco.MetadataQuerier;var r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength);var n,a,i,o=new this.draco.Decoder,u={};try{var l=o.GetEncodedGeometryType(r);switch(l){case this.draco.TRIANGULAR_MESH:a=new this.draco.Mesh,n=o.DecodeBufferToMesh(r,a),i={type:c,faceCount:a.num_faces(),attributeCount:a.num_attributes(),vertexCount:a.num_points()};break;case this.draco.POINT_CLOUD:a=new this.draco.PointCloud,n=o.DecodeBufferToPointCloud(r,a),i={type:f,attributeCount:a.num_attributes(),vertexCount:a.num_points()};break;default:throw new Error("Unknown DRACO geometry type.")}if(!n.ok()||!a.ptr){var d="DRACO decompression failed: ".concat(n.error_msg());throw a&&this.draco.destroy(a),new Error(d)}u.loaderData={header:i},this._extractDRACOGeometry(o,a,l,u,t);var h=this._getGeometryMetadata(o,a);u.header={vertexCount:i.vertexCount,boundingBox:(0,s.getMeshBoundingBox)(u.attributes),metadata:h}}finally{this.draco.destroy(o),this.draco.destroy(r),this.draco.destroy(a),this.draco.destroy(this.metadataQuerier)}return u}},{key:"_extractDRACOGeometry",value:function(e,t,r,n,a){var i=this._getAttributes(e,t,a);if(!i.POSITION)throw new Error("DRACO decompressor: No position attribute found.");return r===this.draco.TRIANGULAR_MESH?(i.indices="TRIANGLE_STRIP"===this.drawMode?this._getMeshStripIndices(e,t):this._getMeshFaceIndices(e,t),n.mode="TRIANGLE_STRIP"===this.drawMode?5:4):n.mode=0,i.indices&&(n.indices={value:i.indices,size:1},delete i.indices),n.attributes=i,n}},{key:"getPositionAttributeMetadata",value:function(e){this.metadata=this.metadata||{},this.metadata.attributes=this.metadata.attributes||{};var t=new this.draco.AttributeQuantizationTransform;if(t.InitFromAttribute(e)){this.metadata.attributes.position.isQuantized=!0,this.metadata.attributes.position.maxRange=t.range(),this.metadata.attributes.position.numQuantizationBits=t.quantization_bits(),this.metadata.attributes.position.minValues=new Float32Array(3);for(var r=0;r<3;++r)this.metadata.attributes.position.minValues[r]=t.min_value(r)}this.draco.destroy(t)}},{key:"_getAttributes",value:function(e,t,r){for(var n={},a=t.num_points(),i=0;i<t.num_attributes();i++){var o=e.GetAttribute(t,i),u=this._getAttributeMetadata(e,t,i),s={uniqueId:o.unique_id(),attributeType:o.attribute_type(),dataType:d[o.data_type()],size:o.size(),numComponents:o.num_components(),byteOffset:o.byte_offset(),byteStride:o.byte_stride(),normalized:o.normalized(),metadata:u},c=this._deduceAttributeName(s,r),f=this._getAttributeTypedArray(e,t,o,c).typedArray;n[c]={value:f,size:f.length/a,metadata:u}}return n}},{key:"_getMeshFaceIndices",value:function(e,t){for(var r=t.num_faces(),n=new Uint32Array(3*r),a=new this.draco.DracoInt32Array,i=0;i<r;++i){e.GetFaceFromMesh(t,i,a);var o=3*i;n[o]=a.GetValue(0),n[o+1]=a.GetValue(1),n[o+2]=a.GetValue(2)}return this.draco.destroy(a),n}},{key:"_getMeshStripIndices",value:function(e,t){var r=new this.draco.DracoInt32Array;e.GetTriangleStripsFromMesh(t,r);for(var n=new Uint32Array(r.size()),a=0;a<r.size();++a)n[a]=r.GetValue(a);return this.draco.destroy(r),n}},{key:"_getAttributeTypedArray",value:function(e,t,r,n){if(0===r.ptr){var a="DRACO decode bad attribute ".concat(n);throw new Error(a)}var i,o,u=d[r.data_type()],s=r.num_components(),c=t.num_points()*s;switch(u){case Float32Array:i=new this.draco.DracoFloat32Array,e.GetAttributeFloatForAllPoints(t,r,i),o=new Float32Array(c);break;case Int8Array:i=new this.draco.DracoInt8Array,e.GetAttributeInt8ForAllPoints(t,r,i),o=new Int8Array(c);break;case Int16Array:i=new this.draco.DracoInt16Array,e.GetAttributeInt16ForAllPoints(t,r,i),o=new Int16Array(c);break;case Int32Array:i=new this.draco.DracoInt32Array,e.GetAttributeInt32ForAllPoints(t,r,i),o=new Int32Array(c);break;case Uint8Array:i=new this.draco.DracoUInt8Array,e.GetAttributeUInt8ForAllPoints(t,r,i),o=new Uint8Array(c);break;case Uint16Array:i=new this.draco.DracoUInt16Array,e.GetAttributeUInt16ForAllPoints(t,r,i),o=new Uint16Array(c);break;case Uint32Array:i=new this.draco.DracoUInt32Array,e.GetAttributeUInt32ForAllPoints(t,r,i),o=new Uint32Array(c);break;default:throw new Error("DRACO decoder: unexpected attribute type.")}for(var f=0;f<c;f++)o[f]=i.GetValue(f);return this.draco.destroy(i),{typedArray:o,components:s}}},{key:"_deduceAttributeName",value:function(e,t){var r=t.extraAttributes,n=void 0===r?{}:r;if(n&&"object"===(0,i.default)(n))for(var o=0,u=Object.entries(n);o<u.length;o++){var s=(0,a.default)(u[o],2),c=s[0];if(s[1]===e.uniqueId)return c}for(var f in l){var d=this.draco[f];if(e.attributeType===d)return l[f]}if(e.metadata){var h=t.attributeNameEntry||"name";if(e.metadata[h])return e.metadata[h].string}return"CUSTOM_ATTRIBUTE_".concat(e.uniqueId)}},{key:"_getGeometryMetadata",value:function(e,t){var r=e.GetMetadata(t);return this._queryDracoMetadata(r)}},{key:"_getAttributeMetadata",value:function(e,t,r){var n=e.GetAttributeMetadata(t,r);return this._queryDracoMetadata(n)}},{key:"_queryDracoMetadata",value:function(e){if(!e||!e.ptr)return{};for(var t={},r=this.metadataQuerier.NumEntries(e),n=0;n<r;n++){var a=this.metadataQuerier.GetEntryName(e,n);t[a]={int:this.metadataQuerier.GetIntEntry(e,a),string:this.metadataQuerier.GetStringEntry(e,a),double:this.metadataQuerier.GetDoubleEntry(e,a),intArray:this.metadataQuerier.GetIntEntryArray(e,a)}}return t}},{key:"decode",value:function(e,t){return this.parseSync(e,t)}}]),e}();t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(5)),o=r(125),u=n(r(201)),s={name:"DRACO",extensions:["drc"],encode:function(e,t){return c.apply(this,arguments)},options:{draco:{pointcloud:!1}}};function c(){return(c=(0,i.default)(a.default.mark((function e(t,r){var n,i,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r&&r.draco||r||{},e.next=3,(0,o.loadDracoEncoderModule)(r||{});case 3:return i=e.sent,s=i.draco,c=new u.default(s),e.prev=6,e.abrupt("return",c.encodeSync(t,n));case 8:return e.prev=8,c.destroy(),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[6,,8,11]])})))).apply(this,arguments)}t.default=s},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(18)),i=n(r(38)),o=n(r(37)),u=n(r(11)),s=n(r(13)),c=n(r(14));function f(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"};function y(){}var v=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),this.draco=t,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder,this.log=r.log||y}return(0,c.default)(e,[{key:"destroy",value:function(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}},{key:"destroyEncodedObject",value:function(e){e&&this.draco.destroy(e)}},{key:"encodeSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._setOptions(t),t.pointcloud?this._encodePointCloud(e,t):this._encodeMesh(e,t)}},{key:"_getAttributesFromMesh",value:function(e){var t=h(h({},e),e.attributes);return e.indices&&(t.indices=e.indices),t}},{key:"_encodePointCloud",value:function(e,t){var r=new this.draco.PointCloud;t.metadata&&this._addGeometryMetadata(r,t.metadata);var n=this._getAttributesFromMesh(e);this._createDracoPointCloud(r,n,t);var a=new this.draco.DracoInt8Array;try{var i=this.dracoEncoder.EncodePointCloudToDracoBuffer(r,!1,a);if(!(i>0))throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(i," bytes")),b(a)}finally{this.destroyEncodedObject(a),this.destroyEncodedObject(r)}}},{key:"_encodeMesh",value:function(e,t){var r=new this.draco.Mesh;t.metadata&&this._addGeometryMetadata(r,t.metadata);var n=this._getAttributesFromMesh(e);this._createDracoMesh(r,n,t);var a=new this.draco.DracoInt8Array;try{var i=this.dracoEncoder.EncodeMeshToDracoBuffer(r,a);if(i<=0)throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(i," bytes")),b(a)}finally{this.destroyEncodedObject(a),this.destroyEncodedObject(r)}}},{key:"_setOptions",value:function(e){var t;"speed"in e&&(t=this.dracoEncoder).SetSpeedOptions.apply(t,(0,o.default)(e.speed));if("method"in e){var r=this.draco[e.method];this.dracoEncoder.SetEncodingMethod(r)}if("quantization"in e)for(var n in e.quantization){var a=e.quantization[n],i=this.draco[n];this.dracoEncoder.SetAttributeQuantization(i,a)}}},{key:"_createDracoMesh",value:function(e,t,r){var n=r.attributesMetadata||{};try{var a=this._getPositionAttribute(t);if(!a)throw new Error("positions");var i=a.length/3;for(var o in t){var u=t[o];o=p[o]||o;var s=this._addAttributeToMesh(e,o,u,i);-1!==s&&this._addAttributeMetadata(e,s,h({name:o},n[o]||{}))}}catch(t){throw this.destroyEncodedObject(e),t}return e}},{key:"_createDracoPointCloud",value:function(e,t,r){var n=r.attributesMetadata||{};try{var a=this._getPositionAttribute(t);if(!a)throw new Error("positions");var i=a.length/3;for(var o in t){var u=t[o];o=p[o]||o;var s=this._addAttributeToMesh(e,o,u,i);-1!==s&&this._addAttributeMetadata(e,s,h({name:o},n[o]||{}))}}catch(t){throw this.destroyEncodedObject(e),t}return e}},{key:"_addAttributeToMesh",value:function(e,t,r,n){if(!ArrayBuffer.isView(r))return-1;var a=this._getDracoAttributeType(t),i=r.length/n;if("indices"===a){var o=r.length/3;return this.log("Adding attribute ".concat(t,", size ").concat(o)),this.dracoMeshBuilder.AddFacesToMesh(e,o,r),-1}this.log("Adding attribute ".concat(t,", size ").concat(i));var u=this.dracoMeshBuilder,s=r.buffer;switch(r.constructor){case Int8Array:return u.AddInt8Attribute(e,a,n,i,new Int8Array(s));case Int16Array:return u.AddInt16Attribute(e,a,n,i,new Int16Array(s));case Int32Array:return u.AddInt32Attribute(e,a,n,i,new Int32Array(s));case Uint8Array:case Uint8ClampedArray:return u.AddUInt8Attribute(e,a,n,i,new Uint8Array(s));case Uint16Array:return u.AddUInt16Attribute(e,a,n,i,new Uint16Array(s));case Uint32Array:return u.AddUInt32Attribute(e,a,n,i,new Uint32Array(s));case Float32Array:default:return u.AddFloatAttribute(e,a,n,i,new Float32Array(s))}}},{key:"_getDracoAttributeType",value:function(e){switch(e.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texCoord":case"texCoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}},{key:"_getPositionAttribute",value:function(e){for(var t in e){var r=e[t];if(this._getDracoAttributeType(t)===this.draco.POSITION)return r}return null}},{key:"_addGeometryMetadata",value:function(e,t){var r=new this.draco.Metadata;this._populateDracoMetadata(r,t),this.dracoMeshBuilder.AddMetadata(e,r)}},{key:"_addAttributeMetadata",value:function(e,t,r){var n=new this.draco.Metadata;this._populateDracoMetadata(n,r),this.dracoMeshBuilder.SetMetadataForAttribute(e,t,n)}},{key:"_populateDracoMetadata",value:function(e,t){var r,n,o=f((n=t).entries&&!n.hasOwnProperty("entries")?n.entries():Object.entries(n));try{for(o.s();!(r=o.n()).done;){var u=(0,i.default)(r.value,2),s=u[0],c=u[1];switch((0,a.default)(c)){case"number":Math.trunc(c)===c?this.dracoMetadataBuilder.AddIntEntry(e,s,c):this.dracoMetadataBuilder.AddDoubleEntry(e,s,c);break;case"string":default:this.dracoMetadataBuilder.AddStringEntry(e,s,c)}}}catch(e){o.e(e)}finally{o.f()}}}]),e}();function b(e){for(var t=e.size(),r=new ArrayBuffer(t),n=new Int8Array(r),a=0;a<t;++a)n[a]=e.GetValue(a);return r}t.default=v},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=n(r(13)),o=n(r(14)),u=n(r(11)),s=r(49),c=(a={},(0,u.default)(a,s.GL_TYPE.DOUBLE,Float64Array),(0,u.default)(a,s.GL_TYPE.FLOAT,Float32Array),(0,u.default)(a,s.GL_TYPE.UNSIGNED_SHORT,Uint16Array),(0,u.default)(a,s.GL_TYPE.UNSIGNED_INT,Uint32Array),(0,u.default)(a,s.GL_TYPE.UNSIGNED_BYTE,Uint8Array),(0,u.default)(a,s.GL_TYPE.BYTE,Int8Array),(0,u.default)(a,s.GL_TYPE.SHORT,Int16Array),(0,u.default)(a,s.GL_TYPE.INT,Int32Array),a),f={DOUBLE:s.GL_TYPE.DOUBLE,FLOAT:s.GL_TYPE.FLOAT,UNSIGNED_SHORT:s.GL_TYPE.UNSIGNED_SHORT,UNSIGNED_INT:s.GL_TYPE.UNSIGNED_INT,UNSIGNED_BYTE:s.GL_TYPE.UNSIGNED_BYTE,BYTE:s.GL_TYPE.BYTE,SHORT:s.GL_TYPE.SHORT,INT:s.GL_TYPE.INT},l=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"fromTypedArray",value:function(e){for(var t in e=ArrayBuffer.isView(e)?e.constructor:e,c){if(c[t]===e)return t}throw new Error("Failed to convert GL type")}},{key:"fromName",value:function(e){var t=f[e];if(!t)throw new Error("Failed to convert GL type");return t}},{key:"getArrayType",value:function(e){switch(e){case s.GL_TYPE.UNSIGNED_SHORT_5_6_5:case s.GL_TYPE.UNSIGNED_SHORT_4_4_4_4:case s.GL_TYPE.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var t=c[e];if(!t)throw new Error("Failed to convert GL type");return t}}},{key:"getByteSize",value:function(t){return e.getArrayType(t).BYTES_PER_ELEMENT}},{key:"validate",value:function(t){return Boolean(e.getArrayType(t))}},{key:"createTypedArray",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;void 0===a&&(a=(r.byteLength-n)/e.getByteSize(t));var i=e.getArrayType(t);return new i(r,n,a)}}]),e}();t.default=l},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.makeAttributeIterator=o;var a=n(r(4)),i=a.default.mark(o);function o(e){var t,r,n,o,u,s;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.values,r=e.size,n=t.constructor,o=new n(r),u=0;case 4:if(!(u<t.length)){a.next=11;break}for(s=0;s<r;s++)o[s]=o[u+s];return a.next=8,o;case 8:u+=r,a.next=4;break;case 11:case"end":return a.stop()}}),i)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.computeVertexNormals=function(e){var t=e.mode,r=e.indices,n=e.attributes;(0,o.default)((0,s.getPrimitiveModeType)(t)===i.GL.TRIANGLES,"TRIANGLES required");var l,d=(0,c.getPositions)({mode:t,indices:r,attributes:n}).values,h=new Float32Array(d.length),p=new a.Vector3,y=new a.Vector3,v=new a.Vector3,b=new a.Vector3,m=new a.Vector3,g=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}((0,u.makePrimitiveIterator)({mode:t,indices:r,attributes:n}));try{for(g.s();!(l=g.n()).done;){var O=l.value;p.fromArray(d,3*O.i1),y.fromArray(d,3*O.i2+3),v.fromArray(d,3*O.i3+6),b.subVectors(v,y),m.subVectors(p,y);var w=b.cross(m);w.normalize();var T=O.primitiveIndex;h[9*T+0]=w.x,h[9*T+1]=w.y,h[9*T+2]=w.z,h[9*T+3]=w.x,h[9*T+4]=w.y,h[9*T+5]=w.z,h[9*T+6]=w.x,h[9*T+7]=w.y,h[9*T+8]=w.z}}catch(e){g.e(e)}finally{g.f()}return h};var a=r(12),i=r(49),o=n(r(61)),u=r(127),s=r(128),c=r(205);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getPositions=function(e){if((0,a.default)(e)){var t=e.attributes,r=t.POSITION||t.positions;return(0,i.default)(r),r}if(ArrayBuffer.isView(e))return{values:e,size:3};if(e)return(0,i.default)(e.values),e;return(0,i.default)(!1)};var a=n(r(126)),i=n(r(61))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeRGB565=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=e>>11&31,n=e>>5&63,a=31&e;return t[0]=r<<3,t[1]=n<<2,t[2]=a<<3,t},t.encodeRGB565=function(e){var t=Math.floor(e[0]/8)+4,r=Math.floor(e[1]/4)+2,n=Math.floor(e[2]/8)+4;return t+(r<<5)+(n<<11)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatTypedArrays=function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].byteLength;for(var n=new Uint8Array(t),a=0,i=0;i<e.length;++i){var o=new Uint8Array(e[i].buffer);t=o.length;for(var u=0;u<t;++u)n[a++]=o[u]}return n}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.octEncodeInRange=y,t.octEncode=v,t.octEncodeToVector4=function(e,t){return y(e,65535,c),t.x=l(c.x*(1/256)),t.y=l(c.x),t.z=l(c.y*(1/256)),t.w=l(c.y),t},t.octDecodeInRange=b,t.octDecode=m,t.octDecodeFromVector4=function(e,t){(0,i.default)(e),(0,i.default)(t);var r=e.x,n=e.y,a=e.z,o=e.w;if(r<0||r>255||n<0||n>255||a<0||a>255||o<0||o>255)throw new Error("x, y, z, and w must be unsigned normalized integers between 0 and 255");return b(256*r+n,256*a+o,65535,t)},t.octPackFloat=g,t.octEncodeFloat=O,t.octDecodeFloat=w,t.octPack=function(e,t,r,n){(0,i.default)(e),(0,i.default)(t),(0,i.default)(r),(0,i.default)(n);var a=O(e),o=O(t),u=v(r,s);return n.x=65536*u.x+a,n.y=65536*u.y+o,n},t.octUnpack=function(e,t,r,n){var a=e.x/65536,i=Math.floor(a),o=65536*(a-i);a=e.y/65536;var u=Math.floor(a),s=65536*(a-u);w(o,t),w(s,r),m(i,u,n)},t.compressTextureCoordinates=function(e){var t=4095*e.x|0,r=4095*e.y|0;return 4096*t+r},t.decompressTextureCoordinates=function(e,t){var r=e/4096,n=Math.floor(r);return t.x=n/4095,t.y=(e-4096*n)/4095,t},t.zigZagDeltaDecode=function(e,t,r){(0,i.default)(e),(0,i.default)(t),(0,i.default)(e.length===t.length),r&&(0,i.default)(e.length===r.length);function n(e){return e>>1^-(1&e)}for(var a=0,o=0,u=0,s=0;s<e.length;++s)a+=n(e[s]),o+=n(t[s]),e[s]=a,t[s]=o,r&&(u+=n(r[s]),r[s]=u)};var a=r(12),i=n(r(61)),o=new a.Vector2,u=new a.Vector3,s=new a.Vector2,c=new a.Vector2,f=new Uint8Array(1);function l(e){return f[0]=e,f[0]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return(0,a.clamp)(e,0,t)/t*2-1}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return Math.round((.5*(0,a.clamp)(e,-1,1)+.5)*t)}function p(e){return e<0?-1:1}function y(e,t,r){(0,i.default)(e),(0,i.default)(r);var n=u.from(e);if((0,i.default)(Math.abs(n.magnitudeSquared()-1)<=a._MathUtils.EPSILON6),r.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),r.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var o=r.x,s=r.y;r.x=(1-Math.abs(s))*p(o),r.y=(1-Math.abs(o))*p(s)}return r.x=h(r.x,t),r.y=h(r.y,t),r}function v(e,t){return y(e,255,t)}function b(e,t,r,n){if((0,i.default)(n),e<0||e>r||t<0||t>r)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(r));if(n.x=d(e,r),n.y=d(t,r),n.z=1-(Math.abs(n.x)+Math.abs(n.y)),n.z<0){var a=n.x;n.x=(1-Math.abs(n.y))*p(a),n.y=(1-Math.abs(a))*p(n.y)}return n.normalize()}function m(e,t,r){return b(e,t,255,r)}function g(e){var t=o.from(e);return 256*t.x+t.y}function O(e){return v(e,s),g(s)}function w(e,t){(0,i.default)(Number.isFinite(e));var r=e/256,n=Math.floor(r);return m(n,256*(r-n),t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTypedArrayFromAccessor=function(e,t,r,s){var c=e.componentType;(0,a.assert)(e.componentType);var f="string"==typeof c?n.GLType.fromName(c):c,l=i[e.type],d=o[e.type],h=u[e.type];return r+=e.byteOffset,{values:n.GLType.createTypedArray(f,t,r,l*s),type:f,size:l,unpacker:d,packer:h}};var n=r(27),a=r(7),i={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},o={SCALAR:function(e,t){return e[t]},VEC2:function(e,t){return[e[2*t+0],e[2*t+1]]},VEC3:function(e,t){return[e[3*t+0],e[3*t+1],e[3*t+2]]},VEC4:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT2:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT3:function(e,t){return[e[9*t+0],e[9*t+1],e[9*t+2],e[9*t+3],e[9*t+4],e[9*t+5],e[9*t+6],e[9*t+7],e[9*t+8]]},MAT4:function(e,t){return[e[16*t+0],e[16*t+1],e[16*t+2],e[16*t+3],e[16*t+4],e[16*t+5],e[16*t+6],e[16*t+7],e[16*t+8],e[16*t+9],e[16*t+10],e[16*t+11],e[16*t+12],e[16*t+13],e[16*t+14],e[16*t+15]]}},u={SCALAR:function(e,t,r){t[r]=e},VEC2:function(e,t,r){t[2*r+0]=e[0],t[2*r+1]=e[1]},VEC3:function(e,t,r){t[3*r+0]=e[0],t[3*r+1]=e[1],t[3*r+2]=e[2]},VEC4:function(e,t,r){t[4*r+0]=e[0],t[4*r+1]=e[1],t[4*r+2]=e[2],t[4*r+3]=e[3]},MAT2:function(e,t,r){t[4*r+0]=e[0],t[4*r+1]=e[1],t[4*r+2]=e[2],t[4*r+3]=e[3]},MAT3:function(e,t,r){t[9*r+0]=e[0],t[9*r+1]=e[1],t[9*r+2]=e[2],t[9*r+3]=e[3],t[9*r+4]=e[4],t[9*r+5]=e[5],t[9*r+6]=e[6],t[9*r+7]=e[7],t[9*r+8]=e[8],t[9*r+9]=e[9]},MAT4:function(e,t,r){t[16*r+0]=e[0],t[16*r+1]=e[1],t[16*r+2]=e[2],t[16*r+3]=e[3],t[16*r+4]=e[4],t[16*r+5]=e[5],t[16*r+6]=e[6],t[16*r+7]=e[7],t[16*r+8]=e[8],t[16*r+9]=e[9],t[16*r+10]=e[10],t[16*r+11]=e[11],t[16*r+12]=e[12],t[16*r+13]=e[13],t[16*r+14]=e[14],t[16*r+15]=e[15]}}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.initializeHierarchy=function(e,t,r){if(!t)return null;var n=e.getExtension("3DTILES_batch_table_hierarchy"),u=t.HIERARCHY;u&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),t.extensions=t.extensions||{},t.extensions["3DTILES_batch_table_hierarchy"]=u,n=u);if(!n)return null;return function(e,t){var r,n,u,s,c=e.instancesLength,f=e.classes,l=e.classIds,d=e.parentCounts,h=e.parentIds,p=c;i(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,u=getBinaryAccessor(l),(0,a.default)("classIds"),l=u.createArrayBufferView(t.buffer,t.byteOffset+l.byteOffset,c));if(i(d))for(i(d.byteOffset)&&(d.componentType=defaultValue(d.componentType,GL.UNSIGNED_SHORT),d.type=AttributeType.SCALAR,u=getBinaryAccessor(d),(0,a.default)("parentCounts"),d=u.createArrayBufferView(t.buffer,t.byteOffset+d.byteOffset,c)),s=new Uint16Array(c),(0,a.default)("parentIdsLength"),p=0,r=0;r<c;++r)s[r]=p,p+=((0,a.default)("parentIdsLength"),d[r]);i(h)&&i(h.byteOffset)&&(h.componentType=defaultValue(h.componentType,GL.UNSIGNED_SHORT),h.type=AttributeType.SCALAR,u=getBinaryAccessor(h),(0,a.default)("parentIds"),h=u.createArrayBufferView(t.buffer,t.byteOffset+h.byteOffset,p));var y=f.length;for(r=0;r<y;++r){var v=f[r].length,b=f[r].instances,m=getBinaryProperties(v,b,t);f[r].instances=combine(m,b)}var g=new Array(y).fill(0),O=new Uint16Array(c);for(r=0;r<c;++r)n=l[r],O[r]=g[n],++g[n];var w={classes:f,classIds:l,classIndexes:O,parentCounts:d,parentIndexes:s,parentIds:h};return function(e){for(var t=e.classIds.length,r=0;r<t;++r)o(e,r,stack)}(w),w}(n,r)},t.traverseHierarchy=function(e,t,r){if(!e)return;var n=e.parentCounts;if(e.parentIds)return r(e,t);if(n>0)return function(e,t,r){var n=e.classIds,a=e.parentCounts,o=e.parentIds,u=e.parentIndexes,s=n.length,c=scratchVisited;c.length=Math.max(c.length,s);var f=++marker,l=scratchStack;l.length=0,l.push(t);for(;l.length>0;)if(t=l.pop(),c[t]!==f){c[t]=f;var d=r(e,t);if(i(d))return d;for(var h=a[t],p=u[t],y=0;y<h;++y){var v=o[p+y];v!==t&&l.push(v)}}return null}(e,t,r);return function(e,t,r){var n=!0;for(;n;){var a=r(e,t);if(i(a))return a;var o=e.parentIds[t];n=o!==t,t=o}throw new Error("traverseHierarchySingleParent")}(e,t,r)};var a=n(r(211)),i=function(e){return void 0!==e};function o(e,t,r){var n=e.parentCounts,a=e.parentIds,u=e.parentIndexes,s=e.classIds.length;if(i(a)){assert(t<s,"Parent index ".concat(t," exceeds the total number of instances: ").concat(s)),assert(-1===r.indexOf(t),"Circular dependency detected in the batch table hierarchy."),r.push(t);for(var c=i(n)?n[t]:1,f=i(n)?u[t]:t,l=0;l<c;++l){var d=a[f+l];d!==t&&o(e,d,r)}r.pop(t)}}},function(e,t){e.exports=function(e){throw new Error('"'+e+'" is read-only')}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize3DTileColorAttribute=function(e,t,r){if(!(t||e&&e.batchIds&&r))return null;var a=e.batchIds,i=e.isRGB565,o=e.pointCount;if(a&&r){for(var u=new Uint8ClampedArray(3*o),s=0;s<o;s++){var c=a[s],f=r.getProperty(c,"dimensions").map((function(e){return 255*e}));u[3*s]=f[0],u[3*s+1]=f[1],u[3*s+2]=f[2]}return{type:n.GL.UNSIGNED_BYTE,value:u,size:3,normalized:!0}}if(i){for(var l=new Uint8ClampedArray(3*o),d=0;d<o;d++){var h=(0,n.decodeRGB565)(t[d]);l[3*d]=h[0],l[3*d+1]=h[1],l[3*d+2]=h[2]}return{type:n.GL.UNSIGNED_BYTE,value:l,size:3,normalized:!0}}if(t&&t.length===3*o)return{type:n.GL.UNSIGNED_BYTE,value:t,size:3,normalized:!0};return{type:n.GL.UNSIGNED_BYTE,value:t,size:4,normalized:!0}};var n=r(27)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize3DTileNormalAttribute=function(e,t){if(!t)return null;if(e.isOctEncoded16P){for(var r=new Float32Array(3*e.pointsLength),n=0;n<e.pointsLength;n++)(0,a.octDecode)(t[2*n],t[2*n+1],i),i.toArray(r,3*n);return{type:a.GL.FLOAT,size:2,value:r}}return{type:a.GL.FLOAT,size:2,value:t}};var n=r(12),a=r(27),i=new n.Vector3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize3DTilePositionAttribute=function(e,t,r){if(!e.isQuantized)return t;if(r["3d-tiles"]&&r["3d-tiles"].decodeQuantizedPositions)return e.isQuantized=!1,function(e,t){for(var r=new n.Vector3,a=new Float32Array(3*e.pointCount),i=0;i<e.pointCount;i++)r.set(t[3*i],t[3*i+1],t[3*i+2]).scale(1/e.quantizedRange).multiply(e.quantizedVolumeScale).add(e.quantizedVolumeOffset).toArray(a,3*i);return a}(e,t);return{type:a.GL.UNSIGNED_SHORT,value:t,size:3,normalized:!0}};var n=r(12),a=r(27)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchedModel3DTile=function(e,t,r,n,a){return l.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(27),u=n(r(62)),s=r(63),c=r(81),f=r(129);function l(){return(l=(0,i.default)(a.default.mark((function e(t,r,n,i,o){var u,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d(t,r,n,i,o),e.next=3,(0,f.extractGLTF)(t,f.GLTF_FORMAT.EMBEDDED,i,o);case 3:return u=t.gltf||{},(s=u.extensions)&&s.CESIUM_RTC&&(t.rtcCenter=s.CESIUM_RTC.center),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,r,n,a){r=(0,s.parse3DTileHeaderSync)(e,t,r),r=(0,c.parse3DTileTablesHeaderSync)(e,t,r),r=(0,c.parse3DTileTablesSync)(e,t,r,n),r=(0,f.parse3DTileGLTFViewSync)(e,t,r,n);var i=new u.default(e.featureTableJson,e.featureTableBinary);return e.rtcCenter=i.getGlobalProperty("RTC_CENTER",o.GL.FLOAT,3),r}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"KHR_DRACO_MESH_COMPRESSION",{enumerable:!0,get:function(){return a.KHR_DRACO_MESH_COMPRESSION}}),Object.defineProperty(t,"UBER_POINT_CLOUD_EXTENSION",{enumerable:!0,get:function(){return a.UBER_POINT_CLOUD_EXTENSION}}),Object.defineProperty(t,"GLTFLoader",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"GLTFWriter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"GLBLoader",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"GLBWriter",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"GLTFScenegraph",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"postProcessGLTF",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"GLBBuilder",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"encodeGLTFSync",{enumerable:!0,get:function(){return d.encodeGLTFSync}});var a=r(39),i=n(r(217)),o=n(r(239)),u=n(r(240)),s=n(r(241)),c=n(r(41)),f=n(r(134)),l=n(r(242)),d=r(135)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parse=d,t.default=void 0;var a=n(r(4)),i=n(r(11)),o=n(r(5)),u=r(218);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={id:"gltf",name:"glTF",version:"2.3.13",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:d,options:{gltf:{normalize:!1,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},baseUri:"",log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}},l=f;function d(e){return h.apply(this,arguments)}function h(){return(h=(0,o.default)(a.default.mark((function e(t){var r,n,i,o,s,l=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},n=l.length>2?l[2]:void 0,(r=c(c({},f.options),r)).gltf=c(c({},f.options.gltf),r.gltf),p(r),i=r.byteOffset,o=void 0===i?0:i,s={},e.next=9,(0,u.parseGLTF)(s,t,o,r,n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){"fetchImages"in e&&(e.gltf.loadImages=e.fetchImages),"createImages"in e&&(e.gltf.loadImages=e.createImages),"fetchLinkedResources"in e&&(e.gltf.fetchBuffers=e.fetchLinkedResources),"decompress"in e&&(e.gltf.decompressMeshes=e.decompress),"decompress"in e.gltf&&(e.gltf.decompressMeshes=e.gltf.decompress),"postProcess"in e&&(e.gltf.postProcess=e.postProcess)}t.default=l},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isGLTF=function(e){var t=new DataView(e),r=0;return(0,h.isGLB)(t,r)},t.parseGLTF=function(e,t){return v.apply(this,arguments)};var i=a(r(4)),o=a(r(5)),u=r(82),s=r(7),c=a(r(40)),f=r(229),l=r(230),d=r(231),h=n(r(133)),p=a(r(237)),y=a(r(134));function v(){return(v=(0,o.default)(i.default.mark((function e(t,r){var n,a,o,u,s,c,f=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>2&&void 0!==f[2]?f[2]:0,a=f.length>3?f[3]:void 0,o=f.length>4?f[4]:void 0,b(t,r,n,a),(0,p.default)(t,{normalize:a.gltf.normalize}),u=[],!a.gltf.loadBuffers||!t.json.buffers){e.next=9;break}return e.next=9,m(t,a,o);case 9:return a.gltf.loadImages&&(s=O(t,a,o),u.push(s)),c=(0,d.decodeExtensions)(t,a,o),u.push(c),e.next=14,Promise.all(u);case 14:return e.abrupt("return",a.gltf.postProcess?(0,y.default)(t,a):t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){(n.uri&&(e.baseUri=n.uri),t instanceof ArrayBuffer&&!(0,h.isGLB)(t,r,n))&&(t=(new TextDecoder).decode(t));if("string"==typeof t)e.json=(0,s.parseJSON)(t);else if(t instanceof ArrayBuffer){var a={};r=(0,h.default)(a,t,r,n),(0,c.default)("glTF"===a.type,"Invalid GLB magic string ".concat(a.type)),e._glb=a,e.json=a.json}else(0,c.default)(!1,"GLTF: must be ArrayBuffer or string");var i=e.json.buffers||[];if(e.buffers=new Array(i.length).fill(null),e._glb&&e._glb.header.hasBinChunk){var o=e._glb.binChunks;e.buffers[0]={arrayBuffer:o[0].arrayBuffer,byteOffset:o[0].byteOffset,byteLength:o[0].byteLength}}var u=e.json.images||[];e.images=new Array(u.length).fill({})}function m(e,t,r){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(i.default.mark((function e(t,r,n){var a,o,u,s,l,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.json.buffers.length)){e.next=18;break}if(!(o=t.json.buffers[a]).uri){e.next=15;break}return u=n.fetch,(0,c.default)(u),s=(0,f.resolveUrl)(o.uri,r),e.next=9,u(s);case 9:return l=e.sent,e.next=12,l.arrayBuffer();case 12:d=e.sent,t.buffers[a]={arrayBuffer:d,byteOffset:0,byteLength:d.byteLength},delete o.uri;case 15:++a,e.next=1;break;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,r){return w.apply(this,arguments)}function w(){return(w=(0,o.default)(i.default.mark((function e(t,r,n){var a,o,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.json.images||[],o=[],u=0;u<a.length;++u)o.push(T(t,a[u],u,r,n));return e.next=5,Promise.all(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,r,n,a){return _.apply(this,arguments)}function _(){return(_=(0,o.default)(i.default.mark((function e(t,r,n,a,o){var d,h,p,y,v,b,m;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=o.fetch,h=o.parse,!r.uri){e.next=9;break}return y=(0,f.resolveUrl)(r.uri,a),e.next=5,d(y);case 5:return v=e.sent,e.next=8,v.arrayBuffer();case 8:p=e.sent;case 9:return Number.isFinite(r.bufferView)&&(b=(0,l.getTypedArrayForBufferView)(t.json,t.buffers,r.bufferView),p=(0,s.getZeroOffsetArrayBuffer)(b.buffer,b.byteOffset,b.byteLength)),(0,c.default)(p,"glTF image has no data"),e.next=13,h(p,u.ImageLoader,{},o);case 13:m=e.sent,t.images[n]=m;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(64)),i=r(66),o={id:"image",name:"Images",version:"2.3.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:a.default,tests:[function(e){return Boolean((0,i.getBinaryImageMetadata)(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}};t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return f.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(132),u=n(r(131)),s={},c=!0;function f(){return(f=(0,i.default)(a.default.mark((function e(t,r,n){var i,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.isSVG)(n)){e.next=7;break}return e.next=3,(0,u.default)(t,r,n);case 3:s=e.sent,i=s,e.next=8;break;case 7:i=(0,o.getBlob)(t,n);case 8:return c=r&&r.imagebitmap,e.next=11,l(i,c);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t){var r,n=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h(r=n.length>1&&void 0!==n[1]?n[1]:null)&&c||(r=null),!r){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),c=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function h(e){for(var t in e||s)return!1;return!0}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=((0,o.getBinaryImageMetadata)(e)||{}).mimeType,n=a.global._parseImageNode;return(0,i.default)(n),n(e,r,t)};var a=r(83),i=n(r(50)),o=r(66)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"Images",extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:r(223).encodeImage};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.encodeImage=function(e,t){return c.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(83),u=r(65),s=o.global._encodeImageNode;function c(){return(c=(0,i.default)(a.default.mark((function e(t,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=r||{}).image=r.image||{},e.abrupt("return",s?s(t,{type:r.image.mimeType}):l(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=!0;function l(e,t){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,r){var n,i,o,s,c,l,d,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.image,i=n.mimeType,o=n.jpegQuality,s=(0,u.getImageSize)(t),c=s.width,l=s.height,(d=document.createElement("canvas")).width=c,d.height=l,h(t,d),e.next=8,new Promise((function(e,t){if(o&&f)try{return void d.toBlob(e,i,o)}catch(e){f=!1}d.toBlob(e,i)}));case 8:return p=e.sent,e.next=11,p.arrayBuffer();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===r&&0===n&&"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t.getContext("bitmaprenderer");if(a)return a.transferFromImageBitmap(e),t}var i=t.getContext("2d");if(e.data){var o=new Uint8ClampedArray(e.data),u=new ImageData(o,e.width,e.height);return i.putImageData(u,0,0),t}return i.drawImage(e,0,0),t}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.generateUrl=function(e,t,r){var n=e;"function"==typeof e&&(n=e(s(s({},t),r)));(0,o.default)("string"==typeof n);var a=t.baseUrl;a&&(n="/"===a[a.length-1]?"".concat(a).concat(n):"".concat(a,"/").concat(n));return(0,i.resolvePath)(n)};var a=n(r(11)),i=r(7),o=n(r(50));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.asyncDeepMap=function(e,t){return s.apply(this,arguments)},t.mapSubtree=c;var a=n(r(4)),i=n(r(5)),o=n(r(18)),u=function(e){return e&&"object"===(0,o.default)(e)};function s(){return(s=(0,i.default)(a.default.mark((function e(t,r){var n,i=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,c(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t,r){return f.apply(this,arguments)}function f(){return(f=(0,i.default)(a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,h(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:if(!u(t)){e.next=8;break}return e.next=7,l(t,r,n);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,r(i,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,r){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,r,n){var i,o,u,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in i=[],o={},u=function(e){var a=c(t[e],r,n).then((function(t){o[e]=t}));i.push(a)},t)u(s);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(a.default.mark((function e(t,r){var n,i,o=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},i=t.map((function(e){return c(e,r,n)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.loadImageArray=function(e,t){return c.apply(this,arguments)},t.getImageArrayUrls=f;var a=n(r(4)),i=n(r(5)),o=n(r(64)),u=r(84),s=r(85);function c(){return(c=(0,i.default)(a.default.mark((function e(t,r){var n,i,u=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,f(t,r,n);case 3:return i=e.sent,e.next=6,(0,s.deepLoad)(i,o.default,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return l.apply(this,arguments)}function l(){return(l=(0,i.default)(a.default.mark((function e(t,r){var n,i,o,s,c=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=c.length>2&&void 0!==c[2]?c[2]:{},i=[],o=0;o<t;o++)s=(0,u.getImageUrls)(r,n,{index:o}),i.push(s);return e.next=5,Promise.all(i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getImageCubeUrls=h,t.loadImageCube=function(e){return y.apply(this,arguments)};var a=n(r(4)),i=n(r(11)),o=n(r(5)),u=n(r(64)),s=r(84),c=r(85);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function h(e,t){return p.apply(this,arguments)}function p(){return(p=(0,o.default)(a.default.mark((function e(t,r){var n,i,o,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in n={},i=[],o=0,u=function(e){var a=d[o],u=(0,s.getImageUrls)(t,r,l(l({},a),{},{index:o++})).then((function(t){n[e]=t}));i.push(u)},d)u(c);return e.next=7,Promise.all(i);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=(0,o.default)(a.default.mark((function e(t){var r,n,i=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,h(t,r);case 3:return n=e.sent,e.next=6,(0,c.deepLoad)(n,u.default,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBinaryImage=function(e,t){var r=(0,n.getBinaryImageMetadata)(e);if(t)return Boolean(r&&r.mimeType===t);return Boolean(r)},t.getBinaryImageMIMEType=function(e){var t=(0,n.getBinaryImageMetadata)(e);return t?t.mimeType:null},t.getBinaryImageSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(0,n.getBinaryImageMetadata)(e);if(r)return{width:r.width,height:r.height};throw t=t||"unknown",new Error("invalid image data for type: ".concat(t))};var n=r(66)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveUrl=function(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;var r=t.baseUri||t.uri;if(!r)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return r.substr(0,r.lastIndexOf("/")+1)+e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getTypedArrayForBufferView=i,t.getTypedArrayForImageData=function(e,t,r){var n=e.images[r],a=e.bufferViews[n.bufferView];return i(e,t,a)};var a=n(r(40));function i(e,t,r){var n=e.bufferViews[r];(0,a.default)(n);var i=t[n.buffer];(0,a.default)(i);var o=(n.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,o,n.byteLength)}},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.decodeExtensions=function(e){return s.apply(this,arguments)},t.EXTENSIONS=void 0;var i=a(r(4)),o=a(r(5)),u={KHR_draco_mesh_compression:n(r(232)),KHR_lights_punctual:n(r(234)),KHR_materials_unlit:n(r(235)),KHR_techniques_webgl:n(r(236))};function s(){return(s=(0,o.default)(i.default.mark((function e(t){var r,n,a,o,s,c=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2?c[2]:void 0,r.gltf=r.gltf||{},e.t0=i.default.keys(u);case 4:if((e.t1=e.t0()).done){e.next=14;break}if(a=e.t1.value,o=r.gltf.excludeExtensions||{},a in o&&!o[a]){e.next=12;break}return s=u[a],e.next=12,s.decode(t,r,n);case 12:e.next=4;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.EXTENSIONS=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t,r){return g.apply(this,arguments)},t.encode=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new l.default(e),a=b(n.json.meshes||[]);try{for(a.s();!(t=a.n()).done;){var i=t.value;T(i,r),n.addRequiredExtension(d.KHR_DRACO_MESH_COMPRESSION)}}catch(e){a.e(e)}finally{a.f()}};var a=n(r(38)),i=n(r(37)),o=n(r(4)),u=n(r(11)),s=n(r(5)),c=r(124),f=r(7),l=n(r(41)),d=r(39),h=r(233);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=o.default.mark(k);function b(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(){return(g=(0,s.default)(o.default.mark((function e(t,r,n){var a,i,u,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.gltf.decompressMeshes){e.next=2;break}return e.abrupt("return");case 2:a=new l.default(t),i=[],u=b(k(a));try{for(u.s();!(s=u.n()).done;)c=s.value,a.getObjectExtension(c,d.KHR_DRACO_MESH_COMPRESSION)&&i.push(O(c,a,r,n))}catch(e){u.e(e)}finally{u.f()}return e.next=8,Promise.all(i);case 8:a.removeExtension(d.KHR_DRACO_MESH_COMPRESSION);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,r,n){return w.apply(this,arguments)}function w(){return(w=(0,s.default)(o.default.mark((function e(t,r,n,u){var s,l,p,v,b,m,g,O,w,T,k,j;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.getObjectExtension(t,d.KHR_DRACO_MESH_COMPRESSION),l=r.getTypedArrayForBufferView(s.bufferView),p=(0,f.getZeroOffsetArrayBuffer)(l.buffer,l.byteOffset),v=u.parse,delete(b=y({},n))["3d-tiles"],e.next=8,v(p,c.DracoLoader,b,u);case 8:for(m=e.sent,g={},O=0,w=[].concat((0,i.default)(Object.entries(t.attributes)),[["indices",t.indices]]);O<w.length;O++)T=(0,a.default)(w[O],2),k=T[0],j=T[1],g[k]=r.getAccessor(j);t.attributes=(0,h.getGLTFAccessors)(m.attributes,g),m.indices&&(t.indices=(0,h.getGLTFAccessor)(m.indices,g.indices||{})),_(t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(!n.DracoWriter||!n.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var i=n.DracoWriter.encodeSync({attributes:e}),o=a.parseSync,s=o({attributes:e}),c=n._addFauxAttributes(s.attributes),f=n.addBufferView(i),l={primitives:[{attributes:c,mode:r,extensions:(0,u.default)({},d.KHR_DRACO_MESH_COMPRESSION,{bufferView:f,attributes:c})}]};return l}function _(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("Empty glTF primitive detected: Draco decompression failure?")}function k(e){var t,r,n,a,i,u;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t=b(e.json.meshes||[]),o.prev=1,t.s();case 3:if((r=t.n()).done){o.next=24;break}n=r.value,a=b(n.primitives),o.prev=6,a.s();case 8:if((i=a.n()).done){o.next=14;break}return u=i.value,o.next=12,u;case 12:o.next=8;break;case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(6),a.e(o.t0);case 19:return o.prev=19,a.f(),o.finish(19);case 22:o.next=3;break;case 24:o.next=29;break;case 26:o.prev=26,o.t1=o.catch(1),t.e(o.t1);case 29:return o.prev=29,t.f(),o.finish(29);case 32:case"end":return o.stop()}}),v,null,[[1,26,29,32],[6,16,19,22]])}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getGLTFAccessors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};for(var n in e){var a=e[n];if("indices"!==n){var i=s(a,t[n]||{});r[n]=i}}return r},t.getGLTFAccessor=s,t.getGLTFAttribute=function(e,t){return e.attributes[e.glTFAttributeMap[t]]};var a=n(r(11)),i=r(67);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(e),n=r.buffer,a=r.size,o=r.count,s=u(u({},t),{},{value:n,size:a,bufferView:null,byteOffset:0,count:o,type:(0,i.getAccessorTypeFromSize)(a),componentType:(0,i.getComponentTypeFromArray)(n)});return s}function c(e){var t=e,r=1,n=0;return e&&e.value&&(t=e.value,r=e.size||1),t&&(ArrayBuffer.isView(t)||(t=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(r&&!(e instanceof t))return new t(e);return e}(t,Float32Array)),n=t.length/r),{buffer:t,size:r,count:n}}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t){var r=new i.default(e),n=r.json,a=r.getExtension(o.KHR_LIGHTS_PUNCTUAL);a&&(r.json.lights=a.lights,r.removeExtension(o.KHR_LIGHTS_PUNCTUAL));var s,c=u(n.nodes||[]);try{for(c.s();!(s=c.n()).done;){var f=s.value,l=r.getObjectExtension(f,o.KHR_LIGHTS_PUNCTUAL);l&&(f.light=l.light),r.removeObjectExtension(f,o.KHR_LIGHTS_PUNCTUAL)}}catch(e){c.e(e)}finally{c.f()}},t.encode=function(e,t){var r=new i.default(e),n=r.json;if(n.lights){var s=r.addExtension(o.KHR_LIGHTS_PUNCTUAL);(0,a.default)(!s.lights),s.lights=n.lights,delete n.lights}if(r.json.lights){var c,f=u(r.json.lights);try{for(f.s();!(c=f.n()).done;){var l=c.value,d=l.node;r.addObjectExtension(d,o.KHR_LIGHTS_PUNCTUAL,l)}}catch(e){f.e(e)}finally{f.f()}delete r.json.lights}};var a=n(r(40)),i=n(r(41)),o=r(39);function u(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t){var r=new a.default(e),n=r.json;r.removeExtension(i.KHR_MATERIALS_UNLIT);var u,s=o(n.materials||[]);try{for(s.s();!(u=s.n()).done;){var c=u.value;c.extensions&&c.extensions.KHR_materials_unlit&&(c.unlit=!0),r.removeObjectExtension(c,i.KHR_MATERIALS_UNLIT)}}catch(e){s.e(e)}finally{s.f()}},t.encode=function(e,t){var r=new a.default(e),n=r.json;if(r.materials){var u,s=o(n.materials);try{for(s.s();!(u=s.n()).done;){var c=u.value;c.unlit&&(delete c.unlit,r.addObjectExtension(c,i.KHR_MATERIALS_UNLIT,{}),r.addExtension(i.KHR_MATERIALS_UNLIT))}}catch(e){s.e(e)}finally{s.f()}}};var a=n(r(41)),i=r(39);function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t){var r=new i.default(e),n=r.json,a=r.getExtension(o.KHR_TECHNIQUES_WEBGL);if(a){var c,f=function(e,t){var r=e.programs,n=void 0===r?[]:r,a=e.shaders,i=void 0===a?[]:a,o=e.techniques,u=void 0===o?[]:o,s=new TextDecoder;return i.forEach((function(e){if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=s.decode(t.getTypedArrayForBufferView(e.bufferView))})),n.forEach((function(e){e.fragmentShader=i[e.fragmentShader],e.vertexShader=i[e.vertexShader]})),u.forEach((function(e){e.program=n[e.program]})),u}(a,r),l=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(n.materials||[]);try{for(l.s();!(c=l.n()).done;){var d=c.value,h=r.getObjectExtension(d,o.KHR_TECHNIQUES_WEBGL);h&&(d.technique=Object.assign({},h,f[h.technique]),d.technique.values=s(d.technique,r)),r.removeObjectExtension(d,o.KHR_TECHNIQUES_WEBGL)}}catch(e){l.e(e)}finally{l.f()}r.removeExtension(o.KHR_TECHNIQUES_WEBGL)}},t.encode=function(e,t){};var a=n(r(18)),i=n(r(41)),o=r(39);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((function(t){e.uniforms[t].value&&!(t in r)&&(r[t]=e.uniforms[t].value)})),Object.keys(r).forEach((function(e){"object"===(0,a.default)(r[e])&&void 0!==r[e].index&&(r[e].texture=t.getTexture(r[e].index))})),r}},function(e,t,r){"use strict";var n=r(23),a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new d).normalize(e,t)};var i=a(r(13)),o=a(r(14)),u=n(r(238));function s(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},l={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},d=function(){function e(t){(0,i.default)(this,e),this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}}return(0,o.default)(e,[{key:"normalize",value:function(e,t){this.json=e.json;var r=e.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(r.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),u.decode(e,t),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r)}},{key:"_addAsset",value:function(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(e){for(var t in f)this._convertTopLevelObjectToArray(e,t)}},{key:"_convertTopLevelObjectToArray",value:function(e,t){var r=e[t];if(r&&!Array.isArray(r))for(var n in e[t]=[],r){var a=r[n];a.id=a.id||n;var i=e[t].length;e[t].push(a),this.idToIndexMap[t][n]=i}}},{key:"_convertObjectIdsToArrayIndices",value:function(e){for(var t in f)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));var r,n=s(e.textures);try{for(n.s();!(r=n.n()).done;){var a=r.value;this._convertTextureIds(a)}}catch(e){n.e(e)}finally{n.f()}var i,o=s(e.meshes);try{for(o.s();!(i=o.n()).done;){var u=i.value;this._convertMeshIds(u)}}catch(e){o.e(e)}finally{o.f()}var c,l=s(e.nodes);try{for(l.s();!(c=l.n()).done;){var d=c.value;this._convertNodeIds(d)}}catch(e){l.e(e)}finally{l.f()}var h,p=s(e.scenes);try{for(p.s();!(h=p.n()).done;){var y=h.value;this._convertSceneIds(y)}}catch(e){p.e(e)}finally{p.f()}}},{key:"_convertTextureIds",value:function(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}},{key:"_convertMeshIds",value:function(e){var t,r=s(e.primitives);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.attributes,i=n.indices,o=n.material;for(var u in a)a[u]=this._convertIdToIndex(a[u],"accessor");i&&(n.indices=this._convertIdToIndex(i,"accessor")),o&&(n.material=this._convertIdToIndex(o,"material"))}}catch(e){r.e(e)}finally{r.f()}}},{key:"_convertNodeIds",value:function(e){var t=this;e.children&&(e.children=e.children.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertSceneIds",value:function(e){var t=this;e.nodes&&(e.nodes=e.nodes.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertIdsToIndices",value:function(e,t){var r,n=s(e[t]);try{for(n.s();!(r=n.n()).done;){var a=r.value;for(var i in a){var o=a[i],u=this._convertIdToIndex(o,i);a[i]=u}}}catch(e){n.e(e)}finally{n.f()}}},{key:"_convertIdToIndex",value:function(e,t){var r=l[t];if(r in this.idToIndexMap){var n=this.idToIndexMap[r][e];if(!Number.isFinite(n))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return n}return e}},{key:"_updateObjects",value:function(e){var t,r=s(this.json.buffers);try{for(r.s();!(t=r.n()).done;){delete t.value.type}}catch(e){r.e(e)}finally{r.f()}}}]),e}()},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t){var r,n=new a.default(e),u=n.json,s=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}(u.images||[]);try{for(s.s();!(r=s.n()).done;){var c=r.value,f=n.removeObjectExtension(c,i.KHR_BINARY_GLTF);f&&Object.assign(c,f)}}catch(e){s.e(e)}finally{s.f()}u.buffers&&u.buffers[0]&&delete u.buffers[0].uri;n.removeExtension(i.KHR_BINARY_GLTF)},t.encode=function(e,t){throw new Error(i.KHR_BINARY_GLTF)};var a=n(r(41)),i=r(39);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(135),a={name:"glTF",extensions:["glb"],mimeTypes:["model/gltf-binary"],encodeSync:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.byteOffset,a=void 0===r?0:r,i=(0,n.encodeGLTFSync)(e,null,a,t),o=new ArrayBuffer(i),u=new DataView(o);return(0,n.encodeGLTFSync)(e,u,a,t),o},binary:!0,options:{}};t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=n(r(4)),o=n(r(5)),u=n(r(133)),s={id:"glb",name:"GLB",version:"2.3.13",extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:(a=(0,o.default)(i.default.mark((function e(t,r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t,r));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)}),parseSync:c,options:{glb:{strict:!1}}};function c(e,t){var r=t.byteOffset,n=void 0===r?0:r,a={};return(0,u.default)(a,e,n,t),a}t.default=s},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(86)),i={name:"GLB",extensions:["glb"],mimeTypes:["model/gltf-binary"],encodeSync:function(e,t){var r=t.byteOffset,n=void 0===r?0:r,i=(0,a.default)(e,null,n,t),o=new ArrayBuffer(i),u=new DataView(o);return(0,a.default)(e,u,n,t),o},binary:!0,options:{glb:{}}};t.default=i},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13)),i=n(r(14)),o=r(7),u=r(82),s=r(67),c=n(r(86)),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.byteLength=0,this.json={buffers:[{byteLength:0}],bufferViews:[],accessors:[],images:[],meshes:[]},this.sourceBuffers=[],this.log=t.log||console}return(0,i.default)(e,[{key:"getByteLength",value:function(){return this.byteLength}},{key:"isImage",value:function(e){return(0,u.isImage)(e)}},{key:"encodeSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.encodeAsGLB(e)}},{key:"encodeAsGLB",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._packBinaryChunk(),e.magic&&console.warn("Custom glTF magic number no longer supported");var t={version:2,json:this.json,binary:this.arrayBuffer},r=(0,c.default)(t,null,0,e),n=new ArrayBuffer(r),a=new DataView(n);return(0,c.default)(t,a,0,e),n}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},r=this.addBufferView(e),n={size:t.size,componentType:(0,s.getComponentTypeFromArray)(e),count:Math.round(e.length/t.size)};return this.addAccessor(r,Object.assign(n,t))}},{key:"addBufferView",value:function(e){var t=e.byteLength||e.length;return this.json.bufferViews.push({buffer:0,byteOffset:this.byteLength,byteLength:t}),this.byteLength+=(0,o.padTo4Bytes)(t),this.sourceBuffers.push(e),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){return this.json.accessors.push({bufferView:e,type:(0,s.getAccessorTypeFromSize)(t.size),componentType:t.componentType,count:t.count}),this.json.accessors.length-1}},{key:"_pack",value:function(){return this._packBinaryChunk(),{arrayBuffer:this.arrayBuffer,json:this.json}}},{key:"_packBinaryChunk",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),n=0,a=0;a<this.sourceBuffers.length;a++){var i=this.sourceBuffers[a];n=(0,o.copyToArray)(i,r,n)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:"_getInternalCounts",value:function(){return{buffers:this.json.buffers.length,bufferViews:this.json.bufferViews.length,accessors:this.json.accessors.length,images:this.json.images.length}}}]),e}();t.default=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstancedModel3DTile=function(e,t,r,n,a){return p.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(12),u=r(51),s=r(27),c=n(r(62)),f=n(r(80)),l=r(63),d=r(81),h=r(129);function p(){return(p=(0,i.default)(a.default.mark((function e(t,r,n,i,o){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(t,r,n,i,o),e.next=3,(0,h.extractGLTF)(t,t.gltfFormat,i,o);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r,n,a){if(r=(0,l.parse3DTileHeaderSync)(e,t,r),1!==e.version)throw new Error("Instanced 3D Model version ".concat(e.version," is not supported"));r=(0,d.parse3DTileTablesHeaderSync)(e,t,r);var i=new DataView(t);if(e.gltfFormat=i.getUint32(r,!0),r+=4,r=(0,d.parse3DTileTablesSync)(e,t,r,n),r=(0,h.parse3DTileGLTFViewSync)(e,t,r,n),0===e.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var p=new c.default(e.featureTableJson,e.featureTableBinary),y=p.getGlobalProperty("INSTANCES_LENGTH");if(p.featuresLength=y,!Number.isFinite(y))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");e.eastNorthUp=p.getGlobalProperty("EAST_NORTH_UP"),e.rtcCenter=p.getGlobalProperty("RTC_CENTER",s.GL.FLOAT,3);new f.default(e.batchTableJson,e.batchTableBinary,y);return function(e,t,r,n){for(var a=[new Array(n),e._batchTable][0],i=new o.Vector3,c=(new o.Vector3,new o.Vector3,new o.Vector3,new o.Matrix3),f=new o.Quaternion,l=new o.Vector3,d={},h=new o.Matrix4,p=[],y=[],v=new o.Vector3,b=new o.Vector3,m=0;m<n;m++){var g=void 0;if(t.hasProperty("POSITION"))g=t.getProperty("POSITION",s.GL.FLOAT,3,m,i);else if(t.hasProperty("POSITION_QUANTIZED")){g=t.getProperty("POSITION_QUANTIZED",s.GL.UNSIGNED_SHORT,3,m,i);var O=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",s.GL.FLOAT,3,v);if(!O)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var w=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",s.GL.FLOAT,3,b);if(!w)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var T=0;T<3;T++)g[T]=g[T]/65535*w[T]+O[T]}if(!g)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");i.copy(g),d.translation=i,e.normalUp=t.getProperty("NORMAL_UP",s.GL.FLOAT,3,m,p),e.normalRight=t.getProperty("NORMAL_RIGHT",s.GL.FLOAT,3,m,y);if(e.normalUp){if(!e.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");e.hasCustomOrientation=!0}else{if(e.octNormalUp=t.getProperty("NORMAL_UP_OCT32P",s.GL.UNSIGNED_SHORT,2,p),e.octNormalRight=t.getProperty("NORMAL_RIGHT_OCT32P",s.GL.UNSIGNED_SHORT,2,y),e.octNormalUp){if(!e.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}e.eastNorthUp?(u.Ellipsoid.WGS84.eastNorthUpToFixedFrame(i,h),h.getRotationMatrix3(c)):c.identity()}!1,f.fromMatrix3(c),d.rotation=f,l.set(1,1,1);var _=t.getProperty("SCALE",s.GL.FLOAT,1,m);Number.isFinite(_)&&l.multiplyByScalar(_);var k=t.getProperty("SCALE_NON_UNIFORM",s.GL.FLOAT,3,m,p);k&&l.scale(k),d.scale=l;var j=t.getProperty("BATCH_ID",s.GL.UNSIGNED_SHORT,1,m);void 0===j&&(j=m);var x=(new o.Matrix4).fromQuaternion(d.rotation);h.identity(),h.translate(d.translation),h.multiplyRight(x),h.scale(d.scale);var E=h.clone();a[m]={modelMatrix:E,batchId:j}}e.instances=a}(e,p,0,y),r}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parseComposite3DTile=function(e,t,r,n,a,i){return u.apply(this,arguments)};var a=n(r(4)),i=n(r(5)),o=r(63);function u(){return(u=(0,i.default)(a.default.mark((function e(t,r,n,i,u,s){var c,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,o.parse3DTileHeaderSync)(t,r,n),c=new DataView(r),t.tilesLength=c.getUint32(n,!0),n+=4,t.tiles=[];case 5:if(!(t.tiles.length<t.tilesLength&&t.byteLength-n>12)){e.next=13;break}return f={},t.tiles.push(f),e.next=10,s(r,n,i,u,f);case 10:n=e.sent,e.next=5;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeTileData=o,t.normalizeTileHeaders=function(e){var t=e.basePath,r=o(e.root,e),n=[];n.push(r);for(;n.length>0;){var i,u=a(n.pop().children||[]);try{for(u.s();!(i=u.n()).done;){var s=i.value;o(s,{basePath:t}),n.push(s)}}catch(e){u.e(e)}finally{u.f()}}return r};var n=r(101);function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){if(e.content){var r=e.content.uri||e.content.url;e.contentUrl="".concat(t.basePath,"/").concat(r)}return e.id=e.contentUrl,e.lodMetricType=n.LOD_METRIC_TYPE.GEOMETRIC_ERROR,e.lodMetricValue=e.geometricError,e.transformMatrix=e.transform,e.type=function(e){if(!e.contentUrl)return n.TILE_TYPE.EMPTY;var t=e.contentUrl.split(".").pop();switch(t){case"pnts":return n.TILE_TYPE.POINTCLOUD;case"i3dm":case"b3dm":return n.TILE_TYPE.SCENEGRAPH;default:return t}}(e),e.refine=function(e){switch(e){case"REPLACE":case"replace":return n.TILE_REFINEMENT.REPLACE;case"ADD":case"add":return n.TILE_REFINEMENT.ADD;default:return e}}(e.refine),e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(4)),i=n(r(11)),o=n(r(5)),u=n(r(88)),s=r(136);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){return(l=(0,o.default)(a.default.mark((function e(t){var r,n,i,o,u=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=u.length>1&&void 0!==u[1]?u[1]:{})["cesium-ion"]||{},n=r.accessToken,i=r.assetId,Number.isFinite(i)||(o=t.match(/\/([0-9]+)\/tileset.json/),i=o&&o[1]),e.abrupt("return",(0,s.getIonTilesetMetadata)(n,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d,h=f(f({},u.default),{},{id:"cesium-ion",name:"Cesium Ion",preload:function(e){return l.apply(this,arguments)},parse:(d=(0,o.default)(a.default.mark((function e(t,r,n,i){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r["3d-tiles"]=r["cesium-ion"],r.loader=h,e.abrupt("return",u.default.parse(t,r,n));case 3:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return d.apply(this,arguments)}),options:{"cesium-ion":f(f({},u.default.options["3d-tiles"]),{},{accessToken:null})}}),p=h;t.default=p},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(248)),i={name:"3D Tile",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],encodeSync:function(e,t){return(0,a.default)(e,t)},binary:!0};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=c(e,null,0,t),n=new ArrayBuffer(r),a=new DataView(n);return c(e,a,0,t),n};var n=r(33),a=r(7),i=r(249),o=r(250),u=r(251),s=r(252);function c(e,t,r,f){switch((0,a.assert)("string"==typeof e.type),e.type){case n.TILE3D_TYPE.COMPOSITE:return(0,i.encodeComposite3DTile)(e,t,r,f,c);case n.TILE3D_TYPE.POINT_CLOUD:return(0,s.encodePointCloud3DTile)(e,t,r,f);case n.TILE3D_TYPE.BATCHED_3D_MODEL:return(0,o.encodeBatchedModel3DTile)(e,t,r,f);case n.TILE3D_TYPE.INSTANCED_3D_MODEL:return(0,u.encodeInstancedModel3DTile)(e,t,r,f);default:throw new Error("3D Tiles: unknown tile type")}}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.encodeComposite3DTile=function(e,t,r,n,s){e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:i.MAGIC_ARRAY.COMPOSITE,tiles:[]},e);var c=r;r+=(0,o.encode3DTileHeader)(e,t,r),t&&t.setUint32(r,e.tiles.length,!0);r+=4;for(var f=0;f<e.tiles.length;++f)r+=s(e.tiles[f],t,r,n);return(0,o.encode3DTileByteLength)(t,c,r-c),r};var a=n(r(11)),i=r(33),o=r(68);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.encodeBatchedModel3DTile=function(e,t,r,n){var c=e.featuresLength,f={BATCH_LENGTH:void 0===c?1:c},l=JSON.stringify(f),d=l.length;e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:o.MAGIC_ARRAY.BATCHED_MODEL},e);var h=r;r=(0,u.encode3DTileHeader)(e,t,r),t&&(t.setUint32(12,d,!0),t.setUint32(16,0,!0),t.setUint32(20,0,!0),t.setUint32(24,0,!0));return r+=16,r+=(0,i.copyStringToDataView)(t,r,l,d),(0,u.encode3DTileByteLength)(t,h,r-h),r};var a=n(r(11)),i=r(7),o=r(33),u=r(68);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.encodeInstancedModel3DTile=function(e,t,r,n){var c=e,f=c.featuresLength,l=void 0===f?1:f,d=c.gltfFormat,h=void 0===d?1:d,p=c.gltfUri,y=void 0===p?"":p,v=y.length,b={INSTANCES_LENGTH:l,POSITION:new Array(3*l).fill(0)},m=JSON.stringify(b),g=m.length;e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:o.MAGIC_ARRAY.INSTANCED_MODEL},e);var O=r;r=(0,u.encode3DTileHeader)(e,t,0),t&&(t.setUint32(12,g,!0),t.setUint32(16,0,!0),t.setUint32(20,0,!0),t.setUint32(24,0,!0),t.setUint32(28,h,!0));return r+=20,r+=(0,i.copyStringToDataView)(t,r,m,g),r+=(0,i.copyStringToDataView)(t,r,y,v),(0,u.encode3DTileByteLength)(t,O,r-O),r};var a=n(r(11)),i=r(7),o=r(33),u=r(68);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.encodePointCloud3DTile=function(e,t,r,n){var f=e.featureTableJson,l=void 0===f?c:f,d=JSON.stringify(l);d=(0,u.padStringToByteAlignment)(d,4);var h=e.featureTableJsonByteLength,p=void 0===h?d.length:h,y=new ArrayBuffer(12),v=y.byteLength;e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:i.MAGIC_ARRAY.POINT_CLOUD},e);var b=r;r+=(0,o.encode3DTileHeader)(e,t,0),t&&(t.setUint32(r+0,p,!0),t.setUint32(r+4,v,!0),t.setUint32(r+8,0,!0),t.setUint32(r+12,0,!0));return r+=16,r+=(0,u.copyStringToDataView)(t,r,d,p),r+=(0,u.copyBinaryToDataView)(t,r,y,v),(0,o.encode3DTileByteLength)(t,b,r-b),r};var a=n(r(11)),i=r(33),o=r(68),u=r(7);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var c={POINTS_LENGTH:1,POSITIONS:{byteOffset:0}}}])}));