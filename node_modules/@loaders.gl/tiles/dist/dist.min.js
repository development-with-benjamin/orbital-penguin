!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=100)}([function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a}));var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,r){"use strict";r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return f})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return d})),r.d(t,"e",(function(){return p})),r.d(t,"s",(function(){return v})),r.d(t,"r",(function(){return b})),r.d(t,"o",(function(){return m})),r.d(t,"i",(function(){return g})),r.d(t,"p",(function(){return O})),r.d(t,"h",(function(){return k})),r.d(t,"q",(function(){return w})),r.d(t,"b",(function(){return x})),r.d(t,"a",(function(){return j})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return T})),r.d(t,"n",(function(){return S})),r.d(t,"j",(function(){return E})),r.d(t,"k",(function(){return M})),r.d(t,"t",(function(){return P}));var n=r(44),i=r(52),a=r(39),o=r(18),u=1/Math.PI*180,s=1/180*Math.PI,c={};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)Object(o.a)(t in c),c[t]=e[t];return c}function l(e){return Math.round(e/c.EPSILON)*c.EPSILON}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.precision,n=void 0===r?c.precision||4:r;return e=l(e),"".concat(parseFloat(e.toPrecision(n)))}function d(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p(e){return e.clone?e.clone():Object(i.a)(Array,Object(a.a)(e))}function y(e,t,r){if(d(e)){r=r||((i=e).clone?i.clone():new Array(i.length));for(var n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var i;return t(e)}function v(e){return m(e)}function b(e){return g(e)}function m(e,t){return y(e,(function(e){return e*s}),t)}function g(e,t){return y(e,(function(e){return e*u}),t)}function O(e){return y(e,(function(e){return Math.sin(e)}))}function k(e){return y(e,(function(e){return Math.cos(e)}))}function w(e){return y(e,(function(e){return Math.tan(e)}))}function x(e){return y(e,(function(e){return Math.asin(e)}))}function j(e){return y(e,(function(e){return Math.acos(e)}))}function _(e){return y(e,(function(e){return Math.atan(e)}))}function T(e,t,r){return y(e,(function(e){return Math.max(t,Math.min(r,e))}))}function S(e,t,r){return d(e)?e.map((function(e,n){return S(e,t[n],r)})):r*t+(1-r)*e}function E(e,t,r){var n=c.EPSILON;r&&(c.EPSILON=r);try{if(e===t)return!0;if(d(e)&&d(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!E(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{c.EPSILON=n}}function M(e,t){if(e===t)return!0;if(e&&"object"===Object(n.a)(e)&&t&&"object"===Object(n.a)(t)){if(e.constructor!==t.constructor)return!1;if(e.exactEquals)return e.exactEquals(t)}if(d(e)&&d(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!M(e[r],t[r]))return!1;return!0}return!1}function P(e,t){var r,n=c.EPSILON;c.EPSILON=e;try{r=t()}finally{c.EPSILON=n}return r}c.EPSILON=1e-12,c.debug=!1,c.precision=4,c.printTypes=!1,c.printDegrees=!1,c.printRowMajor=!0},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r(1);function i(e,t){if(e.length!==t)return!1;for(var r=0;r<e.length;++r)if(!Number.isFinite(e[r]))return!1;return!0}function a(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n.f.debug&&!i(e,t))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return e}var u={};function s(e,t){u[e]||(u[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"m",(function(){return f})),r.d(t,"l",(function(){return l})),r.d(t,"n",(function(){return h})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return y})),r.d(t,"a",(function(){return v})),r.d(t,"f",(function(){return m}));var n=r(0);function i(){var e=new n.a(3);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function a(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function o(e,t,r){var i=new n.a(3);return i[0]=e,i[1]=t,i[2]=r,i}function u(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function s(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],u=r[1],s=r[2];return e[0]=i*s-a*u,e[1]=a*o-n*s,e[2]=n*u-i*o,e}function f(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,e}function l(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e}function h(e,t,r){var n=r[0],i=r[1],a=r[2],o=r[3],u=t[0],s=t[1],c=t[2],f=i*c-a*s,l=a*u-n*c,h=n*s-i*u,d=i*h-a*l,p=a*f-n*h,y=n*l-i*f,v=2*o;return f*=v,l*=v,h*=v,d*=2,p*=2,y*=2,e[0]=u+f+d,e[1]=s+l+p,e[2]=c+h+y,e}function d(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function p(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function y(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function v(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],o=t[1],u=t[2],c=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(a*a+o*o+u*u),f=c&&s(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}var b,m=a;b=i()},function(e,t,r){e.exports=r(103)},function(e,t){function r(e,t,r,n,i,a,o){try{var u=e[a](o),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}},function(e,t,r){"use strict";var n=r(28),i=r(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return o.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return o.isWorker}}),Object.defineProperty(t,"nodeVersion",{enumerable:!0,get:function(){return o.nodeVersion}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return o.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return o.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return o.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return o.document}}),Object.defineProperty(t,"createWorker",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"validateLoaderVersion",{enumerable:!0,get:function(){return s.validateLoaderVersion}}),Object.defineProperty(t,"makeTransformIterator",{enumerable:!0,get:function(){return c.makeTransformIterator}}),Object.defineProperty(t,"getTransferList",{enumerable:!0,get:function(){return f.getTransferList}}),Object.defineProperty(t,"_WorkerFarm",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"_WorkerPool",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"_WorkerThread",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getLibraryUrl",{enumerable:!0,get:function(){return p.getLibraryUrl}}),Object.defineProperty(t,"loadLibrary",{enumerable:!0,get:function(){return p.loadLibrary}}),Object.defineProperty(t,"parseJSON",{enumerable:!0,get:function(){return y.parseJSON}}),Object.defineProperty(t,"isBuffer",{enumerable:!0,get:function(){return v.isBuffer}}),Object.defineProperty(t,"toBuffer",{enumerable:!0,get:function(){return v.toBuffer}}),Object.defineProperty(t,"bufferToArrayBuffer",{enumerable:!0,get:function(){return v.bufferToArrayBuffer}}),Object.defineProperty(t,"toArrayBuffer",{enumerable:!0,get:function(){return b.toArrayBuffer}}),Object.defineProperty(t,"sliceArrayBuffer",{enumerable:!0,get:function(){return b.sliceArrayBuffer}}),Object.defineProperty(t,"concatenateArrayBuffers",{enumerable:!0,get:function(){return b.concatenateArrayBuffers}}),Object.defineProperty(t,"compareArrayBuffers",{enumerable:!0,get:function(){return b.compareArrayBuffers}}),Object.defineProperty(t,"padTo4Bytes",{enumerable:!0,get:function(){return m.padTo4Bytes}}),Object.defineProperty(t,"copyToArray",{enumerable:!0,get:function(){return m.copyToArray}}),Object.defineProperty(t,"copyArrayBuffer",{enumerable:!0,get:function(){return m.copyArrayBuffer}}),Object.defineProperty(t,"getZeroOffsetArrayBuffer",{enumerable:!0,get:function(){return m.getZeroOffsetArrayBuffer}}),Object.defineProperty(t,"copyPaddedArrayBufferToDataView",{enumerable:!0,get:function(){return g.copyPaddedArrayBufferToDataView}}),Object.defineProperty(t,"copyPaddedStringToDataView",{enumerable:!0,get:function(){return g.copyPaddedStringToDataView}}),Object.defineProperty(t,"padStringToByteAlignment",{enumerable:!0,get:function(){return O.padStringToByteAlignment}}),Object.defineProperty(t,"copyStringToDataView",{enumerable:!0,get:function(){return O.copyStringToDataView}}),Object.defineProperty(t,"copyBinaryToDataView",{enumerable:!0,get:function(){return O.copyBinaryToDataView}}),Object.defineProperty(t,"getFirstCharacters",{enumerable:!0,get:function(){return k.getFirstCharacters}}),Object.defineProperty(t,"getMagicString",{enumerable:!0,get:function(){return k.getMagicString}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return x.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return x.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return x.resolvePath}}),Object.defineProperty(t,"_addAliases",{enumerable:!0,get:function(){return j.addAliases}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return _.makeTextEncoderIterator}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return _.makeTextDecoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return _.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return _.makeNumberedLineIterator}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return T.forEach}}),Object.defineProperty(t,"concatenateChunksAsync",{enumerable:!0,get:function(){return T.concatenateChunksAsync}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"ChildProcessProxy",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"_getMeshSize",{enumerable:!0,get:function(){return M.getMeshSize}}),Object.defineProperty(t,"getMeshBoundingBox",{enumerable:!0,get:function(){return M.getMeshBoundingBox}}),t.path=void 0;var a=i(r(29)),o=r(70),u=i(r(104)),s=r(71),c=r(105),f=r(55),l=i(r(107)),h=i(r(73)),d=i(r(74)),p=r(109),y=r(111),v=r(112),b=r(56),m=r(77),g=r(113),O=r(114),k=r(75),w=n(r(115));t.path=w;var x=r(78),j=r(78),_=r(116),T=r(117),S=i(r(118)),E=i(r(119)),M=r(124)},function(e,t,r){"use strict";r.r(t),function(e){var n=r(1),i=r(64);r.d(t,"Vector2",(function(){return i.a}));var a=r(32);r.d(t,"Vector3",(function(){return a.a}));var o=r(65);r.d(t,"Vector4",(function(){return o.a}));var u=r(66);r.d(t,"Matrix3",(function(){return u.a}));var s=r(37);r.d(t,"Matrix4",(function(){return s.a}));var c=r(43);r.d(t,"Quaternion",(function(){return c.a})),r.d(t,"config",(function(){return n.f})),r.d(t,"configure",(function(){return n.g})),r.d(t,"formatValue",(function(){return n.l})),r.d(t,"isArray",(function(){return n.m})),r.d(t,"clone",(function(){return n.e})),r.d(t,"equals",(function(){return n.j})),r.d(t,"exactEquals",(function(){return n.k})),r.d(t,"toRadians",(function(){return n.s})),r.d(t,"toDegrees",(function(){return n.r})),r.d(t,"radians",(function(){return n.o})),r.d(t,"degrees",(function(){return n.i})),r.d(t,"sin",(function(){return n.p})),r.d(t,"cos",(function(){return n.h})),r.d(t,"tan",(function(){return n.q})),r.d(t,"asin",(function(){return n.b})),r.d(t,"acos",(function(){return n.a})),r.d(t,"atan",(function(){return n.c})),r.d(t,"clamp",(function(){return n.d})),r.d(t,"lerp",(function(){return n.n})),r.d(t,"withEpsilon",(function(){return n.t}));var f=r(2);r.d(t,"checkNumber",(function(){return f.a}));var l=r(67);r.d(t,"_MathUtils",(function(){return l.a}));var h=r(68);r.d(t,"_SphericalCoordinates",(function(){return h.a}));var d=r(69);r.d(t,"_Pose",(function(){return d.a}));var p=r(38);r.d(t,"_Euler",(function(){return p.a}));var y=r(18);r.d(t,"assert",(function(){return y.a}));var v={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e};(v.global||v.self||v.window).mathgl={config:n.f}}.call(this,r(53))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(35);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(44);function i(e,t){return!t||"object"!==Object(n.a)(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}},function(e,t,r){"use strict";r.d(t,"p",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"g",(function(){return u})),r.d(t,"o",(function(){return s})),r.d(t,"n",(function(){return c})),r.d(t,"j",(function(){return f})),r.d(t,"k",(function(){return l})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v})),r.d(t,"i",(function(){return b})),r.d(t,"h",(function(){return m})),r.d(t,"f",(function(){return g}));var n=r(0);function i(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function a(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],h=t[10],d=t[11],p=t[12],y=t[13],v=t[14],b=t[15],m=r*u-n*o,g=r*s-i*o,O=r*c-a*o,k=n*s-i*u,w=n*c-a*u,x=i*c-a*s,j=f*y-l*p,_=f*v-h*p,T=f*b-d*p,S=l*v-h*y,E=l*b-d*y,M=h*b-d*v,P=m*M-g*E+O*S+k*T-w*_+x*j;return P?(P=1/P,e[0]=(u*M-s*E+c*S)*P,e[1]=(i*E-n*M-a*S)*P,e[2]=(y*x-v*w+b*k)*P,e[3]=(h*w-l*x-d*k)*P,e[4]=(s*T-o*M-c*_)*P,e[5]=(r*M-i*T+a*_)*P,e[6]=(v*O-p*x-b*g)*P,e[7]=(f*x-h*O+d*g)*P,e[8]=(o*E-u*T+c*j)*P,e[9]=(n*T-r*E-a*j)*P,e[10]=(p*w-y*O+b*m)*P,e[11]=(l*O-f*w-d*m)*P,e[12]=(u*_-o*S-s*j)*P,e[13]=(r*S-n*_+i*j)*P,e[14]=(y*g-p*k-v*m)*P,e[15]=(f*k-l*g+h*m)*P,e):null}function o(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11],d=e[12],p=e[13],y=e[14],v=e[15];return(t*o-r*a)*(l*v-h*y)-(t*u-n*a)*(f*v-h*p)+(t*s-i*a)*(f*y-l*p)+(r*u-n*o)*(c*v-h*d)-(r*s-i*o)*(c*y-l*d)+(n*s-i*u)*(c*p-f*d)}function u(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],p=t[11],y=t[12],v=t[13],b=t[14],m=t[15],g=r[0],O=r[1],k=r[2],w=r[3];return e[0]=g*n+O*u+k*l+w*y,e[1]=g*i+O*s+k*h+w*v,e[2]=g*a+O*c+k*d+w*b,e[3]=g*o+O*f+k*p+w*m,g=r[4],O=r[5],k=r[6],w=r[7],e[4]=g*n+O*u+k*l+w*y,e[5]=g*i+O*s+k*h+w*v,e[6]=g*a+O*c+k*d+w*b,e[7]=g*o+O*f+k*p+w*m,g=r[8],O=r[9],k=r[10],w=r[11],e[8]=g*n+O*u+k*l+w*y,e[9]=g*i+O*s+k*h+w*v,e[10]=g*a+O*c+k*d+w*b,e[11]=g*o+O*f+k*p+w*m,g=r[12],O=r[13],k=r[14],w=r[15],e[12]=g*n+O*u+k*l+w*y,e[13]=g*i+O*s+k*h+w*v,e[14]=g*a+O*c+k*d+w*b,e[15]=g*o+O*f+k*p+w*m,e}function s(e,t,r){var n,i,a,o,u,s,c,f,l,h,d,p,y=r[0],v=r[1],b=r[2];return t===e?(e[12]=t[0]*y+t[4]*v+t[8]*b+t[12],e[13]=t[1]*y+t[5]*v+t[9]*b+t[13],e[14]=t[2]*y+t[6]*v+t[10]*b+t[14],e[15]=t[3]*y+t[7]*v+t[11]*b+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],p=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=u,e[5]=s,e[6]=c,e[7]=f,e[8]=l,e[9]=h,e[10]=d,e[11]=p,e[12]=n*y+u*v+l*b+t[12],e[13]=i*y+s*v+h*b+t[13],e[14]=a*y+c*v+d*b+t[14],e[15]=o*y+f*v+p*b+t[15]),e}function c(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t,r,i){var a,o,u,s,c,f,l,h,d,p,y,v,b,m,g,O,k,w,x,j,_,T,S,E,M=i[0],P=i[1],A=i[2],I=Math.hypot(M,P,A);return I<n.b?null:(M*=I=1/I,P*=I,A*=I,a=Math.sin(r),u=1-(o=Math.cos(r)),s=t[0],c=t[1],f=t[2],l=t[3],h=t[4],d=t[5],p=t[6],y=t[7],v=t[8],b=t[9],m=t[10],g=t[11],O=M*M*u+o,k=P*M*u+A*a,w=A*M*u-P*a,x=M*P*u-A*a,j=P*P*u+o,_=A*P*u+M*a,T=M*A*u+P*a,S=P*A*u-M*a,E=A*A*u+o,e[0]=s*O+h*k+v*w,e[1]=c*O+d*k+b*w,e[2]=f*O+p*k+m*w,e[3]=l*O+y*k+g*w,e[4]=s*x+h*j+v*_,e[5]=c*x+d*j+b*_,e[6]=f*x+p*j+m*_,e[7]=l*x+y*j+g*_,e[8]=s*T+h*S+v*E,e[9]=c*T+d*S+b*E,e[10]=f*T+p*S+m*E,e[11]=l*T+y*S+g*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function l(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*n,e[5]=o*i+f*n,e[6]=u*i+l*n,e[7]=s*i+h*n,e[8]=c*i-a*n,e[9]=f*i-o*n,e[10]=l*i-u*n,e[11]=h*i-s*n,e}function h(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],u=t[2],s=t[3],c=t[8],f=t[9],l=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*n,e[1]=o*i-f*n,e[2]=u*i-l*n,e[3]=s*i-h*n,e[8]=a*n+c*i,e[9]=o*n+f*i,e[10]=u*n+l*i,e[11]=s*n+h*i,e}function d(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],u=t[2],s=t[3],c=t[4],f=t[5],l=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*n,e[1]=o*i+f*n,e[2]=u*i+l*n,e[3]=s*i+h*n,e[4]=c*i-a*n,e[5]=f*i-o*n,e[6]=l*i-u*n,e[7]=h*i-s*n,e}function p(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],o=t[5],u=t[6],s=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(a,o,u),e[2]=Math.hypot(s,c,f),e}function y(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,u=n+n,s=i+i,c=r*o,f=n*o,l=n*u,h=i*o,d=i*u,p=i*s,y=a*o,v=a*u,b=a*s;return e[0]=1-l-p,e[1]=f+b,e[2]=h-v,e[3]=0,e[4]=f-b,e[5]=1-c-p,e[6]=d+y,e[7]=0,e[8]=h+v,e[9]=d-y,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v(e,t,r,n,i,a,o){var u=1/(r-t),s=1/(i-n),c=1/(a-o);return e[0]=2*a*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*s,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(i+n)*s,e[10]=(o+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*c,e[15]=0,e}function b(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e}function m(e,t,r,n,i,a,o){var u=1/(t-r),s=1/(n-i),c=1/(a-o);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*u,e[13]=(i+n)*s,e[14]=(o+a)*c,e[15]=1,e}function g(e,t,r,i){var a,o,u,s,c,f,l,h,d,p,y=t[0],v=t[1],b=t[2],m=i[0],g=i[1],O=i[2],k=r[0],w=r[1],x=r[2];return Math.abs(y-k)<n.b&&Math.abs(v-w)<n.b&&Math.abs(b-x)<n.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(l=y-k,h=v-w,d=b-x,a=g*(d*=p=1/Math.hypot(l,h,d))-O*(h*=p),o=O*(l*=p)-m*d,u=m*h-g*l,(p=Math.hypot(a,o,u))?(a*=p=1/p,o*=p,u*=p):(a=0,o=0,u=0),s=h*u-d*o,c=d*a-l*u,f=l*o-h*a,(p=Math.hypot(s,c,f))?(s*=p=1/p,c*=p,f*=p):(s=0,c=0,f=0),e[0]=a,e[1]=s,e[2]=l,e[3]=0,e[4]=o,e[5]=c,e[6]=h,e[7]=0,e[8]=u,e[9]=f,e[10]=d,e[11]=0,e[12]=-(a*y+o*v+u*b),e[13]=-(s*y+c*v+f*b),e[14]=-(l*y+h*v+d*b),e[15]=1,e)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"l",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"k",(function(){return c})),r.d(t,"h",(function(){return f})),r.d(t,"m",(function(){return l})),r.d(t,"j",(function(){return h})),r.d(t,"d",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return v})),r.d(t,"f",(function(){return b})),r.d(t,"e",(function(){return m}));var n=r(0);function i(e){var t=new n.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t,r,i){var a=new n.a(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=i,a}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function l(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function h(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=a*o,e}function d(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function p(e,t,r,n){var i=t[0],a=t[1],o=t[2],u=t[3];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e[3]=u+n*(r[3]-u),e}function y(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}function v(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*a-s*i,l=c*i+s*n-o*a,h=c*a+o*i-u*n,d=-o*n-u*i-s*a;return e[0]=f*c+d*-o+l*-s-h*-u,e[1]=l*c+d*-u+h*-o-f*-s,e[2]=h*c+d*-s+f*-u-l*-o,e[3]=t[3],e}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function m(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],u=t[0],s=t[1],c=t[2],f=t[3];return Math.abs(r-u)<=n.b*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=n.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=n.b*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-f)<=n.b*Math.max(1,Math.abs(o),Math.abs(f))}var g,O;g=new n.a(4),n.a!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0),O=g},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){var n=t[0],i=t[1],a=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/a,e[1]=(r[1]*n+r[5]*i)/a,e}function i(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a||1;return e[0]=(r[0]*n+r[4]*i+r[8]*a)/o,e[1]=(r[1]*n+r[5]*i+r[9]*a)/o,e[2]=(r[2]*n+r[6]*i+r[10]*a)/o,e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e[3]=t[3],e}function u(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=r[0]*n+r[3]*i+r[6]*a,e[1]=r[1]*n+r[4]*i+r[7]*a,e[2]=r[2]*n+r[5]*i+r[8]*a,e[3]=t[3],e}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return u}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"i",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return h}));var n=r(0);function i(){var e=new n.a(9);return n.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function a(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function o(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=f*o-u*c,h=-f*a+u*s,d=c*a-o*s,p=r*l+n*h+i*d;return p?(p=1/p,e[0]=l*p,e[1]=(-f*n+i*c)*p,e[2]=(u*n-i*o)*p,e[3]=h*p,e[4]=(f*r-i*s)*p,e[5]=(-u*r+i*a)*p,e[6]=d*p,e[7]=(-c*r+n*s)*p,e[8]=(o*r-n*a)*p,e):null}function u(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],c=e[8];return t*(c*a-o*s)+r*(-c*i+o*u)+n*(s*i-a*u)}function s(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=r[0],d=r[1],p=r[2],y=r[3],v=r[4],b=r[5],m=r[6],g=r[7],O=r[8];return e[0]=h*n+d*o+p*c,e[1]=h*i+d*u+p*f,e[2]=h*a+d*s+p*l,e[3]=y*n+v*o+b*c,e[4]=y*i+v*u+b*f,e[5]=y*a+v*s+b*l,e[6]=m*n+g*o+O*c,e[7]=m*i+g*u+O*f,e[8]=m*a+g*s+O*l,e}function c(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=u,e[5]=s,e[6]=h*n+d*o+c,e[7]=h*i+d*u+f,e[8]=h*a+d*s+l,e}function f(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=Math.sin(r),d=Math.cos(r);return e[0]=d*n+h*o,e[1]=d*i+h*u,e[2]=d*a+h*s,e[3]=d*o-h*n,e[4]=d*u-h*i,e[5]=d*s-h*a,e[6]=c,e[7]=f,e[8]=l,e}function l(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function h(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,u=n+n,s=i+i,c=r*o,f=n*o,l=n*u,h=i*o,d=i*u,p=i*s,y=a*o,v=a*u,b=a*s;return e[0]=1-l-p,e[3]=f-b,e[6]=h+v,e[1]=f+b,e[4]=1-c-p,e[7]=d-y,e[2]=h-v,e[5]=d+y,e[8]=1-c-l,e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u}));var n=r(0);function i(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function u(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}var s,c;s=new n.a(2),n.a!=Float32Array&&(s[0]=0,s[1]=0),c=s},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.isWritableStream=t.isReadableStream=t.isReadableNodeStream=t.isWritableNodeStream=t.isBuffer=t.isReadableDOMStream=t.isWritableDOMStream=t.isBlob=t.isFile=t.isResponse=t.isIterator=t.isAsyncIterable=t.isIterable=t.isPromise=t.isPureObject=t.isObject=void 0;var i=n(r(22)),a=function(e){return"boolean"==typeof e},o=function(e){return"function"==typeof e},u=function(e){return null!==e&&"object"===(0,i.default)(e)};t.isObject=u;t.isPureObject=function(e){return u(e)&&e.constructor==={}.constructor};t.isPromise=function(e){return u(e)&&o(e.then)};t.isIterable=function(e){return e&&"function"==typeof e[Symbol.iterator]};t.isAsyncIterable=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]};t.isIterator=function(e){return e&&o(e.next)};t.isResponse=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json};t.isFile=function(e){return"undefined"!=typeof File&&e instanceof File};t.isBlob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob};var s=function(e){return u(e)&&o(e.abort)&&o(e.getWriter)};t.isWritableDOMStream=s;var c=function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||u(e)&&o(e.tee)&&o(e.cancel)&&o(e.getReader)};t.isReadableDOMStream=c;t.isBuffer=function(e){return e&&"object"===(0,i.default)(e)&&e.isBuffer};var f=function(e){return u(e)&&o(e.end)&&o(e.write)&&a(e.writable)};t.isWritableNodeStream=f;var l=function(e){return u(e)&&o(e.read)&&o(e.pipe)&&a(e.readable)};t.isReadableNodeStream=l;t.isReadableStream=function(e){return c(e)||l(e)};t.isWritableStream=function(e){return s(e)||f(e)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalOptions=function(e){var t=y(),r=v();t.globalOptions=g(r,e)},t.normalizeOptions=function(e,t,r,n){return r=r||[],r=Array.isArray(r)?r:[r],function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;b(e,null,r,d,p,t);var n,i=c(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=e&&e[a.id]||{},u=a.options&&a.options[a.id]||{},s=a.defaultOptions&&a.defaultOptions[a.id]||{};b(o,a.id,r,u,s,t)}}catch(e){i.e(e)}finally{i.f()}}(e,r),g(t,e,n)},t.getFetchFunction=function(e,t){var r=v(),n=e.fetch||r.fetch;if("function"==typeof n)return n;if((0,o.isObject)(n))return function(e){return(0,u.fetchFile)(e,n)};if(t&&t.fetch)return t.fetch;return function(t){return(0,u.fetchFile)(t,e)}},t.getGlobalLoaderState=void 0;var i=n(r(21)),a=r(10),o=r(24),u=r(59),s=r(136);function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={baseUri:"",fetch:null,CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new s.ConsoleLog,metadata:!1,transforms:[],reuseWorkers:!0},p={dataType:"(no longer used)",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"},y=function(){a.global.loaders=a.global.loaders||{};var e=a.global.loaders;return e._state=e._state||{},e._state};t.getGlobalLoaderState=y;var v=function(){var e=y();return e.globalOptions=e.globalOptions||h({},d),e.globalOptions};function b(e,t,r,n,i,a){var u=t||"Top level",s=t?"".concat(t,"."):"";for(var c in e){var f=!t&&(0,o.isObject)(e[c]);if(!(c in n))if(c in i)r.warn("".concat(u," loader option '").concat(s).concat(c,"' deprecated, use '").concat(i[c],"'"));else if(!f){var l=m(c,a);r.warn("".concat(u," loader option '").concat(s).concat(c,"' not recognized. ").concat(l))}}}function m(e,t){var r,n=e.toLowerCase(),i="",a=c(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;for(var u in o.options){if(e===u)return"Did you mean '".concat(o.id,".").concat(u,"'?");var s=u.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(i=i||"Did you mean '".concat(o.id,".").concat(u,"'?"))}}}catch(e){a.e(e)}finally{a.f()}return i}function g(e,t,r){var n=h({},e.options||{});return null===n.log&&(n.log=new s.NullLog),O(n,v()),O(n,t),function(e,t){t&&!e.baseUri&&(e.baseUri=t)}(n,r),n}function O(e,t){for(var r in t)if(r in t){var n=t[r];(0,o.isPureObject)(n)&&(0,o.isPureObject)(e[r])?e[r]=h(h({},e[r]),t[r]):e[r]=t[r]}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(50);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(35);var c=r(52);function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Object(c.a)(e,arguments,Object(u.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(s.a)(n,e)})(e)}var l=r(1),h=r(18);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){Object(a.a)(r,e);var t=d(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}},{key:"to",value:function(e){return e===this?this:Object(l.m)(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(l.f)}},{key:"formatString",value:function(e){for(var t="",r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+Object(l.l)(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Object(l.j)(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,r){void 0===r&&(r=t,t=e,e=this);for(var n=0;n<this.ELEMENTS;++n){var i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(l.f.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"ELEMENTS",get:function(){return Object(h.a)(!1),0}},{key:"RANK",get:function(){return Object(h.a)(!1),0}},{key:"elements",get:function(){return this}}]),r}(f(Array))},function(e,t,r){var n=r(22);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t){e.exports=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.isLoaderObject=s,t.normalizeLoader=function(e){var t;(0,a.assert)(e,"null loader"),(0,a.assert)(s(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=u(u({},e=e[0]),{},{options:u(u({},e.options),t)}));e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension);Array.isArray(e.extensions)||(e.extensions=[e.extensions]);(0,a.assert)(e.extensions&&e.extensions.length>0&&e.extensions[0]),(e.parseTextSync||e.parseText)&&(e.text=!0);e.text||(e.binary=!0);return e};var i=n(r(21)),a=r(10);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,r=e.options&&e.options[e.id];return t=t||r&&r.workerUrl}},function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(36),c=r(1),f=r(2),l=r(7),h=r(19);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=[0,0,0],y={},v=function(e){Object(a.a)(r,e);var t=d(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n.a)(this,r),e=t.call(this,-0,-0,-0),1===arguments.length&&Object(c.m)(i)?e.copy(i):(c.f.debug&&(Object(f.a)(i),Object(f.a)(a),Object(f.a)(o)),e[0]=i,e[1]=a,e[2]=o),e}return Object(i.a)(r,null,[{key:"ZERO",get:function(){return y.ZERO=y.ZERO||Object.freeze(new r(0,0,0,0))}}]),Object(i.a)(r,[{key:"set",value:function(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y),Object(f.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"angle",value:function(e){return l.a(this,e)}},{key:"cross",value:function(e){return l.c(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return l.i(this,this,n,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return l.j(this,this,n,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?p:r;return l.k(this,this,n,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return l.m(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(h.c)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return l.l(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(h.b)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return l.n(this,this,e),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(f.a)(e)}}]),r}(s.a)},function(e,t,r){var n=r(72);e.exports=function(e){return new n(e)}},function(e,t,r){var n=r(106);e.exports=function(e){return function(){return new n(e.apply(this,arguments))}}},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(27),c=r(2),f=r(18);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(e){Object(a.a)(r,e);var t=l(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"copy",value:function(e){return Object(f.a)(!1),this}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-e[r];t+=n*n}return Object(c.a)(t)}},{key:"dot",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(c.a)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return Object(f.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(c.a)(this[e])}},{key:"setComponent",value:function(e,t){return Object(f.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(c.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(c.a)(e)}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var n=r(26),i=r(5),a=r(4),o=r(12),u=r(13),s=r(6),c=r(2),f=r(51),l=r(19),h=r(14),d=r(23),p=r(7),y=r(15);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var b=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),g=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),O={},k=function(e){Object(o.a)(r,e);var t=v(r);function r(e){var n;return Object(i.a)(this,r),n=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?n.copy(e):n.identity(),n}return Object(a.a)(r,[{key:"INDICES",get:function(){return g}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return O.IDENTITY=O.IDENTITY||Object.freeze(new r(b)),O.IDENTITY}},{key:"ZERO",get:function(){return O.ZERO=O.ZERO||Object.freeze(new r(m)),O.ZERO}}]),Object(a.a)(r,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,r,n,i,a,o,u,s,c,f,l,h,d,p,y){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=a,this[6]=o,this[7]=u,this[8]=s,this[9]=c,this[10]=f,this[11]=l,this[12]=h,this[13]=d,this[14]=p,this[15]=y,this.check()}},{key:"setRowMajor",value:function(e,t,r,n,i,a,o,u,s,c,f,l,h,d,p,y){return this[0]=e,this[1]=i,this[2]=s,this[3]=h,this[4]=t,this[5]=a,this[6]=c,this[7]=d,this[8]=r,this[9]=o,this[10]=f,this[11]=p,this[12]=n,this[13]=u,this[14]=l,this[15]=y,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(b)}},{key:"fromQuaternion",value:function(e){return h.b(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,n=e.right,i=e.bottom,a=e.top,o=e.near,u=e.far;return u===1/0?r._computeInfinitePerspectiveOffCenter(this,t,n,i,a,o):h.c(this,t,n,i,a,o,u),this.check()}},{key:"lookAt",value:function(e,t,r){if(1===arguments.length){var n=e;e=n.eye,t=n.center,r=n.up}return t=t||[0,0,0],r=r||[0,1,0],h.f(this,e,t,r),this.check()}},{key:"ortho",value:function(e){var t=e.left,r=e.right,n=e.bottom,i=e.top,a=e.near,o=void 0===a?.1:a,u=e.far,s=void 0===u?500:u;return h.h(this,t,r,n,i,o,s),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,n=void 0===t?45*Math.PI/180:t,i=e.aspect,a=void 0===i?1:i,o=e.focalDistance,u=void 0===o?1:o,s=e.near,c=void 0===s?.1:s,f=e.far,l=void 0===f?500:f;if(n>2*Math.PI)throw Error("radians");var h=n/2,d=u*Math.tan(h),p=d*a;return(new r).ortho({left:-p,right:p,bottom:-d,top:d,near:c,far:l})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,r=void 0===t?void 0:t,n=e.fov,i=void 0===n?45*Math.PI/180:n,a=e.aspect,o=void 0===a?1:a,u=e.near,s=void 0===u?.1:u,c=e.far,f=void 0===c?500:c;if((r=r||i)>2*Math.PI)throw Error("radians");return h.i(this,r,o,s,f),this.check()}},{key:"determinant",value:function(){return h.a(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*a,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*a,e}},{key:"transpose",value:function(){return h.p(this,this),this.check()}},{key:"invert",value:function(){return h.e(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return h.g(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return h.g(this,this,e),this.check()}},{key:"rotateX",value:function(e){return h.k(this,this,e),this.check()}},{key:"rotateY",value:function(e){return h.l(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return h.m(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t=Object(n.a)(e,3),r=t[0],i=t[1],a=t[2];return this.rotateX(r).rotateY(i).rotateZ(a)}},{key:"rotateAxis",value:function(e,t){return h.j(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?h.n(this,this,e):h.n(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return h.o(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(t=y.n(t||[-0,-0,-0,-0],e,this),Object(c.b)(t,4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=d.d(t||[-0,-0],e,this);break;case 3:t=p.m(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:t=Object(l.a)(t||[-0,-0],e,this);break;case 3:t=Object(l.c)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,r){return this.identity().translate([e,t,r])}},{key:"transformPoint",value:function(e,t){return Object(c.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return Object(c.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return Object(c.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,r,n,i,a){var o=2*a/(r-t),u=2*a/(i-n),s=(r+t)/(r-t),c=(i+n)/(i-n),f=-2*a;return e[0]=o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=s,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=f,e[15]=0,e}}]),r}(f.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(26),i=r(5),a=r(4),o=r(12),u=r(13),s=r(6),c=r(27),f=r(1),l=r(2),h=r(43);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var p="Unknown Euler angle order";var y=function(e){Object(o.a)(r,e);var t=d(r);function r(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.DefaultOrder;(Object(i.a)(this,r),e=t.call(this,-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0]))?(n=e).fromVector3.apply(n,arguments):e.set(a,o,u,s);return e}return Object(a.a)(r,[{key:"ELEMENTS",get:function(){return 4}}],[{key:"rotationOrder",value:function(e){return r.RotationOrders[e]}},{key:"ZYX",get:function(){return 0}},{key:"YXZ",get:function(){return 1}},{key:"XZY",get:function(){return 2}},{key:"ZXY",get:function(){return 3}},{key:"YZX",get:function(){return 4}},{key:"XYZ",get:function(){return 5}},{key:"RollPitchYaw",get:function(){return 0}},{key:"DefaultOrder",get:function(){return r.ZYX}},{key:"RotationOrders",get:function(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}}]),Object(a.a)(r,[{key:"fromQuaternion",value:function(e){var t=Object(n.a)(e,4),i=t[0],a=t[1],o=t[2],u=t[3],s=a*a,c=-2*(s+o*o)+1,f=2*(i*a+u*o),l=-2*(i*o-u*a),h=2*(a*o+u*i),d=-2*(i*i+s)+1;return l=(l=l>1?1:l)<-1?-1:l,new r(Math.atan2(h,d),Math.asin(l),Math.atan2(f,c),r.RollPitchYaw)}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}},{key:"validate",value:function(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}},{key:"toArray4",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}},{key:"toVector3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}},{key:"fromVector3",value:function(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}},{key:"fromRollPitchYaw",value:function(e,t,n){return this.set(e,t,n,r.ZYX)}},{key:"fromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DefaultOrder;return this._fromRotationMatrix(e,t),this.check()}},{key:"getRotationMatrix",value:function(e){return this._getRotationMatrix(e)}},{key:"getQuaternion",value:function(){var e=new h.a;switch(this[4]){case r.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case r.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case r.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case r.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case r.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case r.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(p)}}},{key:"_fromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DefaultOrder,n=e.elements,i=n[0],a=n[4],o=n[8],u=n[1],s=n[5],c=n[9],l=n[2],h=n[6],d=n[10];switch(t=t||this[3]){case r.XYZ:this[1]=Math.asin(Object(f.d)(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(-c,d),this[2]=Math.atan2(-a,i)):(this[0]=Math.atan2(h,s),this[2]=0);break;case r.YXZ:this[0]=Math.asin(-Object(f.d)(c,-1,1)),Math.abs(c)<.99999?(this[1]=Math.atan2(o,d),this[2]=Math.atan2(u,s)):(this[1]=Math.atan2(-l,i),this[2]=0);break;case r.ZXY:this[0]=Math.asin(Object(f.d)(h,-1,1)),Math.abs(h)<.99999?(this[1]=Math.atan2(-l,d),this[2]=Math.atan2(-a,s)):(this[1]=0,this[2]=Math.atan2(u,i));break;case r.ZYX:this[1]=Math.asin(-Object(f.d)(l,-1,1)),Math.abs(l)<.99999?(this[0]=Math.atan2(h,d),this[2]=Math.atan2(u,i)):(this[0]=0,this[2]=Math.atan2(-a,s));break;case r.YZX:this[2]=Math.asin(Object(f.d)(u,-1,1)),Math.abs(u)<.99999?(this[0]=Math.atan2(-c,s),this[1]=Math.atan2(-l,i)):(this[0]=0,this[1]=Math.atan2(o,d));break;case r.XZY:this[2]=Math.asin(-Object(f.d)(a,-1,1)),Math.abs(a)<.99999?(this[0]=Math.atan2(h,s),this[1]=Math.atan2(o,i)):(this[0]=Math.atan2(-c,d),this[1]=0);break;default:throw new Error(p)}return this[3]=t,this}},{key:"_getRotationMatrix",value:function(e){var t=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=this.x,i=this.y,a=this.z,o=Math.cos(n),u=Math.cos(i),s=Math.cos(a),c=Math.sin(n),f=Math.sin(i),l=Math.sin(a);switch(this[3]){case r.XYZ:var h=o*s,d=o*l,y=c*s,v=c*l;t[0]=u*s,t[4]=-u*l,t[8]=f,t[1]=d+y*f,t[5]=h-v*f,t[9]=-c*u,t[2]=v-h*f,t[6]=y+d*f,t[10]=o*u;break;case r.YXZ:var b=u*s,m=u*l,g=f*s,O=f*l;t[0]=b+O*c,t[4]=g*c-m,t[8]=o*f,t[1]=o*l,t[5]=o*s,t[9]=-c,t[2]=m*c-g,t[6]=O+b*c,t[10]=o*u;break;case r.ZXY:var k=u*s,w=u*l,x=f*s,j=f*l;t[0]=k-j*c,t[4]=-o*l,t[8]=x+w*c,t[1]=w+x*c,t[5]=o*s,t[9]=j-k*c,t[2]=-o*f,t[6]=c,t[10]=o*u;break;case r.ZYX:var _=o*s,T=o*l,S=c*s,E=c*l;t[0]=u*s,t[4]=S*f-T,t[8]=_*f+E,t[1]=u*l,t[5]=E*f+_,t[9]=T*f-S,t[2]=-f,t[6]=c*u,t[10]=o*u;break;case r.YZX:var M=o*u,P=o*f,A=c*u,I=c*f;t[0]=u*s,t[4]=I-M*l,t[8]=A*l+P,t[1]=l,t[5]=o*s,t[9]=-c*s,t[2]=-f*s,t[6]=P*l+A,t[10]=M-I*l;break;case r.XZY:var R=o*u,L=o*f,N=c*u,C=c*f;t[0]=u*s,t[4]=-l,t[8]=f*s,t[1]=R*l+C,t[5]=o*s,t[9]=L*l-N,t[2]=N*l-L,t[6]=c*s,t[10]=C*l+R;break;default:throw new Error(p)}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"toQuaternion",value:function(){var e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),i=Math.cos(.5*this.pitch),a=Math.sin(.5*this.pitch),o=e*r*i+t*n*a,u=e*n*i-t*r*a,s=e*r*a+t*n*i,c=t*r*i-e*n*a;return new h.a(u,s,c,o)}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"alpha",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"beta",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"gamma",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"phi",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"theta",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"psi",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"roll",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:"pitch",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:"yaw",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:"order",get:function(){return this[3]},set:function(e){this[3]=function(e){if(e<0&&e>=6)throw new Error(p);return e}(e)}}]),r}(c.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(45);var i=r(50);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceUrlAndType=function(e){if((0,n.isResponse)(e)){var t=(0,i.parseMIMEType)(e.headers.get("content-type")),r=(0,i.parseMIMETypeFromURL)(e.url);return{url:o(e.url||""),type:t||r||null}}if((0,n.isBlob)(e))return{url:o(e.name||""),type:e.type||""};if("string"==typeof e)return{url:o(e),type:(0,i.parseMIMETypeFromURL)(e)};return{url:"",type:""}},t.getResourceContentLength=function(e){if((0,n.isResponse)(e))return e.headers["content-length"]||-1;if((0,n.isBlob)(e))return e.size;if("string"==typeof e)return e.length;if(e instanceof ArrayBuffer)return e.byteLength;if(ArrayBuffer.isView(e))return e.byteLength;return-1};var n=r(24),i=r(129),a=/\?.*/;function o(e){return e.replace(a,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TILE3D_OPTIMIZATION_HINT=t.LOD_METRIC_TYPE=t.TILESET_TYPE=t.TILE_TYPE=t.TILE_REFINEMENT=t.TILE_CONTENT_STATE=void 0;t.TILE_CONTENT_STATE={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};t.TILE_REFINEMENT={ADD:1,REPLACE:2};t.TILE_TYPE={EMPTY:"empty",SCENEGRAPH:"scenegraph",POINTCLOUD:"pointcloud",MESH:"mesh"};t.TILESET_TYPE={I3S:"I3S",TILES3D:"TILES3D"};t.LOD_METRIC_TYPE={GEOMETRIC_ERROR:"geometricError",MAX_SCREEN_THRESHOLD:"maxScreenThreshold"};t.TILE3D_OPTIMIZATION_HINT={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0}},function(e,t,r){"use strict";(function(e){function n(){var t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){var r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(54))},function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(27),c=r(2),f=r(18),l=r(0),h=r(20),d=r(7),p=r(15);function y(){var e=new l.a(4);return l.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function v(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function b(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],u=r[0],s=r[1],c=r[2],f=r[3];return e[0]=n*f+o*u+i*c-a*s,e[1]=i*f+o*s+a*u-n*c,e[2]=a*f+o*c+n*s-i*u,e[3]=o*f-n*u-i*s-a*c,e}function m(e,t,r,n){var i,a,o,u,s,c=t[0],f=t[1],h=t[2],d=t[3],p=r[0],y=r[1],v=r[2],b=r[3];return(a=c*p+f*y+h*v+d*b)<0&&(a=-a,p=-p,y=-y,v=-v,b=-b),1-a>l.b?(i=Math.acos(a),o=Math.sin(i),u=Math.sin((1-n)*i)/o,s=Math.sin(n*i)/o):(u=1-n,s=n),e[0]=u*c+s*p,e[1]=u*f+s*y,e[2]=u*h+s*v,e[3]=u*d+s*b,e}function g(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*a+o]-t[3*o+a])*r,e[a]=(t[3*a+i]+t[3*i+a])*r,e[o]=(t[3*o+i]+t[3*i+o])*r}return e}p.b,p.g,p.c,p.l;var O,k,w,x,j,_,T=p.a,S=p.k,E=p.d,M=p.i,P=p.h,A=p.m,I=p.j,R=(p.f,p.e,O=d.b(),k=d.e(1,0,0),w=d.e(0,1,0),function(e,t,r){var n=d.d(t,r);return n<-.999999?(d.c(O,k,t),d.f(O)<1e-6&&d.c(O,w,t),d.h(O,O),v(e,O,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(d.c(O,t,r),e[0]=O[0],e[1]=O[1],e[2]=O[2],e[3]=1+n,I(e,e))});x=y(),j=y(),_=h.a();function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var N=[0,0,0,1],C=function(e){Object(a.a)(r,e);var t=L(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(n.a)(this,r),e=t.call(this,-0,-0,-0,-0),Array.isArray(i)&&1===arguments.length?e.copy(i):e.set(i,a,o,u),e}return Object(i.a)(r,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:"fromMatrix3",value:function(e){return g(this,e),this.check()}},{key:"identity",value:function(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}},{key:"fromAxisRotation",value:function(e,t){return v(this,e,t),this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"len",value:function(){return P(this)}},{key:"lengthSquared",value:function(){return A(this)}},{key:"dot",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return E(this,e)}},{key:"rotationTo",value:function(e,t){return R(this,e,t),this.check()}},{key:"add",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return T(this,this,e),this.check()}},{key:"calculateW",value:function(){var e,t,r,n,i;return e=this,r=(t=this)[0],n=t[1],i=t[2],e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}},{key:"conjugate",value:function(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}},{key:"invert",value:function(){var e,t,r,n,i,a,o,u;return e=this,r=(t=this)[0],n=t[1],i=t[2],a=t[3],u=(o=r*r+n*n+i*i+a*a)?1/o:0,e[0]=-r*u,e[1]=-n*u,e[2]=-i*u,e[3]=a*u,this.check()}},{key:"lerp",value:function(e,t,r){return M(this,e,t,r),this.check()}},{key:"multiplyRight",value:function(e,t){return Object(f.a)(!t),b(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e,t){return Object(f.a)(!t),b(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s+o*u,e[1]=i*s+a*u,e[2]=a*s-i*u,e[3]=o*s-n*u}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s-a*u,e[1]=i*s+o*u,e[2]=a*s+n*u,e[3]=o*s-i*u}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s+i*u,e[1]=i*s-n*u,e[2]=a*s+o*u,e[3]=o*s-a*u}(this,this,e),this.check()}},{key:"scale",value:function(e){return S(this,this,e),this.check()}},{key:"slerp",value:function(e,t,r){switch(arguments.length){case 1:var n=arguments[0],i=n.start;e=void 0===i?N:i,t=n.target,r=n.ratio;break;case 2:var a=Array.prototype.slice.call(arguments);t=a[0],r=a[1],e=this}return m(this,e,t,r),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return p.o(t,e,this),Object(c.b)(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e,t){return this.multiplyLeft(e,t)}},{key:"multiply",value:function(e,t){return this.multiplyRight(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(c.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(c.a)(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(c.a)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(c.a)(e)}}]),r}(s.a)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(28),i=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.parse=y;var a=i(r(8)),o=i(r(9)),u=r(10),s=r(31),c=r(25),f=r(61),l=r(62),h=n(r(140)),d=r(40),p=r(47);function y(e,t,r,n){return v.apply(this,arguments)}function v(){return(v=(0,o.default)(a.default.mark((function e(t,r,n,i){var o,f,h,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,u.assert)(!i||"string"!=typeof i,"parse no longer accepts final url"),!r||Array.isArray(r)||(0,s.isLoaderObject)(r)||(i=n,n=r,r=null),e.next=4,t;case 4:return t=e.sent,n=n||{},o=(0,d.getResourceUrlAndType)(t),f=o.url,h=(0,l.getLoaders)(r,i),e.next=10,(0,p.selectLoader)(t,h,n);case 10:if(v=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:return n=(0,c.normalizeOptions)(n,v,h,f),i=(0,l.getLoaderContext)({url:f,parse:y,loaders:h},n,i),e.next=17,b(v,t,n,i);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){return m.apply(this,arguments)}function m(){return(m=(0,o.default)(a.default.mark((function e(t,r,n,i){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,u.validateLoaderVersion)(t),e.next=3,(0,f.getArrayBufferOrStringFromData)(r,t);case 3:if(r=e.sent,!t.parseTextSync||"string"!=typeof r){e.next=7;break}return n.dataType="text",e.abrupt("return",t.parseTextSync(r,n,i,t));case 7:if(!(0,h.canParseWithWorker)(t,r,n,i)){e.next=11;break}return e.next=10,(0,h.default)(t,r,n,i);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!=typeof r){e.next=15;break}return e.next=14,t.parseText(r,n,i,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(r,n,i,t);case 18:return e.abrupt("return",e.sent);case 19:return(0,u.assert)(!t.parseSync),e.abrupt("return",(0,u.assert)(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.selectLoader=function(e){return O.apply(this,arguments)},t.selectLoaderSync=k;var i=n(r(8)),a=n(r(21)),o=n(r(22)),u=n(r(57)),s=n(r(9)),c=r(10),f=r(31),l=r(40),h=r(87),d=r(89),p=r(24);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=/\.([^.]+)$/;function O(){return(O=(0,s.default)(i.default.mark((function e(t){var r,n,a,o,u=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:[],n=u.length>2&&void 0!==u[2]?u[2]:{},a=u.length>3&&void 0!==u[3]?u[3]:{},!(o=k(t,r,v(v({},n),{},{nothrow:!0}),a))){e.next=6;break}return e.abrupt("return",o);case 6:if(!(0,p.isBlob)(t)){e.next=11;break}return e.next=9,(0,d.readFileSlice)(t,0,10);case 9:t=e.sent,o=k(t,r,n,a);case 11:if(o||n.nothrow){e.next=13;break}throw new Error(w(t));case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&!Array.isArray(t))return(0,f.normalizeLoader)(t);x(t=[].concat((0,u.default)(t||[]),(0,u.default)((0,h.getRegisteredLoaders)())));var i=(0,l.getResourceUrlAndType)(e),a=i.url,o=i.type,s=j(t,a||n.url);if(!(s=(s=s||_(t,o))||T(t,e))&&!r.nothrow)throw new Error(w(e));return s}function w(e){var t=(0,l.getResourceUrlAndType)(e),r=t.url,n=t.type,i="No valid loader found";return e&&(i+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return M(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return M(e,r,t)}return""}(e),'", contentType: "').concat(n,'"')),r&&(i+=" url: ".concat(r)),i}function x(e){var t,r=b(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;(0,f.normalizeLoader)(n)}}catch(e){r.e(e)}finally{r.f()}}function j(e,t){var r=t&&t.match(g),n=r&&r[1];return n&&function(e,t){t=t.toLowerCase();var r,n=b(e);try{for(n.s();!(r=n.n()).done;){var i,a=r.value,o=b(a.extensions);try{for(o.s();!(i=o.n()).done;){if(i.value.toLowerCase()===t)return a}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return null}(e,n)}function _(e,t){var r,n=b(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(e){n.e(e)}finally{n.f()}return null}function T(e,t){if(!t)return null;var r,n=b(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("string"==typeof t){if(S(t,i))return i}else if(ArrayBuffer.isView(t)){if(E(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(E(t,0,i))return i}}}catch(e){n.e(e)}finally{n.f()}return null}function S(e,t){return t.testText&&t.testText(e)}function E(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((function(n){return function(e,t,r,n){if(n instanceof ArrayBuffer)return(0,c.compareArrayBuffers)(n,e,n.byteLength);switch((0,o.default)(n)){case"function":return n(e,r);case"string":var i=M(e,t,n.length);return n===i;default:return!1}}(e,t,r,n)}))}function M(e,t,r){if(e.byteLength<t+r)return"";for(var n=new DataView(e),i="",a=0;a<r;a++)i+=String.fromCharCode(n.getUint8(t+a));return i}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_OPTIONS=void 0;var i=n(r(21)),a=n(r(16)),o=n(r(17)),u=n(r(155)),s=r(41),c=r(10);function f(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2};t.DEFAULT_OPTIONS=p;var y=function(){function e(t){(0,a.default)(this,e),this.options=d(d({},p),t),this._traversalStack=new u.default,this._emptyTraversalStack=new u.default,this._frameNumber=null,this.root=null,this.selectedTiles={},this.requestedTiles={},this.emptyTiles={}}return(0,o.default)(e,[{key:"traverse",value:function(e,t,r){this.root=e,this.options=d(d({},this.options),r),this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}},{key:"reset",value:function(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}},{key:"executeTraversal",value:function(e,t){var r=this._traversalStack;for(r.push(e);r.length>0;){var n=r.pop(),i=!1;this.canTraverse(n,t)&&(this.updateChildTiles(n,t),i=this.updateAndPushChildren(n,t,r));var a=n.parent,o=Boolean(!a||a._shouldRefine),u=!i;n.hasRenderContent?n.refine===s.TILE_REFINEMENT.ADD?(this.loadTile(n,t),this.selectTile(n,t)):n.refine===s.TILE_REFINEMENT.REPLACE&&(this.loadTile(n,t),u&&this.selectTile(n,t)):(this.emptyTiles[n.id]=n,this.loadTile(n,t),u&&this.selectTile(n,t)),this.touchTile(n,t),n._shouldRefine=i&&o}this.options.onTraversalEnd&&this.options.onTraversalEnd(t)}},{key:"updateChildTiles",value:function(e,t){var r,n=f(e.children);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.updateTile(i,t)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"updateAndPushChildren",value:function(e,t,r){var n=this.options,i=n.loadSiblings,a=n.skipLevelOfDetail,o=e.children;o.sort(this.compareDistanceToCamera);var u,c=!a&&e.refine===s.TILE_REFINEMENT.REPLACE&&e.hasRenderContent,l=!1,h=f(o);try{for(h.s();!(u=h.n()).done;){var d=u.value;if(d.isVisibleAndInRequestVolume?(r.find(d)&&r.delete(d),r.push(d),l=!0):(c||i)&&(this.loadTile(d,t),this.touchTile(d,t)),c){var p=void 0;if(!(p=!!d._inRequestVolume&&(d.hasRenderContent?d.contentAvailable:this.executeEmptyTraversal(d,t))))return p}}}catch(e){h.e(e)}finally{h.f()}return l}},{key:"updateTile",value:function(e,t){this.updateTileVisibility(e,t)}},{key:"selectTile",value:function(e,t){this.shouldSelectTile(e,t)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}},{key:"loadTile",value:function(e,t){this.shouldLoadTile(e,t)&&(e._requestedFrame=t.frameNumber,e._priority=this.getPriority(e),this.requestedTiles[e.id]=e)}},{key:"touchTile",value:function(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}},{key:"canTraverse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(!n&&!e.isVisibleAndInRequestVolume)&&(!!e.hasChildren&&(e.hasTilesetContent?!e.contentExpired:this.shouldRefine(e,t,r)))}},{key:"shouldLoadTile",value:function(e,t){return e.hasUnloadedContent||e.contentExpired}},{key:"shouldSelectTile",value:function(e,t){return e.contentAvailable&&!this.options.skipLevelOfDetail}},{key:"shouldRefine",value:function(e,t,r){var n=e._screenSpaceError;return r&&(n=e.getScreenSpaceError(t,!0)),n>this.options.maximumScreenSpaceError}},{key:"updateTileVisibility",value:function(e,t){e.updateVisibility(t)}},{key:"compareDistanceToCamera",value:function(e,t){return e._distanceToCamera-t._distanceToCamera}},{key:"getPriority",value:function(e){var t=this.options;switch(e.refine){case s.TILE_REFINEMENT.ADD:return e._distanceToCamera;case s.TILE_REFINEMENT.REPLACE:var r=e.parent,n=r&&(!t.skipLevelOfDetail||0===e._screenSpaceError||r.hasTilesetContent)?r._screenSpaceError:e._screenSpaceError;return this.root._screenSpaceError-n;default:return(0,c.assert)(!1)}}},{key:"anyChildrenVisible",value:function(e,t){var r,n=!1,i=f(e.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.updateVisibility(t),n=n||a.isVisibleAndInRequestVolume}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"executeEmptyTraversal",value:function(e,t){for(var r=!0,n=this._emptyTraversalStack;n.length>0;){var i=n.pop();this.updateTile(i,t),i.isVisibleAndInRequestVolume||(this.loadTile(i,t),this.touchTile(i,t));var a=!i.hasRenderContent&&this.canTraverse(i,t,!1,!0);if(a||i.contentAvailable||(r=!1),a){var o,u=f(i.children.filter((function(e){return e})));try{for(u.s();!(o=u.n()).done;){var s=o.value;n.find(s)&&n.delete(s),n.push(s)}}catch(e){u.e(e)}finally{u.f()}}}return r}}]),e}();t.default=y},function(e,t,r){"use strict";r.r(t),r.d(t,"Ellipsoid",(function(){return B})),r.d(t,"isWGS84",(function(){return g}));var n=r(26),i=r(5),a=r(4),o=r(32),u=r(18),s=r(67),c=r(37),f=r(1),l=r(7),h={radii:[6378137,6378137,6356752.314245179],radiiSquared:[40680631590769,40680631590769,40408299984661.445],oneOverRadii:[1/6378137,1/6378137,1/6356752.314245179],oneOverRadiiSquared:[1/40680631590769,1/40680631590769,1/40408299984661.445],maximumRadius:Math.max(6378137,6378137,6356752.314245179),centerToleranceSquared:.1},d=function(e){return e},p=new o.a;function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return Object(f.m)(e)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in e?(t[0]=r(e.longitude),t[1]=r(e.latitude),t[2]=e.height):(t[0]=r(e.x),t[1]=r(e.y),t[2]=e.z),t}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return y(e,t,f.f._cartographicRadians?d:f.s)}function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return Object(f.m)(t)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in t?(t.longitude=r(e[0]),t.latitude=r(e[1]),t.height=e[2]):(t.x=r(e[0]),t.y=r(e[1]),t.z=e[2]),t}function m(e,t){return b(e,t,f.f._cartographicRadians?d:f.r)}function g(e){if(!e)return!1;p.from(e);var t=h.oneOverRadiiSquared,r=h.centerToleranceSquared,n=e[0]*e[0]*t[0],i=e[1]*e[1]*t[1],a=e[2]*e[2]*t[2];return Math.abs(n+i+a-1)<r}var O=new o.a,k=new o.a,w=new o.a;var x=new o.a,j={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},_={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},T={east:new o.a,north:new o.a,up:new o.a,west:new o.a,south:new o.a,down:new o.a},S=new o.a,E=new o.a,M=new o.a;function P(e,t,r,n,i,a){var o,s,c,l=j[t]&&j[t][r];Object(u.a)(l&&(!n||n===l));var h=x.copy(i);if(Object(f.j)(h.x,0,1e-14)&&Object(f.j)(h.y,0,1e-14)){var d=Math.sign(h.z);o=S.fromArray(_[t]),"east"!==t&&"west"!==t&&o.scale(d),s=E.fromArray(_[r]),"east"!==r&&"west"!==r&&s.scale(d),c=M.fromArray(_[n]),"east"!==n&&"west"!==n&&c.scale(d)}else{var p=T.up,y=T.east,v=T.north;y.set(-h.y,h.x,0).normalize(),e.geodeticSurfaceNormal(h,p),v.copy(p).cross(y);var b=T.west,m=T.south;T.down.copy(p).scale(-1),b.copy(y).scale(-1),m.copy(v).scale(-1),o=T[t],s=T[r],c=T[n]}return a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=0,a[4]=s.x,a[5]=s.y,a[6]=s.z,a[7]=0,a[8]=c.x,a[9]=c.y,a[10]=c.z,a[11]=0,a[12]=h.x,a[13]=h.y,a[14]=h.z,a[15]=1,a}var A,I=new o.a,R=new o.a,L=new o.a,N=new o.a,C=new o.a,D=new o.a,B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(i.a)(this,e),Object(u.a)(t>=0),Object(u.a)(r>=0),Object(u.a)(n>=0),this.radii=new o.a(t,r,n),this.radiiSquared=new o.a(t*t,r*r,n*n),this.radiiToTheFourth=new o.a(t*t*t*t,r*r*r*r,n*n*n*n),this.oneOverRadii=new o.a(0===t?0:1/t,0===r?0:1/r,0===n?0:1/n),this.oneOverRadiiSquared=new o.a(0===t?0:1/(t*t),0===r?0:1/(r*r),0===n?0:1/(n*n)),this.minimumRadius=Math.min(t,r,n),this.maximumRadius=Math.max(t,r,n),this.centerToleranceSquared=s.a.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}return Object(a.a)(e,null,[{key:"WGS84",get:function(){return A=A||new e(6378137,6378137,6356752.314245179)}}]),Object(a.a)(e,[{key:"equals",value:function(e){return this===e||Boolean(e&&this.radii.equals(e.radii))}},{key:"toString",value:function(){return this.radii.toString()}},{key:"cartographicToCartesian",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=R,i=L,a=Object(n.a)(e,3),o=a[2];this.geodeticSurfaceNormalCartographic(e,r),i.copy(this.radiiSquared).scale(r);var u=Math.sqrt(r.dot(i));return i.scale(1/u),r.scale(o),i.add(r),i.to(t)}},{key:"cartesianToCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];D.from(e);var r=this.scaleToGeodeticSurface(D,N);if(r){var n=this.geodeticSurfaceNormal(r,R),i=C;i.copy(D).subtract(r);var a=Math.atan2(n.y,n.x),o=Math.asin(n.z),u=Math.sign(l.d(i,D))*l.g(i);return m([a,o,u],t)}}},{key:"eastNorthUpToFixedFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.a;return P(this,"east","north","up",e,t)}},{key:"localFrameToFixedFrame",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new c.a;return P(this,e,t,r,n,i)}},{key:"geocentricSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return I.from(e).normalize().to(t)}},{key:"geodeticSurfaceNormalCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=v(e),n=r[0],i=r[1],a=Math.cos(i);return I.set(a*Math.cos(n),a*Math.sin(n),Math.sin(i)).normalize(),I.to(t)}},{key:"geodeticSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return I.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}},{key:"scaleToGeodeticSurface",value:function(e,t){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o.a,n=t.oneOverRadii,i=t.oneOverRadiiSquared,a=t.centerToleranceSquared;O.from(e);var u=e.x,c=e.y,f=e.z,l=n.x,h=n.y,d=n.z,p=u*u*l*l,y=c*c*h*h,v=f*f*d*d,b=p+y+v,m=Math.sqrt(1/b);if(Number.isFinite(m)){var g=k;if(g.copy(e).scale(m),b<a)return g.to(r);var x=i.x,j=i.y,_=i.z,T=w;T.set(g.x*x*2,g.y*j*2,g.z*_*2);var S,E,M,P,A=(1-m)*e.len()/(.5*T.len()),I=0;do{var R=(S=1/(1+(A-=I)*x))*S,L=(E=1/(1+A*j))*E,N=(M=1/(1+A*_))*M,C=R*S,D=L*E,B=N*M,V=p*C*x+y*D*j+v*B*_,q=-2*V;I=(P=p*R+y*L+v*N-1)/q}while(Math.abs(P)>s.a.EPSILON12);return O.scale([S,E,M]).to(r)}}(e,this,t)}},{key:"scaleToGeocentricSurface",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];N.from(e);var r=N.x,n=N.y,i=N.z,a=this.oneOverRadiiSquared,o=1/Math.sqrt(r*r*a.x+n*n*a.y+i*i*a.z);return N.multiplyScalar(o).to(t)}},{key:"transformPositionToScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return N.from(e).scale(this.oneOverRadii).to(t)}},{key:"transformPositionFromScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return N.from(e).scale(this.radii).to(t)}},{key:"getSurfaceNormalIntersectionWithZAxis",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0];Object(u.a)(Object(f.j)(this.radii.x,this.radii.y,s.a.EPSILON15)),Object(u.a)(this.radii.z>0),N.from(e);var n=N.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(n)>=this.radii.z-t))return N.set(0,0,n).to(r)}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(45);function i(e,t){if(e){if("string"==typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(27),c=r(2),f=r(1);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(e){Object(a.a)(r,e);var t=l(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"toString",value:function(){var e="[";if(f.f.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(var n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,r){return this[t*this.RANK+e]=Object(c.a)(r),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=e*this.RANK,n=0;n<this.RANK;++n)t[n]=this[r+n];return t}},{key:"setColumn",value:function(e,t){for(var r=e*this.RANK,n=0;n<this.RANK;++n)this[r+n]=t[n];return this}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(35);function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,r){return(a=i()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&Object(n.a)(a,r.prototype),a}).apply(null,arguments)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=u(h);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||f||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferList=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,o=n||new Set;if(t){if(a(t))o.add(t);else if(a(t.buffer))o.add(t.buffer);else if(ArrayBuffer.isView(t));else if(r&&"object"===(0,i.default)(t))for(var u in t)e(t[u],r,o)}else;return void 0===n?Array.from(o):[]};var i=n(r(22));function a(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}},function(e,t,r){"use strict";var n=r(28),i=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=function(e){u.toArrayBuffer&&(e=u.toArrayBuffer(e));if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===(0,a.default)(e)&&e._toArrayBuffer)return e._toArrayBuffer();return(0,o.default)(!1)},t.compareArrayBuffers=function(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),i=new Uint8Array(t),a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0},t.concatenateArrayBuffers=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),a=i.reduce((function(e,t){return e+t.byteLength}),0),o=new Uint8Array(a),u=0,c=s(i);try{for(c.s();!(n=c.n()).done;){var f=n.value;o.set(f,u),u+=f.byteLength}}catch(e){c.e(e)}finally{c.f()}return o.buffer},t.sliceArrayBuffer=function(e,t,r){var n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer};var a=i(r(22)),o=i(r(29)),u=n(r(76));function s(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){var n=r(120),i=r(121),a=r(80),o=r(122);e.exports=function(e){return n(e)||i(e)||a(e)||o()}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(21)),o=n(r(9)),u=n(r(22)),s=n(r(16)),c=n(r(17)),f=r(11),l=r(63),h=r(85),d=r(10),p=r(41),y=r(93),v=r(151),b=r(95);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=new f.Vector3;var k=function(){function e(t,r,n){(0,s.default)(this,e),(0,d.assert)("object"===(0,u.default)(r)),this.header=r,this.tileset=t,this.id=r.id,this.url=r.url,this.parent=n,this.refine=this._getRefine(r.refine),this.type=r.type,this.contentUrl=r.contentUrl,this.lodMetricType=null,this.lodMetricValue=null,this.boundingVolume=null,this.content=null,this.contentState=p.TILE_CONTENT_STATE.UNLOADED,this.gpuMemoryUsageInBytes=0,this.children=[],this.depth=0,this._cacheNode=null,this._frameNumber=null,this._cacheNode=null,this._initializeLodMetric(r),this._initializeTransforms(r),this._initializeBoundingVolumes(r),this._initializeContent(r),this._initializeRenderingState(r),this._lodJudge=null,this._expireDate=null,this._expiredContent=null,this._getPriority=this._getPriority.bind(this),Object.seal(this)}var t;return(0,c.default)(e,[{key:"destroy",value:function(){this.header=null}},{key:"isDestroyed",value:function(){return null===this.header}},{key:"getScreenSpaceError",value:function(e,t){switch(this.tileset.type){case p.TILESET_TYPE.I3S:return(0,b.getI3ScreenSize)(this,e);case p.TILESET_TYPE.TILES3D:return(0,v.getTiles3DScreenSpaceError)(this,e,t);default:return console.error("Unsupported tileset type"),null}}},{key:"_getPriority",value:function(){return this.isVisible?this.contentState===p.TILE_CONTENT_STATE.UNLOADED?-1:Math.max(1e7-this._priority,0)||0:-1}},{key:"loadContent",value:(t=(0,o.default)(i.default.mark((function e(){var t,r,n,o,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.content){e.next=4;break}return e.abrupt("return",!0);case 4:return this.contentExpired&&(this._expireDate=null),this.contentState=p.TILE_CONTENT_STATE.LOADING,e.next=9,this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority);case 9:if(t=e.sent){e.next=13;break}return this.contentState=p.TILE_CONTENT_STATE.UNLOADED,e.abrupt("return",!1);case 13:return e.prev=13,r=this.tileset.getTileUrl(this.contentUrl),n=this.tileset.fetchOptions,o=this.tileset.loader,u=g(g({},n),{},(0,a.default)({},o.id,{tile:this.header,tileset:this.tileset.tileset,isTileset:"auto",isTileHeader:!1,assetGltfUpAxis:this.tileset.asset.gltfUpAxis})),e.next=20,(0,h.load)(r,o,u);case 20:return this.content=e.sent,this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this,d.path.dirname(this.contentUrl)),this.contentState=p.TILE_CONTENT_STATE.READY,this._onContentLoaded(),e.abrupt("return",!0);case 27:throw e.prev=27,e.t0=e.catch(13),this.contentState=p.TILE_CONTENT_STATE.FAILED,e.t0;case 31:return e.prev=31,t.done(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[13,27,31,34]])}))),function(){return t.apply(this,arguments)})},{key:"unloadContent",value:function(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.contentState=p.TILE_CONTENT_STATE.UNLOADED,!0}},{key:"updateVisibility",value:function(e){if(this._frameNumber!==e.frameNumber){var t=this.parent,r=t?t.computedTransform:this.tileset.modelMatrix,n=t?t._visibilityPlaneMask:l.CullingVolume.MASK_INDETERMINATE;this._updateTransform(r),this._distanceToCamera=this.distanceToTile(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,n),this._visible=this._visibilityPlaneMask!==l.CullingVolume.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._priority=this.lodMetricValue,this._frameNumber=e.frameNumber}}},{key:"visibility",value:function(e,t){var r=e.cullingVolume,n=this.boundingVolume;return r.computeVisibilityWithPlaneMask(n,t)}},{key:"contentVisibility",value:function(e){return!0}},{key:"distanceToTile",value:function(e){var t=this.boundingVolume;return Math.sqrt(Math.max(t.distanceSquaredTo(e.camera.position),0))}},{key:"cameraSpaceZDepth",value:function(e){var t=e.camera,r=this.boundingVolume;return O.subVectors(r.center,t.position),t.direction.dot(O)}},{key:"insideViewerRequestVolume",value:function(e){var t=this._viewerRequestVolume;return!t||0===t.distanceToCamera(e.camera.position)}},{key:"_initializeLodMetric",value:function(e){"lodMetricType"in e?this.lodMetricType=e.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in e?this.lodMetricValue=e.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}},{key:"_initializeTransforms",value:function(e){this.transform=e.transform?new f.Matrix4(e.transform):new f.Matrix4;var t=this.parent,r=this.tileset,n=t&&t.computedTransform?t.computedTransform.clone():r.modelMatrix.clone();this.computedTransform=new f.Matrix4(n).multiplyRight(this.transform);var i=t&&t._initialTransform?t._initialTransform.clone():new f.Matrix4;this._initialTransform=new f.Matrix4(i).multiplyRight(this.transform)}},{key:"_initializeBoundingVolumes",value:function(e){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(e)}},{key:"_initializeContent",value:function(e){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=p.TILE_CONTENT_STATE.UNLOADED,this.hasTilesetContent=!1,e.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}},{key:"_initializeRenderingState",value:function(e){this.depth=e.level,this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=l.CullingVolume.MASK_INDETERMINATE,this._visible=!1,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}},{key:"_getRefine",value:function(e){return e||this.parent&&this.parent.refine||p.TILE_REFINEMENT.REPLACE}},{key:"_isTileset",value:function(){return-1!==this.contentUrl.indexOf(".json")}},{key:"_onContentLoaded",value:function(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset.traverser.disableSkipLevelOfDetail=!0}this._isTileset()&&(this.hasTilesetContent=!0)}},{key:"_updateBoundingVolume",value:function(e){this.boundingVolume=(0,y.createBoundingVolume)(e.boundingVolume,this.computedTransform,this.boundingVolume);var t=e.content;t&&(t.boundingVolume&&(this._contentBoundingVolume=(0,y.createBoundingVolume)(t.boundingVolume,this.computedTransform,this._contentBoundingVolume)),e.viewerRequestVolume&&(this._viewerRequestVolume=(0,y.createBoundingVolume)(e.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}},{key:"_updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new f.Matrix4,t=e.clone().multiplyRight(this.transform),r=!t.equals(this.computedTransform);r&&(this.computedTransform=t,this._updateBoundingVolume(this.header))}},{key:"updateExpiration",value:function(){if(null!=this._expireDate&&this.contentReady&&!this.hasEmptyContent){var e=Date.now();Date.lessThan(this._expireDate,e)&&(this.contentState=p.TILE_CONTENT_STATE.EXPIRED,this._expiredContent=this.content)}}},{key:"selected",get:function(){return this._selectedFrame===this.tileset._frameNumber}},{key:"isVisible",get:function(){return this._visible}},{key:"isVisibleAndInRequestVolume",get:function(){return this._visible&&this._inRequestVolume}},{key:"hasRenderContent",get:function(){return!this.hasEmptyContent&&!this.hasTilesetContent}},{key:"hasChildren",get:function(){return this.children.length>0||this.header.children&&this.header.children.length>0}},{key:"contentReady",get:function(){return this.contentState===p.TILE_CONTENT_STATE.READY||this.hasEmptyContent}},{key:"contentAvailable",get:function(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}},{key:"hasUnloadedContent",get:function(){return this.hasRenderContent&&this.contentUnloaded}},{key:"contentUnloaded",get:function(){return this.contentState===p.TILE_CONTENT_STATE.UNLOADED}},{key:"contentExpired",get:function(){return this.contentState===p.TILE_CONTENT_STATE.EXPIRED}},{key:"contentFailed",get:function(){return this.contentState===p.TILE_CONTENT_STATE.FAILED}},{key:"extras",get:function(){return this.header.extras}}]),e}();t.default=k},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFile=function(e){return c.apply(this,arguments)};var i=n(r(8)),a=n(r(9)),o=r(10),u=r(86),s=r(130);function c(){return(c=(0,a.default)(i.default.mark((function e(t){var r,n,a=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},"string"==typeof t){e.next=5;break}return e.next=4,(0,u.makeResponse)(t);case 4:return e.abrupt("return",e.sent);case 5:return t=(0,o.resolvePath)(t),e.next=8,fetch(t,r);case 8:if((n=e.sent).ok||!r.throws){e.next=15;break}return e.t0=Error,e.next=13,(0,s.getErrorMessageFromResponse)(n);case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.writeFile=function(e,t,r){if(e=(0,i.resolvePath)(e),!i.isBrowser&&a.writeFile)return a.writeFile(e,t,r);return(0,i.assert)(!1)},t.writeFileSync=function(e,t,r){if(e=(0,i.resolvePath)(e),!i.isBrowser&&a.writeFileSync)return a.writeFileSync(e,t,r);return(0,i.assert)(!1)};var i=r(10),a=n(r(134))},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayBufferOrStringFromDataSync=l,t.getArrayBufferOrStringFromData=function(e,t){return h.apply(this,arguments)},t.getAsyncIteratorFromData=function(e){return d.apply(this,arguments)},t.getReadableStream=function(e){return y.apply(this,arguments)};var i=n(r(8)),a=n(r(9)),o=r(10),u=r(24),s=r(88),c=r(86),f="Cannot convert supplied data type";function l(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer){var r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)||(0,u.isBuffer)(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var n=e.buffer,i=e.byteLength||e.length;return 0===e.byteOffset&&i===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+i)),n}throw new Error(f)}function h(){return(h=(0,a.default)(i.default.mark((function e(t,r){var n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!n){e.next=3;break}return e.abrupt("return",l(t,r));case 3:if(!(0,u.isBlob)(t)){e.next=7;break}return e.next=6,(0,c.makeResponse)(t);case 6:t=e.sent;case 7:if(!(0,u.isResponse)(t)){e.next=21;break}return a=t,e.next=11,(0,c.checkResponse)(a);case 11:if(!r.binary){e.next=17;break}return e.next=14,a.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,a.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if((0,u.isReadableStream)(t)&&(t=(0,s.makeIterator)(t)),!(0,u.isIterable)(t)&&!(0,u.isAsyncIterable)(t)){e.next=24;break}return e.abrupt("return",(0,o.concatenateChunksAsync)(t));case 24:throw new Error(f);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isIterator)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,u.isResponse)(t)){e.next=6;break}return e.next=5,(0,c.checkResponse)(t);case 5:return e.abrupt("return",(0,s.makeIterator)(t.body));case 6:if(!(0,u.isBlob)(t)&&!(0,u.isReadableStream)(t)){e.next=8;break}return e.abrupt("return",(0,s.makeIterator)(t));case 8:if(!(0,u.isAsyncIterable)(t)){e.next=10;break}return e.abrupt("return",t[Symbol.asyncIterator]());case 10:return e.abrupt("return",p(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){if(ArrayBuffer.isView(e))return i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buffer;case 2:case"end":return t.stop()}}),t)}))();if(e instanceof ArrayBuffer)return i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)}))();if((0,u.isIterator)(e))return e;if((0,u.isIterable)(e))return e[Symbol.iterator]();throw new Error(f)}function y(){return(y=(0,a.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isReadableStream)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,u.isResponse)(t)){e.next=4;break}return e.abrupt("return",t.body);case 4:return e.next=6,(0,c.makeResponse)(t);case 6:return r=e.sent,e.abrupt("return",r.body);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getLoaderContext=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r)return r;e=s({fetch:(0,o.getFetchFunction)(t||{},e)},e),Array.isArray(e.loaders)||(e.loaders=null);return e},t.getLoaders=function(e,t){if(!t&&e&&!Array.isArray(e))return e;var r;e&&(r=Array.isArray(e)?e:[e]);if(t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat((0,i.default)(r),(0,i.default)(n)):n}return r&&r.length?r:null};var i=n(r(57)),a=n(r(21)),o=r(25);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";r.r(t),r.d(t,"INTERSECTION",(function(){return n})),r.d(t,"AxisAlignedBoundingBox",(function(){return c})),r.d(t,"BoundingSphere",(function(){return d})),r.d(t,"OrientedBoundingBox",(function(){return C})),r.d(t,"CullingVolume",(function(){return X})),r.d(t,"Plane",(function(){return F})),r.d(t,"_PerspectiveOffCenterFrustum",(function(){return ne})),r.d(t,"_PerspectiveFrustum",(function(){return ue})),r.d(t,"makeBoundingSphereFromPoints",(function(){return xe})),r.d(t,"makeAxisAlignedBoundingBoxFromPoints",(function(){return Ze})),r.d(t,"makeOrientedBoundingBoxFromPoints",(function(){return Ye})),r.d(t,"computeEigenDecomposition",(function(){return Pe})),r.d(t,"Intersect",(function(){return n})),r.d(t,"INTERSECT",(function(){return n}));var n=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),i=r(5),a=r(4),o=r(32),u=new o.a,s=new o.a,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(i.a)(this,e),n=n||u.copy(t).add(r).scale(.5),this.center=new o.a(n),this.halfDiagonal=new o.a(r).subtract(this.center),this.minimum=new o.a(t),this.maximum=new o.a(r)}return Object(a.a)(e,[{key:"clone",value:function(){return new e(this.minimum,this.maximum,this.center)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}},{key:"intersectPlane",value:function(e){var t=this.halfDiagonal,r=s.from(e.normal),i=t.x*Math.abs(r.x)+t.y*Math.abs(r.y)+t.z*Math.abs(r.z),a=this.center.dot(r)+e.distance;return a-i>0?n.INSIDE:a+i<0?n.OUTSIDE:n.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t,r=u.from(e).subtract(this.center),n=this.halfDiagonal,i=0;return(t=Math.abs(r.x)-n.x)>0&&(i+=t*t),(t=Math.abs(r.y)-n.y)>0&&(i+=t*t),(t=Math.abs(r.z)-n.z)>0&&(i+=t*t),i}}]),e}(),f=r(14),l=new o.a,h=new o.a,d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(i.a)(this,e),this.radius=-0,this.center=new o.a,this.fromCenterRadius(t,r)}return Object(a.a)(e,[{key:"fromCenterRadius",value:function(e,t){return this.center.from(e),this.radius=t,this}},{key:"fromCornerPoints",value:function(e,t){return t=l.from(t),this.center=(new o.a).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}},{key:"clone",value:function(){return new e(this.center,this.radius)}},{key:"union",value:function(e){var t=this.center,r=this.radius,n=e.center,i=e.radius,a=l.copy(n).subtract(t),o=a.magnitude();if(r>=o+i)return this.clone();if(i>=o+r)return e.clone();var u=.5*(r+o+i);return h.copy(a).scale((-r+u)/o).add(t),this.center.copy(h),this.radius=u,this}},{key:"expand",value:function(e){var t=(e=l.from(e)).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}},{key:"intersectPlane",value:function(e){var t=this.center,r=this.radius,i=e.normal.dot(t)+e.distance;return i<-r?n.OUTSIDE:i<r?n.INTERSECTING:n.INSIDE}},{key:"transform",value:function(e){this.center.transform(e);var t=f.d(l,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}},{key:"distanceSquaredTo",value:function(e){return(e=l.from(e)).subtract(this.center).lengthSquared()-this.radius*this.radius}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}}]),e}(),p=r(39),y=r(66),v=r(43),b=new o.a,m=new o.a,g=new o.a,O=new o.a,k=new o.a,w=new o.a,x=new o.a,j=new o.a,_=new o.a,T=new o.a,S=0,E=1,M=2,P=3,A=4,I=5,R=6,L=7,N=8,C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];Object(i.a)(this,e),this.center=(new o.a).from(t),this.halfAxes=new y.a(r)}return Object(a.a)(e,[{key:"fromCenterHalfSizeQuaternion",value:function(e,t,r){var n=new v.a(r),i=(new y.a).fromQuaternion(n);return i[0]=i[0]*t[0],i[1]=i[1]*t[0],i[2]=i[2]*t[0],i[3]=i[3]*t[1],i[4]=i[4]*t[1],i[5]=i[5]*t[1],i[6]=i[6]*t[2],i[7]=i[7]*t[2],i[8]=i[8]*t[2],this.center=(new o.a).from(e),this.halfAxes=i,this}},{key:"clone",value:function(){return new e(this.center,this.halfAxes)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}},{key:"getBoundingSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new d,t=this.halfAxes,r=t.getColumn(0,j),n=t.getColumn(1,_),i=t.getColumn(2,T),a=b.copy(r).add(n).add(i);return e.center.copy(this.center),e.radius=a.magnitude(),e}},{key:"intersectPlane",value:function(e){var t=this.center,r=e.normal,i=this.halfAxes,a=r.x,o=r.y,u=r.z,s=Math.abs(a*i[S]+o*i[E]+u*i[M])+Math.abs(a*i[P]+o*i[A]+u*i[I])+Math.abs(a*i[R]+o*i[L]+u*i[N]),c=r.dot(t)+e.distance;return c<=-s?n.OUTSIDE:c>=s?n.INSIDE:n.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t=m.from(e).subtract(this.center),r=this.halfAxes,n=r.getColumn(0,g),i=r.getColumn(1,O),a=r.getColumn(2,k),o=n.magnitude(),u=i.magnitude(),s=a.magnitude();n.normalize(),i.normalize(),a.normalize();var c,f=0;return(c=Math.abs(t.dot(n))-o)>0&&(f+=c*c),(c=Math.abs(t.dot(i))-u)>0&&(f+=c*c),(c=Math.abs(t.dot(a))-s)>0&&(f+=c*c),f}},{key:"computePlaneDistances",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.center,o=this.halfAxes,u=o.getColumn(0,g),s=o.getColumn(1,O),c=o.getColumn(2,k),f=w.copy(u).add(s).add(c).add(a),l=x.copy(f).subtract(e),h=t.dot(l);return n=Math.min(h,n),i=Math.max(h,i),f.copy(a).add(u).add(s).subtract(c),l.copy(f).subtract(e),h=t.dot(l),n=Math.min(h,n),i=Math.max(h,i),f.copy(a).add(u).subtract(s).add(c),l.copy(f).subtract(e),h=t.dot(l),n=Math.min(h,n),i=Math.max(h,i),f.copy(a).add(u).subtract(s).subtract(c),l.copy(f).subtract(e),h=t.dot(l),n=Math.min(h,n),i=Math.max(h,i),a.copy(f).subtract(u).add(s).add(c),l.copy(f).subtract(e),h=t.dot(l),n=Math.min(h,n),i=Math.max(h,i),a.copy(f).subtract(u).add(s).subtract(c),l.copy(f).subtract(e),h=t.dot(l),n=Math.min(h,n),i=Math.max(h,i),a.copy(f).subtract(u).subtract(s).add(c),l.copy(f).subtract(e),h=t.dot(l),n=Math.min(h,n),i=Math.max(h,i),a.copy(f).subtract(u).subtract(s).subtract(c),l.copy(f).subtract(e),h=t.dot(l),n=Math.min(h,n),i=Math.max(h,i),r[0]=n,r[1]=i,r}},{key:"getTransform",value:function(){}},{key:"halfSize",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new o.a(e).len(),new o.a(t).len(),new o.a(r).len()]}},{key:"quaternion",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),n=new o.a(e).normalize(),i=new o.a(t).normalize(),a=new o.a(r).normalize();return(new v.a).fromMatrix3(new y.a([].concat(Object(p.a)(n),Object(p.a)(i),Object(p.a)(a))))}}]),e}(),D=r(18),B=r(1),V=new o.a,q=new o.a,F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(i.a)(this,e),this.normal=new o.a,this.distance=-0,this.fromNormalDistance(t,r)}return Object(a.a)(e,[{key:"fromNormalDistance",value:function(e,t){return Object(D.a)(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}},{key:"fromPointNormal",value:function(e,t){e=V.from(e),this.normal.from(t).normalize();var r=-this.normal.dot(e);return this.distance=r,this}},{key:"fromCoefficients",value:function(e,t,r,n){return this.normal.set(e,t,r),Object(D.a)(Object(B.j)(this.normal.len(),1)),this.distance=n,this}},{key:"clone",value:function(t){return new e(this.normal,this.distance)}},{key:"equals",value:function(e){return Object(B.j)(this.distance,e.distance)&&Object(B.j)(this.normal,e.normal)}},{key:"getPointDistance",value:function(e){return this.normal.dot(e)+this.distance}},{key:"transform",value:function(e){var t=q.copy(this.normal).transformAsVector(e).normalize(),r=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(r,t)}},{key:"projectPointOntoPlane",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];e=V.from(e);var r=this.getPointDistance(e),n=q.copy(this.normal).scale(r);return e.subtract(n).to(t)}}]),e}();function z(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W=[new o.a([1,0,0]),new o.a([0,1,0]),new o.a([0,0,1])],Y=new o.a,Z=new o.a,X=(new F(new o.a(1,0,0),0),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(i.a)(this,e),this.planes=t,Object(D.a)(this.planes.every((function(e){return e instanceof F})))}return Object(a.a)(e,null,[{key:"MASK_OUTSIDE",get:function(){return 4294967295}},{key:"MASK_INSIDE",get:function(){return 0}},{key:"MASK_INDETERMINATE",get:function(){return 2147483647}}]),Object(a.a)(e,[{key:"fromBoundingSphere",value:function(e){this.planes.length=2*W.length;var t,r=e.center,n=e.radius,i=0,a=z(W);try{for(a.s();!(t=a.n()).done;){var o=t.value,u=this.planes[i],s=this.planes[i+1];u||(u=this.planes[i]=new F),s||(s=this.planes[i+1]=new F);var c=Y.copy(o).scale(-n).add(r);o.dot(c);u.fromPointNormal(c,o);var f=Y.copy(o).scale(n).add(r),l=Z.copy(o).negate();l.dot(f);s.fromPointNormal(f,l),i+=2}}catch(e){a.e(e)}finally{a.f()}return this}},{key:"computeVisibility",value:function(e){Object(D.a)(e);var t,r=n.INSIDE,i=z(this.planes);try{for(i.s();!(t=i.n()).done;){var a=t.value;switch(e.intersectPlane(a)){case n.OUTSIDE:return n.OUTSIDE;case n.INTERSECTING:r=n.INTERSECTING}}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"computeVisibilityWithPlaneMask",value:function(t,r){if(Object(D.a)(t,"boundingVolume is required."),Object(D.a)(Number.isFinite(r),"parentPlaneMask is required."),r===e.MASK_OUTSIDE||r===e.MASK_INSIDE)return r;for(var i=e.MASK_INSIDE,a=this.planes,o=0;o<this.planes.length;++o){var u=o<31?1<<o:0;if(!(o<31&&0==(r&u))){var s=a[o],c=t.intersectPlane(s);if(c===n.OUTSIDE)return e.MASK_OUTSIDE;c===n.INTERSECTING&&(i|=u)}}return i}}]),e}());function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=r(37);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=new o.a,$=new o.a,ee=new o.a,te=new o.a,re=new o.a,ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e),t=H({near:1,far:5e8},t),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this._cullingVolume=new X([new F,new F,new F,new F,new F,new F]),this._perspectiveMatrix=new Q.a,this._infinitePerspective=new Q.a}return Object(a.a)(e,[{key:"clone",value:function(){return new e({right:this.right,left:this.left,top:this.top,bottom:this.bottom,near:this.near,far:this.far})}},{key:"equals",value:function(t){return t&&t instanceof e&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far}},{key:"computeCullingVolume",value:function(e,t,r){Object(D.a)(e,"position is required."),Object(D.a)(t,"direction is required."),Object(D.a)(r,"up is required.");var n=this._cullingVolume.planes;r=J.copy(r).normalize();var i=$.copy(t).cross(r).normalize(),a=ee.copy(t).multiplyByScalar(this.near).add(e),u=te.copy(t).multiplyByScalar(this.far).add(e),s=re;return s.copy(i).multiplyByScalar(this.left).add(a).subtract(e).cross(r),n[0].fromPointNormal(e,s),s.copy(i).multiplyByScalar(this.right).add(a).subtract(e).cross(r).negate(),n[1].fromPointNormal(e,s),s.copy(r).multiplyByScalar(this.bottom).add(a).subtract(e).cross(i).negate(),n[2].fromPointNormal(e,s),s.copy(r).multiplyByScalar(this.top).add(a).subtract(e).cross(i),n[3].fromPointNormal(e,s),s=(new o.a).copy(t),n[4].fromPointNormal(a,s),s.negate(),n[5].fromPointNormal(u,s),this._cullingVolume}},{key:"getPixelDimensions",value:function(e,t,r,n){ie(this),Object(D.a)(Number.isFinite(e)&&Number.isFinite(t)),Object(D.a)(e>0),Object(D.a)(t>0),Object(D.a)(r>0),Object(D.a)(n);var i=1/this.near,a=this.top*i,o=2*r*a/t,u=2*r*(a=this.right*i)/e;return n.x=u,n.y=o,n}},{key:"projectionMatrix",get:function(){return ie(this),this._perspectiveMatrix}},{key:"infiniteProjectionMatrix",get:function(){return ie(this),this._infinitePerspective}}]),e}();function ie(e){Object(D.a)(Number.isFinite(e.right)&&Number.isFinite(e.left)&&Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e.top,r=e.bottom,n=e.right,i=e.left,a=e.near,o=e.far;t===e._top&&r===e._bottom&&i===e._left&&n===e._right&&a===e._near&&o===e._far||(Object(D.a)(e.near>0&&e.near<e.far,"near must be greater than zero and less than far."),e._left=i,e._right=n,e._top=t,e._bottom=r,e._near=a,e._far=o,e._perspectiveMatrix=(new Q.a).frustum({left:i,right:n,bottom:r,top:t,near:a,far:o}),e._infinitePerspective=(new Q.a).frustum({left:i,right:n,bottom:r,top:t,near:a,far:1/0}))}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e),t=oe({near:1,far:5e8,xOffset:0,yOffset:0},t),this._offCenterFrustum=new ne,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this.xOffset=t.xOffset,this._xOffset=this.xOffset,this.yOffset=t.yOffset,this._yOffset=this.yOffset}return Object(a.a)(e,[{key:"clone",value:function(){return new e({aspectRatio:this.aspectRatio,fov:this.fov,near:this.near,far:this.far})}},{key:"equals",value:function(t){return null!=t&&t instanceof e&&(se(this),se(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this.near===t.near&&this.far===t.far&&this._offCenterFrustum.equals(t._offCenterFrustum))}},{key:"computeCullingVolume",value:function(e,t,r){return se(this),this._offCenterFrustum.computeCullingVolume(e,t,r)}},{key:"getPixelDimensions",value:function(e,t,r,n){return se(this),this._offCenterFrustum.getPixelDimensions(e,t,r,n)}},{key:"projectionMatrix",get:function(){return se(this),this._offCenterFrustum.projectionMatrix}},{key:"infiniteProjectionMatrix",get:function(){return se(this),this._offCenterFrustum.infiniteProjectionMatrix}},{key:"fovy",get:function(){return se(this),this._fovy}},{key:"sseDenominator",get:function(){return se(this),this._sseDenominator}}]),e}();function se(e){Object(D.a)(Number.isFinite(e.fov)&&Number.isFinite(e.aspectRatio)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(Object(D.a)(e.fov>=0&&e.fov<Math.PI),Object(D.a)(e.aspectRatio>0),Object(D.a)(e.near>=0&&e.near<e.far),e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}function ce(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var le=new o.a,he=new o.a,de=new o.a,pe=new o.a,ye=new o.a,ve=new o.a,be=new o.a,me=new o.a,ge=new o.a,Oe=new o.a,ke=new o.a,we=new o.a;Math.PI;function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new d;if(!e||0===e.length)return t.fromCenterRadius([0,0,0],0);var r,n=be.copy(e[0]),i=le.copy(n),a=he.copy(n),o=de.copy(n),u=pe.copy(n),s=ye.copy(n),c=ve.copy(n),f=ce(e);try{for(f.s();!(r=f.n()).done;){var l=r.value;n.copy(l);var h=n.x,p=n.y,y=n.z;h<i.x&&n.copy(i),h>u.x&&n.copy(u),p<a.y&&n.copy(a),p>s.y&&n.copy(s),y<o.z&&n.copy(o),y>c.z&&n.copy(c)}}catch(e){f.e(e)}finally{f.f()}var v=me.copy(u).subtract(i).magnitudeSquared(),b=me.copy(s).subtract(a).magnitudeSquared(),m=me.copy(c).subtract(o).magnitudeSquared(),g=i,O=u,k=v;b>k&&(k=b,g=a,O=s),m>k&&(k=m,g=o,O=c);var w=ge;w.x=.5*(g.x+O.x),w.y=.5*(g.y+O.y),w.z=.5*(g.z+O.z);var x=me.copy(O).subtract(w).magnitudeSquared(),j=Math.sqrt(x),_=Oe;_.x=i.x,_.y=a.y,_.z=o.z;var T=ke;T.x=u.x,T.y=s.y,T.z=c.z;var S,E=we.copy(_).add(T).multiplyByScalar(.5),M=0,P=ce(e);try{for(P.s();!(S=P.n()).done;){var A=S.value;n.copy(A);var I=me.copy(n).subtract(E).magnitude();I>M&&(M=I);var R=me.copy(n).subtract(w).magnitudeSquared();if(R>x){var L=Math.sqrt(R);x=(j=.5*(j+L))*j;var N=L-j;w.x=(j*w.x+N*n.x)/L,w.y=(j*w.y+N*n.y)/L,w.z=(j*w.z+N*n.z)/L}}}catch(e){P.e(e)}finally{P.f()}return j<M?(w.to(t.center),t.radius=j):(E.to(t.center),t.radius=M),t}var je=r(67),_e=new y.a,Te=new y.a,Se=new y.a,Ee=new y.a,Me=new y.a;function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=je.a.EPSILON20,n=10,i=0,a=0,o=Te,u=Se;o.identity(),u.copy(e);for(var s=r*Ae(u);a<n&&Le(u)>s;)Ne(u,Ee),Me.copy(Ee).transpose(),u.multiplyRight(Ee),u.multiplyLeft(Me),o.multiplyRight(Ee),++i>2&&(++a,i=0);return t.unitary=o.toTarget(t.unitary),t.diagonal=u.toTarget(t.diagonal),t}function Ae(e){for(var t=0,r=0;r<9;++r){var n=e[r];t+=n*n}return Math.sqrt(t)}var Ie=[1,0,0],Re=[2,2,1];function Le(e){for(var t=0,r=0;r<3;++r){var n=e[_e.getElementIndex(Re[r],Ie[r])];t+=2*n*n}return Math.sqrt(t)}function Ne(e,t){for(var r=je.a.EPSILON15,n=0,i=1,a=0;a<3;++a){var o=Math.abs(e[_e.getElementIndex(Re[a],Ie[a])]);o>n&&(i=a,n=o)}var u=Ie[i],s=Re[i],c=1,f=0;if(Math.abs(e[_e.getElementIndex(s,u)])>r){var l,h=(e[_e.getElementIndex(s,s)]-e[_e.getElementIndex(u,u)])/2/e[_e.getElementIndex(s,u)];f=(l=h<0?-1/(-h+Math.sqrt(1+h*h)):1/(h+Math.sqrt(1+h*h)))*(c=1/Math.sqrt(1+l*l))}return y.a.IDENTITY.to(t),t[_e.getElementIndex(u,u)]=t[_e.getElementIndex(s,s)]=c,t[_e.getElementIndex(s,u)]=f,t[_e.getElementIndex(u,s)]=-f,t}function Ce(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return De(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Be=new o.a,Ve=new o.a,qe=new o.a,Fe=new o.a,ze=new o.a,Ue=new y.a,We={diagonal:new y.a,unitary:new y.a};function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new C;if(!e||0===e.length)return t.halfAxes=new y.a([0,0,0,0,0,0,0,0,0]),t.center=new o.a,t;var r,n=e.length,i=new o.a(0,0,0),a=Ce(e);try{for(a.s();!(r=a.n()).done;){var u=r.value;i.add(u)}}catch(e){a.e(e)}finally{a.f()}var s=1/n;i.multiplyByScalar(s);var c,f=0,l=0,h=0,d=0,p=0,v=0,b=Ce(e);try{for(b.s();!(c=b.n()).done;){var m=c.value,g=Be.copy(m).subtract(i);f+=g.x*g.x,l+=g.x*g.y,h+=g.x*g.z,d+=g.y*g.y,p+=g.y*g.z,v+=g.z*g.z}}catch(e){b.e(e)}finally{b.f()}f*=s,l*=s,h*=s,d*=s,p*=s,v*=s;var O=Ue;O[0]=f,O[1]=l,O[2]=h,O[3]=l,O[4]=d,O[5]=p,O[6]=h,O[7]=p,O[8]=v;var k,w=Pe(O,We),x=w.unitary,j=t.halfAxes.copy(x),_=j.getColumn(0,qe),T=j.getColumn(1,Fe),S=j.getColumn(2,ze),E=-Number.MAX_VALUE,M=-Number.MAX_VALUE,P=-Number.MAX_VALUE,A=Number.MAX_VALUE,I=Number.MAX_VALUE,R=Number.MAX_VALUE,L=Ce(e);try{for(L.s();!(k=L.n()).done;){var N=k.value;E=Math.max(N.dot(_),E),M=Math.max(N.dot(T),M),P=Math.max(N.dot(S),P),A=Math.min(N.dot(_),A),I=Math.min(N.dot(T),I),R=Math.min(N.dot(S),R)}}catch(e){L.e(e)}finally{L.f()}_=_.multiplyByScalar(.5*(A+E)),T=T.multiplyByScalar(.5*(I+M)),S=S.multiplyByScalar(.5*(R+P)),t.center.copy(_).add(T).add(S);var D=Ve.set(E-A,M-I,P-R).multiplyByScalar(.5);return t.halfAxes.multiplyByScalar(D),t}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c;if(!e||0===e.length)return t.minimum.set(0,0,0),t.maximum.set(0,0,0),t.center.set(0,0,0),t.halfDiagonal.set(0,0,0),t;var r,n=e[0][0],i=e[0][1],a=e[0][2],o=e[0][0],u=e[0][1],s=e[0][2],f=Ce(e);try{for(f.s();!(r=f.n()).done;){var l=r.value,h=l[0],d=l[1],p=l[2];n=Math.min(h,n),o=Math.max(h,o),i=Math.min(d,i),u=Math.max(d,u),a=Math.min(p,a),s=Math.max(p,s)}}catch(e){f.e(e)}finally{f.f()}return t.minimum.set(n,i,a),t.maximum.set(o,u,s),t.center.copy(t.minimum).add(t.maximum).scale(.5),t.halfDiagonal.copy(t.maximum).subtract(t.center),t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(36),c=r(1),f=r(2),l=r(23),h=r(19);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p=function(e){Object(a.a)(r,e);var t=d(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n.a)(this,r),e=t.call(this,2),Object(c.m)(i)&&1===arguments.length?e.copy(i):(c.f.debug&&(Object(f.a)(i),Object(f.a)(a)),e[0]=i,e[1]=a),e}return Object(i.a)(r,[{key:"set",value:function(e,t){return this[0]=e,this[1]=t,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this.check()}},{key:"fromObject",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y)),this[0]=e.x,this[1]=e.y,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return l.d(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(h.a)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return l.c(this,this,e),this.check()}},{key:"transformByMatrix2x3",value:function(e){return l.b(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return l.a(this,this,e),this.check()}},{key:"ELEMENTS",get:function(){return 2}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(36),c=r(1),f=r(2),l=r(7),h=r(19);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var p={},y=function(e){Object(a.a)(r,e);var t=d(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(n.a)(this,r),e=t.call(this,-0,-0,-0,-0),Object(c.m)(i)&&1===arguments.length?e.copy(i):(c.f.debug&&(Object(f.a)(i),Object(f.a)(a),Object(f.a)(o),Object(f.a)(u)),e[0]=i,e[1]=a,e[2]=o,e[3]=u),e}return Object(i.a)(r,null,[{key:"ZERO",get:function(){return p.ZERO=p.ZERO||Object.freeze(new r(0,0,0,0))}}]),Object(i.a)(r,[{key:"set",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"fromObject",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y),Object(f.a)(e.z),Object(f.a)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}},{key:"transform",value:function(e){return l.m(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return Object(h.e)(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(h.d)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return l.n(this,this,e),this.check()}},{key:"applyMatrix4",value:function(e){return e.transform(this,this),this}},{key:"ELEMENTS",get:function(){return 4}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(f.a)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(f.a)(e)}}]),r}(s.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(5),i=r(4),a=r(12),o=r(13),u=r(6),s=r(51),c=r(2),f=r(19),l=r(20),h=r(23),d=r(7);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=Object.freeze([1,0,0,0,1,0,0,0,1]),v=Object.freeze([0,0,0,0,0,0,0,0,0]),b=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),m={},g=function(e){Object(a.a)(r,e);var t=p(r);function r(e){var i;return Object(n.a)(this,r),i=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?i.copy(e):i.identity(),i}return Object(i.a)(r,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return b}}],[{key:"IDENTITY",get:function(){return m.IDENTITY=m.IDENTITY||Object.freeze(new r(y)),m.IDENTITY}},{key:"ZERO",get:function(){return m.ZERO=m.ZERO||Object.freeze(new r(v)),m.ZERO}}]),Object(i.a)(r,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}},{key:"set",value:function(e,t,r,n,i,a,o,u,s){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=a,this[6]=o,this[7]=u,this[8]=s,this.check()}},{key:"setRowMajor",value:function(e,t,r,n,i,a,o,u,s){return this[0]=e,this[1]=n,this[2]=o,this[3]=t,this[4]=i,this[5]=u,this[6]=r,this[7]=a,this[8]=s,this.check()}},{key:"determinant",value:function(){return l.b(this)}},{key:"identity",value:function(){return this.copy(y)}},{key:"fromQuaternion",value:function(e){return l.c(this,e),this.check()}},{key:"transpose",value:function(){return l.i(this,this),this.check()}},{key:"invert",value:function(){return l.d(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return l.e(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return l.e(this,this,e),this.check()}},{key:"rotate",value:function(e){return l.f(this,this,e),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?l.g(this,this,e):l.g(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return l.h(this,this,e),this.check()}},{key:"transform",value:function(e,t){switch(e.length){case 2:t=h.c(t||[-0,-0],e,this);break;case 3:t=d.l(t||[-0,-0,-0],e,this);break;case 4:t=Object(f.e)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"transformVector",value:function(e,t){return Object(c.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector2",value:function(e,t){return Object(c.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector3",value:function(e,t){return Object(c.c)("Matrix3.transformVector"),this.transform(e,t)}}]),r}(s.a)},function(e,t,r){"use strict";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(26),i=r(5),a=r(4),o=r(1),u=r(32),s=r(7),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.phi,n=void 0===r?0:r,a=t.theta,o=void 0===a?0:a,u=t.radius,s=void 0===u?1:u,c=t.bearing,f=void 0===c?void 0:c,l=t.pitch,h=void 0===l?void 0:l,d=t.altitude,p=void 0===d?void 0:d,y=t.radiusScale,v=void 0===y?6371e3:y;Object(i.a)(this,e),this.phi=n,this.theta=o,this.radius=s||p||1,this.radiusScale=v||1,void 0!==f&&(this.bearing=f),void 0!==h&&(this.pitch=h),this.check()}return Object(a.a)(e,[{key:"toString",value:function(){return this.formatString(o.f)}},{key:"formatString",value:function(e){var t=e.printTypes,r=void 0!==t&&t,n=o.l;return"".concat(r?"Spherical":"","[rho:").concat(n(this.radius),",theta:").concat(n(this.theta),",phi:").concat(n(this.phi),"]")}},{key:"equals",value:function(e){return Object(o.j)(this.radius,e.radius)&&Object(o.j)(this.theta,e.theta)&&Object(o.j)(this.phi,e.phi)}},{key:"exactEquals",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"set",value:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}},{key:"clone",value:function(){return(new e).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:"fromLngLatZ",value:function(e){var t=Object(n.a)(e,3),r=t[0],i=t[1],a=t[2];this.radius=1+a/this.radiusScale,this.phi=Object(o.o)(i),this.theta=Object(o.o)(r)}},{key:"fromVector3",value:function(e){return this.radius=s.g(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(o.d)(e[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new u.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"check",value:function(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},{key:"bearing",get:function(){return 180-Object(o.i)(this.phi)},set:function(e){this.phi=Math.PI-Object(o.o)(e)}},{key:"pitch",get:function(){return Object(o.i)(this.theta)},set:function(e){this.theta=Object(o.o)(e)}},{key:"longitude",get:function(){return Object(o.i)(this.phi)}},{key:"latitude",get:function(){return Object(o.i)(this.theta)}},{key:"lng",get:function(){return Object(o.i)(this.phi)}},{key:"lat",get:function(){return Object(o.i)(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(5),i=r(4),a=r(37),o=r(32),u=r(38),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,i=void 0===r?0:r,a=t.y,s=void 0===a?0:a,c=t.z,f=void 0===c?0:c,l=t.roll,h=void 0===l?0:l,d=t.pitch,p=void 0===d?0:d,y=t.yaw,v=void 0===y?0:y,b=t.position,m=void 0===b?void 0:b,g=t.orientation,O=void 0===g?void 0:g;Object(n.a)(this,e),Array.isArray(m)&&3===m.length?this.position=new o.a(m):this.position=new o.a(i,s,f),Array.isArray(O)&&4===O.length?this.orientation=new u.a(O,O[3]):this.orientation=new u.a(h,p,v,u.a.RollPitchYaw)}return Object(i.a)(e,[{key:"getPosition",value:function(){return this.position}},{key:"getOrientation",value:function(){return this.orientation}},{key:"equals",value:function(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}},{key:"exactEquals",value:function(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}},{key:"getTransformationMatrix",value:function(){var e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),n=Math.cos(this.roll),i=Math.cos(this.pitch),o=Math.cos(this.yaw);return(new a.a).setRowMajor(o*i,-r*n+o*t*e,r*e+o*t*n,this.x,r*i,o*n+r*t*e,-o*e+r*t*n,this.y,-t,i*e,i*n,this.z,0,0,0,1)}},{key:"getTransformationMatrixFromPose",value:function(e){return(new a.a).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}},{key:"getTransformationMatrixToPose",value:function(e){return(new a.a).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},{key:"x",get:function(){return this.position.x},set:function(e){this.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.position.y=e}},{key:"z",get:function(){return this.position.z},set:function(e){this.position.z=e}},{key:"roll",get:function(){return this.orientation.roll},set:function(e){this.orientation.roll=e}},{key:"pitch",get:function(){return this.orientation.pitch},set:function(e){this.orientation.pitch=e}},{key:"yaw",get:function(){return this.orientation.yaw},set:function(e){this.orientation.yaw=e}}]),e}()},function(e,t,r){"use strict";(function(e,n){var i=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var a=i(r(22)),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},u=o.self||o.window||o.global;t.self=u;var s=o.window||o.self||o.global;t.window=s;var c=o.global||o.self||o.window;t.global=c;var f=o.document||{};t.document=f;var l="object"!==(void 0===n?"undefined":(0,a.default)(n))||"[object process]"!==String(n)||n.browser;t.isBrowser=l;var h="function"==typeof importScripts;t.isWorker=h;var d=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/),p=d&&parseFloat(d[1])||0;t.nodeVersion=p}).call(this,r(53),r(54))},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoaderVersion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2.3.13";(0,i.default)(e,"no loader provided");var r=e.version;if(!t||!r)return;t=a(t),r=a(r)};var i=n(r(29));function a(e){var t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}},function(e,t){e.exports=function(e){this.wrapped=e}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(9)),o=n(r(16)),u=n(r(17)),s=n(r(74)),c=function(){function e(t){var r=t.source,n=t.name,i=void 0===n?"unnamed":n,a=t.maxConcurrency,u=void 0===a?1:a,s=t.onMessage,c=t.onDebug,f=void 0===c?function(){}:c,l=t.reuseWorkers,h=void 0===l||l;(0,o.default)(this,e),this.source=r,this.name=i,this.maxConcurrency=u,this.onMessage=s,this.onDebug=f,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.reuseWorkers=h}var t;return(0,u.default)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"process",value:function(e,t){var r=this;return new Promise((function(n,i){r.jobQueue.push({data:e,jobName:t,resolve:n,reject:i}),r._startQueuedJob()}))}},{key:"_startQueuedJob",value:(t=(0,a.default)(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:return r=this.jobQueue.shift(),this.onDebug({message:"processing",worker:t.name,job:r.jobName,backlog:this.jobQueue.length}),e.prev=7,e.t0=r,e.next=11,t.process(r.data);case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(7),r.reject(e.t2);case 18:return e.prev=18,this._onWorkerDone(t),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,15,18,21]])}))),function(){return t.apply(this,arguments)})},{key:"_onWorkerDone",value:function(e){this.isDestroyed?e.destroy():(this.reuseWorkers?this.idleQueue.push(e):(e.destroy(),this.count--),this._startQueuedJob())}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new s.default({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}();t.default=c},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(9)),o=n(r(16)),u=n(r(17)),s=r(108),c=r(55),f=0;function l(e){var t=e.data;(0,e.resolve)(t)}var h=function(){function e(t){var r=t.source,n=t.name,i=void 0===n?"web-worker-".concat(f++):n,a=t.onMessage;(0,o.default)(this,e);var u=(0,s.getWorkerURL)(r,i);this.worker=new Worker(u,{name:i}),this.name=i,this.onMessage=a||l}var t;return(0,u.default)(e,[{key:"process",value:(t=(0,a.default)(i.default.mark((function e(t){var r=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){r.worker.onmessage=function(t){r.onMessage({worker:r.worker,data:t.data,resolve:e,reject:n})},r.worker.onerror=function(e){var t="".concat(r.name,": WorkerThread.process() failed");e.message&&(t+=" ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));var i=new Error(t);console.error(e),n(i)};var i=(0,c.getTransferList)(t);r.worker.postMessage(t,i)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.worker.terminate(),this.worker=null}}]),e}();t.default=h},function(e,t,r){"use strict";function n(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),i="",a=0;a<r;a++)i+=String.fromCharCode(n.getUint8(t+a));return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return n(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return n(e,r,t)}return""},t.getMagicString=n},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padTo4Bytes=i,t.getZeroOffsetArrayBuffer=function(e,t,r){return(0,n.sliceArrayBuffer)(e,t,r)},t.copyArrayBuffer=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(e,r,n),a=new Uint8Array(t);return i.set(a),e},t.copyToArray=function(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var a=e.byteOffset,o=e.byteLength;n=new Uint8Array(e.buffer,a,o)}return t.set(n,r),r+i(n.byteLength)};var n=r(56);function i(e){return e+3&-4}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPathPrefix=function(e){n=e},t.getPathPrefix=function(){return n},t.addAliases=function(e){Object.assign(i,e)},t.resolvePath=function(e){for(var t in i)if(e.startsWith(t)){var r=i[t];e=e.replace(t,r)}e.startsWith("http://")||e.startsWith("https://")||(e="".concat(n).concat(e));return e};var n="",i={}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16)),a=n(r(17)),o=n(r(125));function u(e){return null!=e}var s=function(){function e(){(0,i.default)(this,e),this._list=new o.default,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}return(0,a.default)(e,[{key:"reset",value:function(){this._list.splice(this._list.tail,this._sentinel)}},{key:"touch",value:function(e){var t=e._cacheNode;u(t)&&this._list.splice(this._sentinel,t)}},{key:"add",value:function(e,t,r){u(t._cacheNode)||(t._cacheNode=this._list.add(t),r&&r(e,t))}},{key:"unloadTile",value:function(e,t,r){var n=t._cacheNode;u(n)&&(this._list.remove(n),t._cacheNode=void 0,r&&r(e,t))}},{key:"unloadTiles",value:function(e,t){var r=this._trimTiles;this._trimTiles=!1;for(var n=this._list,i=1024*e.maximumMemoryUsage*1024,a=this._sentinel,o=n.head;o!==a&&(e.gpuMemoryUsageInBytes>i||r);){var u=o.item;o=o.next,this.unloadTile(e,u,t)}}},{key:"trim",value:function(){this._trimTiles=!0}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransformProps=function(e,t){(0,a.assert)(e),(0,a.assert)(t);var r=t.rtcCenter,o=t.gltfUpAxis,u=e.computedTransform,s=e.boundingVolume.center,c=new i.Matrix4(u);r&&c.translate(r);switch(o){case"Z":break;case"Y":var f=(new i.Matrix4).rotateX(Math.PI/2);c=c.multiplyRight(f);break;case"X":var l=(new i.Matrix4).rotateY(-Math.PI/2);c=c.multiplyRight(l)}t.isQuantized&&c.translate(t.quantizedVolumeOffset).scale(t.quantizedVolumeScale);var h=new i.Vector3(s);t.cartesianModelMatrix=c,t.cartesianOrigin=h;var d=n.Ellipsoid.WGS84.cartesianToCartographic(h,new i.Vector3),p=n.Ellipsoid.WGS84.eastNorthUpToFixedFrame(h).invert();t.cartographicModelMatrix=p.multiplyRight(c),t.cartographicOrigin=d,t.modelMatrix=t.cartographicModelMatrix};var n=r(49),i=r(11),a=r(10)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFrameState=function(e,t){var r=e.cameraDirection,i=e.cameraUp,c=e.height,f=e.distanceScales.metersPerUnit,l=[e.longitude,e.latitude,0],h=a.Ellipsoid.WGS84.cartographicToCartesian(l,new n.Vector3),d=a.Ellipsoid.WGS84.eastNorthUpToFixedFrame(h),p=e.unprojectPosition(e.cameraPosition),y=a.Ellipsoid.WGS84.cartographicToCartesian(p,new n.Vector3),v=new n.Vector3(d.transformAsVector(new n.Vector3(r).scale(f))).normalize(),b=new n.Vector3(d.transformAsVector(new n.Vector3(i).scale(f))).normalize();return function(e,t){var r=e.getFrustumPlanes(),i=0;for(var c in r){var f=r[c],l=f.normal.dot(e.center);u.copy(f.normal).scale(f.distance-l).add(e.center);var h=e.unprojectPosition(u),d=a.Ellipsoid.WGS84.cartographicToCartesian(h,new n.Vector3);s.planes[i++].fromPointNormal(d,o.copy(t).subtract(d))}}(e,h),{camera:{position:y,direction:v,up:b},viewport:e,height:c,cullingVolume:s,frameNumber:t,sseDenominator:1.15}};var n=r(11),i=r(63),a=r(49),o=new n.Vector3,u=new n.Vector3,s=new i.CullingVolume([new i.Plane,new i.Plane,new i.Plane,new i.Plane,new i.Plane,new i.Plane])},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return i.fetchFile}}),Object.defineProperty(t,"readFileSync",{enumerable:!0,get:function(){return a.readFileSync}}),Object.defineProperty(t,"writeFile",{enumerable:!0,get:function(){return o.writeFile}}),Object.defineProperty(t,"writeFileSync",{enumerable:!0,get:function(){return o.writeFileSync}}),Object.defineProperty(t,"setLoaderOptions",{enumerable:!0,get:function(){return u.setLoaderOptions}}),Object.defineProperty(t,"registerLoaders",{enumerable:!0,get:function(){return s.registerLoaders}}),Object.defineProperty(t,"_unregisterLoaders",{enumerable:!0,get:function(){return s._unregisterLoaders}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return c.parse}}),Object.defineProperty(t,"parseSync",{enumerable:!0,get:function(){return f.parseSync}}),Object.defineProperty(t,"parseInBatches",{enumerable:!0,get:function(){return l.parseInBatches}}),Object.defineProperty(t,"selectLoader",{enumerable:!0,get:function(){return h.selectLoader}}),Object.defineProperty(t,"selectLoaderSync",{enumerable:!0,get:function(){return h.selectLoaderSync}}),Object.defineProperty(t,"load",{enumerable:!0,get:function(){return d.load}}),Object.defineProperty(t,"loadInBatches",{enumerable:!0,get:function(){return p.loadInBatches}}),Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return y.encode}}),Object.defineProperty(t,"encodeSync",{enumerable:!0,get:function(){return y.encodeSync}}),Object.defineProperty(t,"encodeInBatches",{enumerable:!0,get:function(){return y.encodeInBatches}}),Object.defineProperty(t,"encodeText",{enumerable:!0,get:function(){return y.encodeText}}),Object.defineProperty(t,"encodeURLtoURL",{enumerable:!0,get:function(){return y.encodeURLtoURL}}),Object.defineProperty(t,"save",{enumerable:!0,get:function(){return v.save}}),Object.defineProperty(t,"saveSync",{enumerable:!0,get:function(){return v.saveSync}}),Object.defineProperty(t,"makeIterator",{enumerable:!0,get:function(){return b.makeIterator}}),Object.defineProperty(t,"NullLoader",{enumerable:!0,get:function(){return m.NullLoader}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return g.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return g.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return g.resolvePath}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return g.RequestScheduler}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return g.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return g.isWorker}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return g.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return g.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return g.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return g.document}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return g.assert}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return g.forEach}}),Object.defineProperty(t,"concatenateChunksAsync",{enumerable:!0,get:function(){return g.concatenateChunksAsync}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return g.makeTextDecoderIterator}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return g.makeTextEncoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return g.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return g.makeNumberedLineIterator}}),Object.defineProperty(t,"_fetchProgress",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"_BrowserFileSystem",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"isPromise",{enumerable:!0,get:function(){return w.isPromise}}),Object.defineProperty(t,"isIterable",{enumerable:!0,get:function(){return w.isIterable}}),Object.defineProperty(t,"isAsyncIterable",{enumerable:!0,get:function(){return w.isAsyncIterable}}),Object.defineProperty(t,"isIterator",{enumerable:!0,get:function(){return w.isIterator}}),Object.defineProperty(t,"isResponse",{enumerable:!0,get:function(){return w.isResponse}}),Object.defineProperty(t,"isReadableStream",{enumerable:!0,get:function(){return w.isReadableStream}}),Object.defineProperty(t,"isWritableStream",{enumerable:!0,get:function(){return w.isWritableStream}}),r(128);var i=r(59),a=r(131),o=r(60),u=r(135),s=r(87),c=r(46),f=r(141),l=r(90),h=r(47),d=r(142),p=r(143),y=r(92),v=r(144),b=r(88),m=r(145),g=r(10),O=n(r(146)),k=n(r(147)),w=r(24)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.makeResponse=function(e){return s.apply(this,arguments)},t.checkResponse=function(e){return c.apply(this,arguments)},t.checkResponseSync=function(e){if(!e.ok){var t="".concat(e.status," ").concat(e.statusText);throw t=t.length>60?"".concat(t.slice(60),"..."):t,new Error(t)}};var i=n(r(8)),a=n(r(9)),o=r(24),u=r(40);function s(){return(s=(0,a.default)(i.default.mark((function e(t){var r,n,a,s,c,f,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.isResponse)(t)){e.next=2;break}return e.abrupt("return",t);case 2:return r={},(n=(0,u.getResourceContentLength)(t))>=0&&(r["content-length"]=String(n)),a=(0,u.getResourceUrlAndType)(t),s=a.url,(c=a.type)&&(r["content-type"]=c),e.next=9,h(t);case 9:return(f=e.sent)&&(r["x-first-bytes"]=f),"string"==typeof t&&(t=(new TextEncoder).encode(t)),l=new Response(t,{headers:r}),Object.defineProperty(l,"url",{value:s}),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,a.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,f(t);case 3:throw r=e.sent,new Error(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return(l=(0,a.default)(i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,n=t.headers.get("Content-Type"),a=t.statusText,!n.includes("application/json")){e.next=11;break}return e.t0=a,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,a=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:r=(r+=a).length>60?"".concat(r.slice(60),"..."):r,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=(0,a.default)(i.default.mark((function e(t){var r,n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=5,"string"!=typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,r)));case 3:if(!(t instanceof Blob)){e.next=8;break}return n=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){return e(t.target&&t.target.result)},t.readAsDataURL(n)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return a=t.slice(0,r),o=p(a),e.abrupt("return","data:base64,".concat(o));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){for(var t="",r=new Uint8Array(e),n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoaders=function(e){var t,r=o(),i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}(e=Array.isArray(e)?e:[e]);try{var u=function(){var e=t.value,i=(0,n.normalizeLoader)(e);r.find((function(e){return i===e}))||r.unshift(i)};for(i.s();!(t=i.n()).done;)u()}catch(e){i.e(e)}finally{i.f()}},t.getRegisteredLoaders=function(){return o()},t._unregisterLoaders=function(){(0,i.getGlobalLoaderState)().loaderRegistry=[]};var n=r(31),i=r(25);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=function(){var e=(0,i.getGlobalLoaderState)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeIterator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e)return(0,n.makeStringIterator)(e,t);if(e instanceof ArrayBuffer)return(0,i.makeArrayBufferIterator)(e,t);if((0,s.isBlob)(e))return(0,a.makeBlobIterator)(e,t);if((0,s.isReadableStream)(e))return(0,u.makeStreamIterator)(e);if((0,s.isResponse)(e))return(0,u.makeStreamIterator)(e.body);return(0,o.assert)(!1)};var n=r(137),i=r(138),a=r(89),o=r(10),u=r(139),s=r(24)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.makeBlobIterator=function(e){return s.apply(this,arguments)},t.readFileSlice=c;var i=n(r(9)),a=n(r(8)),o=n(r(33)),u=n(r(34));function s(){return(s=(0,u.default)(a.default.mark((function e(t){var r,n,i,u,s,f=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>1&&void 0!==f[1]?f[1]:{},n=r.chunkSize||1048576,i=0;case 3:if(!(i<t.size)){e.next=13;break}return u=i+n,e.next=7,(0,o.default)(c(t,i,u));case 7:return s=e.sent,i=u,e.next=11,s;case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t,r){return f.apply(this,arguments)}function f(){return(f=(0,i.default)(a.default.mark((function e(t,r,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var a=t.slice(r,n),o=new FileReader;o.onload=function(t){return e(t.target&&t.target.result)},o.onerror=function(e){return i(e)},o.readAsArrayBuffer(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.parseInBatches=O;var i=n(r(8)),a=n(r(9)),o=n(r(34)),u=n(r(33)),s=n(r(30)),c=n(r(91)),f=r(10),l=r(31),h=r(25),d=r(62),p=r(61),y=r(40),v=r(47),b=r(46);function m(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r,n){return k.apply(this,arguments)}function k(){return(k=(0,a.default)(i.default.mark((function e(t,r,n,a){var o,u,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,f.assert)(!a||"string"!=typeof a,"parseInBatches no longer accepts final url"),Array.isArray(r)||(0,l.isLoaderObject)(r)||(a=n,n=r,r=null),e.next=4,t;case 4:return t=e.sent,n=n||{},o=(0,y.getResourceUrlAndType)(t),u=o.url,e.next=9,(0,v.selectLoader)(t,r,n);case 9:if(s=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return n=(0,h.normalizeOptions)(n,s,r,u),a=(0,d.getLoaderContext)({url:u,parseInBatches:O,parse:b.parse,loaders:r},n,a),e.next=16,w(s,t,n,a);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=(0,a.default)(i.default.mark((function e(t,r,n,a){var f,l,h,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){return(d=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:return e.delegateYield((0,c.default)((0,s.default)(t),u.default),"t0",3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(e){return d.apply(this,arguments)},e.next=4,j(t,r,n,a);case 4:if(f=e.sent,n.metadata){e.next=7;break}return e.abrupt("return",f);case 7:return l={batchType:"metadata",metadata:{_loader:t,_context:a},data:[],bytesUsed:0},e.abrupt("return",h(f));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r,n){return _.apply(this,arguments)}function _(){return(_=(0,a.default)(i.default.mark((function e(t,r,n,a){var s,c,l,h,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=function(){return(d=(0,o.default)(i.default.mark((function e(){var o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)((0,p.getAsyncIteratorFromData)(r));case 2:return o=e.sent,e.next=5,(0,u.default)((0,f.concatenateChunksAsync)(o));case 5:return s=e.sent,e.next=8,t.parse(s,n,a,t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(){return d.apply(this,arguments)},!t.parseInBatches){e.next=10;break}return e.next=5,(0,p.getAsyncIteratorFromData)(r);case 5:return s=e.sent,c=T(s,n),e.next=9,t.parseInBatches(c,n,a,t);case 9:return e.abrupt("return",e.sent);case 10:if(!t.parseStreamInBatches){e.next=17;break}return e.next=13,(0,p.getReadableStream)(r);case 13:if(!(l=e.sent)){e.next=17;break}return n.transforms&&console.warn("options.transforms not implemented for loaders that use `parseStreamInBatches`"),e.abrupt("return",t.parseStreamInBatches(l,n,a));case 17:return e.next=19,h();case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){var r,n=e,i=m(t.transforms||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;n=(0,f.makeTransformIterator)(n,a,t)}}catch(e){i.e(e)}finally{i.f()}return n}},function(e,t){e.exports=function(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):i("return",e)}),r}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.encode=l,t.encodeSync=function(e,t,r,n){if(t.encodeSync)return t.encodeSync(e,r);throw new Error("Writer could not synchronously encode data")},t.encodeText=function(e,t,r,n){return d.apply(this,arguments)},t.encodeInBatches=p,t.encodeURLtoURL=y;var i=n(r(8)),a=n(r(9)),o=n(r(30)),u=r(10),s=r(60),c=r(59);function f(e){return"/tmp/".concat(e)}function l(e,t,r,n){return h.apply(this,arguments)}function h(){return(h=(0,a.default)(i.default.mark((function e(t,r,n,a){var l,h,d,v,b,m,g,O,k,w,x,j,_;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.encode){e.next=4;break}return e.next=3,r.encode(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.encodeSync){e.next=6;break}return e.abrupt("return",r.encodeSync(t,n));case 6:if(!r.encodeText){e.next=12;break}return e.t0=new TextEncoder,e.next=10,r.encodeText(t,n);case 10:return e.t1=e.sent,e.abrupt("return",e.t0.encode.call(e.t0,e.t1));case 12:if(!r.encodeInBatches){e.next=51;break}l=p(t,r,n),h=[],d=!0,v=!1,e.prev=17,m=(0,o.default)(l);case 19:return e.next=21,m.next();case 21:return g=e.sent,d=g.done,e.next=25,g.value;case 25:if(O=e.sent,d){e.next=32;break}k=O,h.push(k);case 29:d=!0,e.next=19;break;case 32:e.next=38;break;case 34:e.prev=34,e.t2=e.catch(17),v=!0,b=e.t2;case 38:if(e.prev=38,e.prev=39,d||null==m.return){e.next=43;break}return e.next=43,m.return();case 43:if(e.prev=43,!v){e.next=46;break}throw b;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.next=50,u.concatenateArrayBuffers.apply(void 0,h);case 50:return e.abrupt("return",e.sent);case 51:if(u.isBrowser||!r.encodeURLtoURL){e.next=63;break}return w=f("input"),e.next=55,(0,s.writeFile)(w,t);case 55:return x=f("output"),e.next=58,y(w,x,r,n);case 58:return j=e.sent,e.next=61,(0,c.fetchFile)(j);case 61:return _=e.sent,e.abrupt("return",_.arrayBuffer());case 63:throw new Error("Writer could not encode data");case 64:case"end":return e.stop()}}),e,null,[[17,34,38,48],[39,,43,47]])})))).apply(this,arguments)}function d(){return(d=(0,a.default)(i.default.mark((function e(t,r,n,a){var o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.text||!r.encodeText){e.next=4;break}return e.next=3,r.encodeText(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.text||!r.encode&&!r.encodeInBatches){e.next=9;break}return e.next=7,l(t,r,n);case 7:return o=e.sent,e.abrupt("return",(new TextDecoder).decode(o));case 9:throw new Error("Writer could not encode data as text");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,r,n){if(t.encodeInBatches){var i=function(e){return[{table:e,start:0,end:e.length}]}(e);return t.encodeInBatches(i,r)}throw new Error("Writer could not encode data in batches")}function y(e,t,r,n){return v.apply(this,arguments)}function v(){return(v=(0,a.default)(i.default.mark((function e(t,r,n,a){var o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,u.resolvePath)(t),r=(0,u.resolvePath)(r),!u.isBrowser&&n.encodeURLtoURL){e.next=4;break}throw new Error;case 4:return e.next=6,n.encodeURLtoURL(t,r,a);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.createBoundingVolume=function(e,t,r){if((0,s.assert)(e,"3D Tile: boundingVolume must be defined"),e.box)return function(e,t,r){var n=new a.Vector3(e[0],e[1],e[2]);t.transform(n,n);var i=t.transformAsVector(e.slice(3,6)),u=t.transformAsVector(e.slice(6,9)),s=t.transformAsVector(e.slice(9,12)),f=new a.Matrix3([i[0],i[1],i[2],u[0],u[1],u[2],s[0],s[1],s[2]]);if(c(r))return r.center=n,r.halfAxes=f,r;return new o.OrientedBoundingBox(n,f)}(e.box,t,r);if(e.region){var n=(0,i.default)(e.region,6),f=n[0],p=n[1],y=n[2],v=n[3],b=n[4],m=n[5],g=u.Ellipsoid.WGS84.cartographicToCartesian([(0,a.degrees)(f),(0,a.degrees)(v),b],l),O=u.Ellipsoid.WGS84.cartographicToCartesian([(0,a.degrees)(y),(0,a.degrees)(p),m],h),k=(new a.Vector3).addVectors(g,O).multiplyScalar(.5),w=(new a.Vector3).subVectors(g,O).len()/2;return d([k[0],k[1],k[2],w],new a.Matrix4)}if(e.sphere)return d(e.sphere,t,r);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")};var i=n(r(94)),a=r(11),o=r(63),u=r(49),s=r(10);function c(e){return null!=e}var f=new a.Vector3,l=new a.Vector3,h=new a.Vector3;new a.Matrix4;function d(e,t,r){var n=new a.Vector3(e[0],e[1],e[2]);t.transform(n,n);var i=t.getScale(f),u=Math.max(Math.max(i[0],i[1]),i[2]),s=e[3]*u;return c(r)?(r.center=n,r.radius=s,r):new o.BoundingSphere(n,s)}},function(e,t,r){var n=r(148),i=r(149),a=r(80),o=r(150);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.lodJudge=function(e,t){var r=t.viewport,n=r.metersPerPixel,i=e.header.mbs[1],a=e.header.mbs[0],u=e.header.mbs[2],f=e.header.mbs[3],l=r.height,h=r.width,d=r.latitude,p=r.longitude,y=[p,d],v=[a,i,u],b=[p,i],m=[a,d],g=Math.sqrt(l*l+h*h)*n[0],O=s(y,v),k=.5*l+f/6378137,w=.5*h+f/6378137;if(O>g+f/6378137)return"OUT";if(s(y,b)>k)return"OUT";if(s(y,m)>w)return"OUT";if(0===e.lodMetricValue)return"DIG";var x=c(e,t);if((x*=o)<.5)return"OUT";if(!e.header.children||x<=e.lodMetricValue)return"DRAW";if(e.header.children)return"DIG";return"OUT"},t.getI3ScreenSize=c;var i=n(r(94)),a=r(11),o=Math.PI/2;function u(e){var t=(0,i.default)(e,3),r=t[0],n=t[1],o=t[2],u=(0,a.toRadians)(r),s=(0,a.toRadians)(n),c=1+o/6378137,f=c*Math.cos(s);return[r=f*Math.cos(u),n=f*Math.sin(u),o=c*Math.sin(s)]}function s(e,t){var r=(0,i.default)(e,3),n=r[0],a=r[1],o=r[2],s=void 0===o?0:o,c=(0,i.default)(t,3),f=c[0],l=c[1],h=c[2],d=u([f,l,void 0===h?0:h]),p=u([n,a,s]),y=p[0]-d[0],v=p[1]-d[1],b=p[2]-d[2];return y*y+v*v+b*b}function c(e,t){var r=t.viewport,n=e.header.mbs[1],i=[e.header.mbs[0],n,e.header.mbs[2]],a=e.header.mbs[3]/6378137,o=s(r.unprojectPosition(r.cameraPosition),i)-a*a;if(o<=0)return 170141175e30;var u=function(e,t){var r=t.viewport,n=r.width,i=r.height,a=r.pixelProjectionMatrix,o=Math.tan(Math.atan(Math.sqrt(1/(a[0]*a[0])+1/(a[5]*a[5]))));return Math.sqrt(i*i+n*n)/o}(0,t);return u*=a/Math.sqrt(o)/r.scale}},function(e,t,r){var n=r(153);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(22),i=r(154);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t,r){"use strict";r.r(t),r.d(t,"Stats",(function(){return u})),r.d(t,"Stat",(function(){return o})),r.d(t,"_getHiResTimestamp",(function(){return a.a}));var n=r(5),i=r(4),a=r(42),o=function(){function e(t,r){Object(n.a)(this,e),this.name=t,this.type=r,this.sampleSize=1,this.reset()}return Object(i.a)(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=Object(a.a)(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(Object(a.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),u=function(){function e(t){var r=t.id,i=t.stats;Object(n.a)(this,e),this.id=r,this.stats={},this._initializeStats(i),Object.seal(this)}return Object(i.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,r=e.type;return this.stats[t]||(this.stats[t]=e instanceof o?e:new o(t,r)),this.stats[t]}},{key:"size",get:function(){return Object.keys(this.stats).length}}]),e}()},function(e,t,r){"use strict";(function(t){var n=r(101),i="undefined"==typeof window?t:window;i.loaders=i.loaders||{},e.exports=Object.assign(i.loaders,n)}).call(this,r(53))},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Tileset3D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Tile3D",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"TilesetTraverser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TilesetCache",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createBoundingVolume",{enumerable:!0,get:function(){return s.createBoundingVolume}}),Object.defineProperty(t,"calculateTransformProps",{enumerable:!0,get:function(){return c.calculateTransformProps}}),Object.defineProperty(t,"getFrameState",{enumerable:!0,get:function(){return f.getFrameState}}),Object.defineProperty(t,"TILE_CONTENT_STATE",{enumerable:!0,get:function(){return l.TILE_CONTENT_STATE}}),Object.defineProperty(t,"TILE_REFINEMENT",{enumerable:!0,get:function(){return l.TILE_REFINEMENT}}),Object.defineProperty(t,"TILE_TYPE",{enumerable:!0,get:function(){return l.TILE_TYPE}}),Object.defineProperty(t,"TILESET_TYPE",{enumerable:!0,get:function(){return l.TILESET_TYPE}}),Object.defineProperty(t,"LOD_METRIC_TYPE",{enumerable:!0,get:function(){return l.LOD_METRIC_TYPE}});var i=n(r(102)),a=n(r(58)),o=n(r(48)),u=n(r(82)),s=r(93),c=r(83),f=r(84),l=r(41)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(9)),o=n(r(21)),u=n(r(16)),s=n(r(17)),c=r(11),f=r(49),l=r(99),h=r(10),d=n(r(82)),p=r(83),y=r(84),v=r(127),b=n(r(58)),m=n(r(152)),g=n(r(48)),O=n(r(156)),k=r(41);function w(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={ellipsoid:f.Ellipsoid.WGS84,modelMatrix:new c.Matrix4,throttleRequests:!1,maximumMemoryUsage:32,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(e,t,r){},maximumScreenSpaceError:8},S=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.default)(this,e),(0,h.assert)(t),this.options=_(_({},T),r),this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||h.path.dirname(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.fetchOptions=this.options.fetchOptions||{},this.options.headers&&(this.fetchOptions.headers=this.options.headers),this.options.token&&(this.fetchOptions.token=this.options.token),this.root=null,this.cartographicCenter=null,this.cartesianCenter=null,this.zoom=1,this.boundingVolume=null,this._traverser=this._initializeTraverser(),this._cache=new d.default,this._requestScheduler=new h.RequestScheduler({throttleRequests:this.options.throttleRequests}),this._frameNumber=0,this._updateFrameNumber=0,this._pendingCount=0,this._tiles={},this.selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this._selectedTilesToStyle=[],this._queryParams={},this._queryParamsString=null,this.maximumMemoryUsage=this.options.maximumMemoryUsage,this.gpuMemoryUsageInBytes=0,this.stats=new l.Stats({id:this.url}),this._initializeStats(),this._hasMixedContent=!1,this._maximumScreenSpaceError=this.options.maximumScreenSpaceError,this._properties=void 0,this._extensionsUsed=void 0,this._gltfUpAxis=void 0,this._dynamicScreenSpaceErrorComputedDensity=0,this.extras=null,this.asset={},this.credits={},this.description=this.options.description,this._defaultGeometrySchema=[],this._initializeTileSet(t,this.options)}var t;return(0,s.default)(e,[{key:"isLoaded",value:function(){return 0===this._pendingCount}},{key:"destroy",value:function(){this._destroy()}},{key:"getTileUrl",value:function(e){return e.startsWith("data:")?e:"".concat(e).concat(this.queryParams)}},{key:"update",value:function(e){this._cache.reset(),this._frameNumber++,this._frameState=(0,y.getFrameState)(e,this._frameNumber),this._traverser.traverse(this.root,this._frameState,this.options)}},{key:"_onTraversalEnd",value:function(){var e=Object.values(this._traverser.selectedTiles);this._tilesChanged(this.selectedTiles,e)&&this._updateFrameNumber++,this.selectedTiles=e;var t,r=w(this.selectedTiles);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._tiles[n.id]=n}}catch(e){r.e(e)}finally{r.f()}return this._requestedTiles=Object.values(this._traverser.requestedTiles),this._emptyTiles=Object.values(this._traverser.emptyTiles),this._loadTiles(this._frameState),this._unloadTiles(),this._updateStats(),this._updateFrameNumber}},{key:"_tilesChanged",value:function(e,t){if(e.length!==t.length)return!0;var r=new Set(e.map((function(e){return e.id}))),n=new Set(t.map((function(e){return e.id}))),i=e.filter((function(e){return!n.has(e.id)})).length>0;return i=i||t.filter((function(e){return!r.has(e.id)})).length>0}},{key:"_loadTiles",value:function(e){var t,r=w(this._requestedTiles);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.contentUnloaded&&this._loadTile(n,e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"_unloadTiles",value:function(){this._cache.unloadTiles(this,(function(e,t){return e._unloadTile(t)}))}},{key:"_updateStats",value:function(){var e,t=0,r=0,n=w(this.selectedTiles);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.contentAvailable&&(t++,i.content.pointCount&&(r+=i.content.pointCount))}}catch(e){n.e(e)}finally{n.f()}this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=t,this.stats.get("Points").count=r}},{key:"_initializeTileSet",value:function(e){this.root=this._initializeTileHeaders(e,null,this.basePath),this.type===k.TILESET_TYPE.TILES3D&&this._initializeCesiumTileset(e),this.type===k.TILESET_TYPE.I3S&&this._initializeI3STileset(e),this._calculateViewProps()}},{key:"_calculateViewProps",value:function(){var e=this.root,t=e.boundingVolume.center;if(!t)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new c.Vector3,void(this.zoom=1);this.cartographicCenter=f.Ellipsoid.WGS84.cartesianToCartographic(t,new c.Vector3),this.cartesianCenter=t,this.zoom=(0,v.getZoomFromBoundingVolume)(e.boundingVolume)}},{key:"_initializeStats",value:function(){this.stats.get("Tiles In Tileset(s)"),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points","memory"),this.stats.get("Tile Memory Use","memory")}},{key:"_initializeTileHeaders",value:function(e,t,r){var n=new b.default(this,e.root,t,r);if(t&&(t.children.push(n),n.depth=t.depth+1),this.type===k.TILESET_TYPE.TILES3D){var i=[];for(i.push(n);i.length>0;){var a=i.pop();this.stats.get("Tiles In Tileset(s)").incrementCount();var o,u=w(a.header.children||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=new b.default(this,s,a,r);a.children.push(c),c.depth=a.depth+1,i.push(c)}}catch(e){u.e(e)}finally{u.f()}}}return n}},{key:"_initializeTraverser",value:function(){var e;switch(this.type){case k.TILESET_TYPE.TILES3D:e=m.default;break;case k.TILESET_TYPE.I3S:e=O.default;break;default:e=g.default}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}},{key:"_destroyTileHeaders",value:function(e){this._destroySubtree(e)}},{key:"_loadTile",value:(t=(0,a.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._onStartTileLoading(),e.next=4,t.loadContent(r);case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onTileLoadError(t,e.t0);case 10:return e.prev=10,this._onEndTileLoading(),this._onTileLoad(t,n),e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[0,7,10,14]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_onTileLoadError",value:function(e,t){this.stats.get("Failed Tile Loads").incrementCount();var r=t.message||t.toString(),n=e.url;console.error("A 3D tile failed to load: ".concat(e.url," ").concat(r)),this.options.onTileError(e,r,n)}},{key:"_onTileLoad",value:function(e,t){t&&(e&&e.content&&(0,p.calculateTransformProps)(e,e.content),this._addTileToCache(e),this.options.onTileLoad(e))}},{key:"_onStartTileLoading",value:function(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()}},{key:"_onEndTileLoading",value:function(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()}},{key:"_addTileToCache",value:function(e){this._cache.add(this,e,(function(t){return t._updateCacheStats(e)}))}},{key:"_updateCacheStats",value:function(e){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=e.content.byteLength||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes}},{key:"_unloadTile",value:function(e){this.gpuMemoryUsageInBytes-=e.content.byteLength||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}},{key:"_destroy",value:function(){var e=[];for(this.root&&e.push(this.root);e.length>0;){var t,r=e.pop(),n=w(r.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(i)}}catch(e){n.e(e)}finally{n.f()}this._destroyTile(r)}this.root=null}},{key:"_destroySubtree",value:function(e){var t=e,r=[];for(r.push(t);r.length>0;){var n,i=w((e=r.pop()).children);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(a)}}catch(e){i.e(e)}finally{i.f()}e!==t&&this._destroyTile(e)}t.children=[]}},{key:"_destroyTile",value:function(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}},{key:"_initializeCesiumTileset",value:function(e){if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description,this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed,this.extras=e.extras}},{key:"_initializeI3STileset",value:function(e){"token"in this.options&&(this._queryParams.token=this.options.token),this._defaultGeometrySchema=e.store.defaultGeometrySchema}},{key:"hasExtension",value:function(e){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(e)>-1)}},{key:"tiles",get:function(){return Object.values(this._tiles)}},{key:"queryParams",get:function(){return this._queryParamsString||(this._queryParamsString=function(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t.push("".concat(i,"=").concat(e[i]))}switch(t.length){case 0:return"";case 1:return"?".concat(t[0]);default:return"?".concat(t.join("&"))}}(this._queryParams)),this._queryParamsString}}]),e}();t.default=S},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof l?t:l,a=Object.create(i.prototype),o=new x(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return _()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var u=O(o,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function l(){}function h(){}function d(){}var p={};p[i]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==t&&r.call(v,i)&&(p=v);var b=d.prototype=l.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){f.value=e,o(f)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=b.constructor=d,d.constructor=h,h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},m(g.prototype),g.prototype[a]=function(){return this},e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new g(s(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(b),u(b,o,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;w(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"==typeof self)return;var t=0,r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,a){var o=t++;self.addEventListener("message",(function e(t){var r=t.data;if(r&&r.id===o)switch(r.type){case"parse-done":self.removeEventListener("message",e),i(r.result);break;case"parse-error":self.removeEventListener("message",e),a(r.message)}})),self.postMessage({type:"parse",id:o,arraybuffer:e,options:r,url:n},[e])}))};self.onmessage=function(){var t=(0,o.default)(a.default.mark((function t(n){var i,o,c,f,h,p,y,v,b,m;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.data,t.prev=1,d(i,e.name)){t.next=4;break}return t.abrupt("return");case 4:return(0,s.validateLoaderVersion)(e,i.source.split("@")[1]),o=i.arraybuffer,c=i.byteOffset,f=void 0===c?0:c,h=i.byteLength,p=void 0===h?0:h,y=i.options,v=void 0===y?{}:y,t.next=8,l({loader:e,arraybuffer:o,byteOffset:f,byteLength:p,options:v,context:{parse:r}});case 8:b=t.sent,m=(0,u.getTransferList)(b),self.postMessage({type:"done",result:b},m),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),self.postMessage({type:"error",message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()};var i=n(r(21)),a=n(r(8)),o=n(r(9)),u=r(55),s=r(71);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){return h.apply(this,arguments)}function h(){return(h=(0,o.default)(a.default.mark((function e(t){var r,n,i,o,u,s,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arraybuffer,t.byteOffset,t.byteLength,i=t.options,o=t.context,!r.parseSync&&!r.parse){e.next=6;break}u=n,s=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,u=c.decode(n),s=r.parseTextSync,e.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return i=f(f({},i),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,s(u,f({},i),o,r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return e&&"parse"===e.type&&e.source&&e.source.startsWith("loaders.gl")}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.makeTransformIterator=function(e,t,r){return s.apply(this,arguments)};var i=n(r(8)),a=n(r(33)),o=n(r(34)),u=n(r(30));function s(){return(s=(0,o.default)(i.default.mark((function e(t,r,n){var o,s,c,f,l,h,d,p,y,v;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new r(n),s=!0,c=!1,e.prev=3,l=(0,u.default)(t);case 5:return e.next=7,(0,a.default)(l.next());case 7:return h=e.sent,s=h.done,e.next=11,(0,a.default)(h.value);case 11:if(d=e.sent,s){e.next=23;break}return p=d,e.next=16,(0,a.default)(o.write(p));case 16:if(!(y=e.sent)){e.next=20;break}return e.next=20,y;case 20:s=!0,e.next=5;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(3),c=!0,f=e.t0;case 29:if(e.prev=29,e.prev=30,s||null==l.return){e.next=34;break}return e.next=34,(0,a.default)(l.return());case 34:if(e.prev=34,!c){e.next=37;break}throw f;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.next=41,(0,a.default)(o.end());case 41:if(!(v=e.sent)){e.next=45;break}return e.next=45,v;case 45:case"end":return e.stop()}}),e,null,[[3,25,29,39],[30,,34,38]])})))).apply(this,arguments)}},function(e,t,r){var n=r(72);function i(e){var t,r;function i(t,r){try{var o=e[t](r),u=o.value,s=u instanceof n;Promise.resolve(s?u.wrapped:u).then((function(e){s?i("return"===t?"return":"next",e):a(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){a("throw",e)}}function a(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(a,o){var u={key:e,arg:n,resolve:a,reject:o,next:null};r?r=r.next=u:(t=r=u,i(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=i},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(9)),o=n(r(16)),u=n(r(17)),s=n(r(73)),c=function(){function e(t){var r=t.maxConcurrency,n=void 0===r?5:r,i=t.onMessage,a=void 0===i?null:i,u=t.onDebug,s=void 0===u?function(){}:u,c=t.reuseWorkers,f=void 0===c||c;(0,o.default)(this,e),this.maxConcurrency=n,this.onMessage=a,this.onDebug=s,this.workerPools=new Map,this.reuseWorkers=f}var t;return(0,u.default)(e,null,[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}]),(0,u.default)(e,[{key:"setProps",value:function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug),"reuseWorkers"in e&&(this.reuseWorkers=e.reuseWorkers)}},{key:"destroy",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:"process",value:(t=(0,a.default)(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._getWorkerPool(t,r),e.abrupt("return",a.process(n));case 2:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"_getWorkerPool",value:function(e,t){var r=this.workerPools.get(t);return r||(r=new s.default({source:e,name:t,onMessage:f.bind(null,this.onMessage),maxConcurrency:this.maxConcurrency,onDebug:this.onDebug,reuseWorkers:this.reuseWorkers}),this.workerPools.set(t,r)),r}}]),e}();function f(e,t){var r=t.worker,n=t.data,i=t.resolve,a=t.reject;if(e)e({worker:r,data:n,resolve:i,reject:a});else switch(n.type){case"done":i(n.result);break;case"error":a(n.message)}}t.default=c},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerURL=function(e){if((0,i.default)("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){var t=e.match(/^url\((.*)\)$/)[1];if(t&&!t.startsWith("http"))return t;e=o(t)}var r=a.get(e);if(!r){var n=new Blob([e],{type:"application/javascript"});r=URL.createObjectURL(n),a.set(e,r)}return r};var i=n(r(29)),a=new Map;function o(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n}")}},function(e,t,r){"use strict";var n=r(28),i=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.loadLibrary=function(e){return l.apply(this,arguments)},t.getLibraryUrl=h;var a=i(r(8)),o=i(r(9)),u=r(70),s=n(r(110)),c=i(r(29)),f={};function l(){return(l=(0,o.default)(a.default.mark((function e(t){var r,n,i=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]?i[2]:{},r&&(t=h(t,r,n)),f[t]=f[t]||d(t),e.next=6,f[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){var n=r.modules||{};return n[e]?n[e]:u.isBrowser?r.CDN?((0,c.default)(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(t,"@").concat("2.3.13","/dist/libs/").concat(e)):u.isWorker?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,o.default)(a.default.mark((function e(t){var r,n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(u.isBrowser){e.next=9;break}return e.abrupt("return",s.requireFromFile&&s.requireFromFile(t));case 9:if(!u.isWorker){e.next=11;break}return e.abrupt("return",importScripts(t));case 11:return e.next=13,fetch(t);case 13:return n=e.sent,e.next=16,n.text();case 16:return i=e.sent,e.abrupt("return",y(i,t));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){if(!u.isBrowser)return s.requireFromString&&s.requireFromString(e,t);if(u.isWorker)return eval.call(u.global,e),null;var r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=function(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat((0,n.getFirstCharacters)(e),'"'))}};var n=r(75)},function(e,t,r){"use strict";var n=r(28),i=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.isBuffer=function(e){return e&&"object"===(0,a.default)(e)&&e.isBuffer},t.toBuffer=function(e){return o.toBuffer?o.toBuffer(e):e},t.bufferToArrayBuffer=function(e){if(o.toArrayBuffer)return o.toArrayBuffer(e);return e};var a=i(r(22)),o=n(r(76))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPaddedArrayBufferToDataView=i,t.copyPaddedStringToDataView=function(e,t,r){var n=(new TextEncoder).encode(r);return t=i(e,t,n)};var n=r(77);function i(e,t,r){var i=(0,n.padTo4Bytes)(r.byteLength),a=i-r.byteLength;if(e){var o=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),u=new Uint8Array(r);o.set(u);for(var s=0;s<a;++s)e.setUint8(t+r.byteLength+s,32)}return t+=i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padStringToByteAlignment=function(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,i="",a=0;a<n;++a)i+=" ";return e+i},t.copyStringToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r.charCodeAt(i));return t+n},t.copyBinaryToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r[i]),t++;return t+n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dirname=function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.makeTextDecoderIterator=function(e,t){return s.apply(this,arguments)},t.makeTextEncoderIterator=function(e,t){return c.apply(this,arguments)},t.makeLineIterator=function(e){return f.apply(this,arguments)},t.makeNumberedLineIterator=function(e){return l.apply(this,arguments)};var i=n(r(8)),a=n(r(33)),o=n(r(34)),u=n(r(30));function s(){return(s=(0,o.default)(i.default.mark((function e(t,r){var n,o,s,c,f,l,h,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextDecoder(r),o=!0,s=!1,e.prev=3,f=(0,u.default)(t);case 5:return e.next=7,(0,a.default)(f.next());case 7:return l=e.sent,o=l.done,e.next=11,(0,a.default)(l.value);case 11:if(h=e.sent,o){e.next=19;break}return d=h,e.next=16,"string"==typeof d?d:n.decode(d,{stream:!0});case 16:o=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),s=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==f.return){e.next=30;break}return e.next=30,(0,a.default)(f.return());case 30:if(e.prev=30,!s){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function c(){return(c=(0,o.default)(i.default.mark((function e(t,r){var n,o,s,c,f,l,h,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextEncoder,o=!0,s=!1,e.prev=3,f=(0,u.default)(t);case 5:return e.next=7,(0,a.default)(f.next());case 7:return l=e.sent,o=l.done,e.next=11,(0,a.default)(l.value);case 11:if(h=e.sent,o){e.next=19;break}return d=h,e.next=16,"string"==typeof d?n.encode(d):d;case 16:o=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),s=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==f.return){e.next=30;break}return e.next=30,(0,a.default)(f.return());case 30:if(e.prev=30,!s){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function f(){return(f=(0,o.default)(i.default.mark((function e(t){var r,n,o,s,c,f,l,h,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",n=!0,o=!1,e.prev=3,c=(0,u.default)(t);case 5:return e.next=7,(0,a.default)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,(0,a.default)(f.value);case 11:if(l=e.sent,n){e.next=26;break}r+=l,h=void 0;case 16:if(!((h=r.indexOf("\n"))>=0)){e.next=23;break}return d=r.slice(0,h+1),r=r.slice(h+1),e.next=21,d;case 21:e.next=16;break;case 23:n=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),o=!0,s=e.t0;case 32:if(e.prev=32,e.prev=33,n||null==c.return){e.next=37;break}return e.next=37,(0,a.default)(c.return());case 37:if(e.prev=37,!o){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case"end":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function l(){return(l=(0,o.default)(i.default.mark((function e(t){var r,n,o,s,c,f,l,h;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,n=!0,o=!1,e.prev=3,c=(0,u.default)(t);case 5:return e.next=7,(0,a.default)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,(0,a.default)(f.value);case 11:if(l=e.sent,n){e.next=20;break}return h=l,e.next=16,{counter:r,line:h};case 16:r++;case 17:n=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),o=!0,s=e.t0;case 26:if(e.prev=26,e.prev=27,n||null==c.return){e.next=31;break}return e.next=31,(0,a.default)(c.return());case 31:if(e.prev=31,!o){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t){return c.apply(this,arguments)},t.concatenateChunksAsync=function(e){return f.apply(this,arguments)};var i=n(r(8)),a=n(r(9)),o=n(r(30)),u=r(56),s=n(r(29));function c(){return(c=(0,a.default)(i.default.mark((function e(t,r){var n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,a=n.done,o=n.value,!a){e.next=9;break}return t.return(),e.abrupt("return");case 9:if(!r(o)){e.next=12;break}return e.abrupt("return");case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,a.default)(i.default.mark((function e(t){var r,n,a,c,f,l,h,d,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=[],a=!0,c=!1,e.prev=4,l=(0,o.default)(t);case 6:return e.next=8,l.next();case 8:return h=e.sent,a=h.done,e.next=12,h.value;case 12:if(d=e.sent,a){e.next=19;break}"string"==typeof(p=d)?n.push(p):r.push(p);case 16:a=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),c=!0,f=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==l.return){e.next=30;break}return e.next=30,l.return();case 30:if(e.prev=30,!c){e.next=33;break}throw f;case 33:return e.finish(30);case 34:return e.finish(25);case 35:if(!(n.length>0)){e.next=38;break}return(0,s.default)(0===r.length),e.abrupt("return",n.join(""));case 38:return e.abrupt("return",u.concatenateArrayBuffers.apply(void 0,r));case 39:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(21)),a=n(r(16)),o=n(r(17)),u=r(99);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={id:"request-scheduler",throttleRequests:!0,maxRequests:6},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.props=c(c({},f),t),this.requestQueue=[],this.activeRequestCount=0,this.requestMap=new Map,this.stats=new u.Stats({id:t.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever"),this._deferredUpdate=null}return(0,o.default)(e,[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:"_issueRequest",value:function(e){var t=this,r=e.handle,n=e.resolve,i=!1,a=function(){i||(i=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:a}):Promise.resolve({done:a})}},{key:"_issueNewRequests",value:function(){var e=this;this._deferredUpdate||(this._deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this._deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t)if(this.requestQueue.length>0){var r=this.requestQueue.shift();this._issueRequest(r)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}();t.default=l},function(e,t,r){"use strict";(function(e){var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(57)),o=n(r(21)),u=n(r(9)),s=n(r(16)),c=n(r(17)),f=n(r(81)),l=n(r(29)),h=r(123);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={command:null,arguments:[],portArg:null,port:"auto",basePort:5e3,wait:2e3,nodeSpawnOptions:{maxBuffer:512e4},onSuccess:function(e){console.log("Started ".concat(e.options.command))}},v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,n=void 0===r?"browser-driver":r;(0,s.default)(this,t),this.id=n,this.childProcess=null,this.port=null}var r,n,o;return(0,c.default)(t,[{key:"start",value:(o=(0,u.default)(i.default.mark((function e(){var t,r,n=this,o=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},t=p(p({},y),t),(0,l.default)(t.command&&"string"==typeof t.command),this.options=t,r=(0,a.default)(t.arguments),this.port=t.port,!t.portArg){e.next=12;break}if("auto"!==this.port){e.next=11;break}return e.next=10,(0,h.getAvailablePort)(t.basePort);case 10:this.port=e.sent;case 11:r.push(t.portArg,this.port);case 12:return e.next=14,new Promise((function(e,i){try{var a=setTimeout((function(){t.onSuccess&&t.onSuccess(n),e({})}),t.wait);console.log("Spawning ".concat(t.command," ").concat(t.arguments.join(" "))),n.childProcess=f.default.spawn(t.command,r,t.spawn),n.childProcess.stderr.on("data",(function(e){console.log('Child process wrote to stderr: "'.concat(e,'".')),clearTimeout(a),i(new Error(e))})),n.childProcess.on("error",(function(e){console.log("Child process errored with ".concat(e)),clearTimeout(a),i(e)})),n.childProcess.on("close",(function(e){console.log("Child process exited with ".concat(e)),n.childProcess=null}))}catch(e){i(e)}}));case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"stop",value:(n=(0,u.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.childProcess&&(this.childProcess.kill(),this.childProcess=null);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"exit",value:(r=(0,u.default)(i.default.mark((function t(){var r,n=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:0,t.prev=1,t.next=4,this.stop();case 4:e.exit(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0.message||t.t0),e.exit(1);case 11:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(){return r.apply(this,arguments)})}]),t}();t.default=v}).call(this,r(54))},function(e,t,r){var n=r(79);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailablePort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;return new Promise((function(t,r){i.default.exec("lsof -i -P -n | grep LISTEN",(function(r,n,i){if(r)t(e);else{var a=[],o=/:(\d+) \(LISTEN\)/;n.split("\n").forEach((function(e){var t=e.match(o);t&&a.push(Number(t[1]))}));for(var u=e;a.includes(u);)u++;t(u)}}))}))};var i=n(r(81))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMeshSize=function(e){var t=0;for(var r in e){var n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t},t.getMeshBoundingBox=function(e){if(!e||!e.POSITION)return null;var t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,u=e.POSITION.value,s=u&&u.length;if(!s)return null;for(var c=0;c<s;c+=3){var f=u[c],l=u[c+1],h=u[c+2];t=f<t?f:t,r=l<r?l:r,n=h<n?h:n,i=f>i?f:i,a=l>a?l:a,o=h>o?h:o}return[[t,r,n],[i,a,o]]}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16)),a=n(r(17)),o=n(r(126)),u=function(){function e(){(0,i.default)(this,e),this.head=null,this.tail=null,this._length=0}return(0,a.default)(e,[{key:"add",value:function(e){var t=new o.default(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}},{key:"remove",value:function(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}},{key:"splice",value:function(e,t){e!==t&&(this.remove(t),this._insert(e,t))}},{key:"_insert",value:function(e,t){var r=e.next;e.next=t,this.tail===e?this.tail=t:r.previous=t,t.next=r,t.previous=e,++this._length}},{key:"length",get:function(){return this._length}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16));t.default=function e(t,r,n){(0,i.default)(this,e),this.item=t,this.previous=r,this.next=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getZoomFromBoundingVolume=function(e){var t=e.halfAxes,r=e.radius,n=e.width,a=e.height;if(t){t.getColumn(0,i);var o=i.len();t.getColumn(1,i);var u=i.len();t.getColumn(2,i);var s=i.len(),c=o/2,f=u/2,l=s/2,h=Math.log2(6378137/c),d=Math.log2(6378137/f),p=Math.log2(6356752.314245179/l);return(h+d+p)/3}if(r)return Math.log2(6356752.314245179/r);if(a&&n){var y=Math.log2(6378137/n),v=Math.log2(6378137/a);return(y+v)/2}return 1};var n=r(11),i=new n.Vector3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(10);n.global.loaders=Object.assign(n.global.loaders||{},{VERSION:"2.3.13"});var i=n.global.loaders;t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMIMEType=function(e){if("string"!=typeof e)return"";var t=e.match(i);if(t)return t[1];return e},t.parseMIMETypeFromURL=function(e){if("string"!=typeof e)return"";var t=e.match(n);if(t)return t[1];return""};var n=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,i=/^([-\w.]+\/[-\w.+]+)/},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessageFromResponseSync=function(e){return"Failed to fetch resource ".concat(e.url,"(").concat(e.status,"): ").concat(e.statusText," ")},t.getErrorMessageFromResponse=function(e){return o.apply(this,arguments)};var i=n(r(8)),a=n(r(9));function o(){return(o=(0,a.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,!t.headers.get("Content-Type").includes("application/json")){e.next=10;break}return e.t0=r,e.next=7,t.text();case 7:r=e.t0+=e.sent,e.next=11;break;case 10:r+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(1),e.abrupt("return",r);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(28);Object.defineProperty(t,"__esModule",{value:!0}),t.readFileSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=(0,i.resolvePath)(e),!i.isBrowser&&a.readFileSync)return a.readFileSync(e,t);return(0,o.readFileSyncBrowser)(e,t)};var i=r(10),a=n(r(132)),o=r(133)},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFileSyncBrowser=function(e,t){t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},i,e)).responseType=e.responseType||e.dataType,e}(t),r=e,void r.startsWith("data:");var r;t.nothrow||(0,n.assert)(!1);return null};var n=r(10),i={dataType:"arraybuffer",nothrow:!0}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLoaderOptions=function(e){(0,n.setGlobalOptions)(e)};var n=r(25)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLog=t.NullLog=void 0;var i=n(r(16)),a=n(r(17)),o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"log",value:function(){return function(e){}}},{key:"info",value:function(){return function(e){}}},{key:"warn",value:function(){return function(e){}}},{key:"error",value:function(){return function(e){}}}]),e}();t.NullLog=o;var u=function(){function e(){(0,i.default)(this,e),this.console=console}return(0,a.default)(e,[{key:"log",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:"info",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}();t.ConsoleLog=u},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.makeStringIterator=o;var i=n(r(8)),a=i.default.mark(o);function o(e){var t,r,n,o,u,s,c,f=arguments;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=f.length>1&&void 0!==f[1]?f[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0,u=new TextEncoder;case 4:if(!(o<e.length)){i.next=12;break}return s=Math.min(e.length-o,n),c=e.slice(o,o+s),o+=s,i.next=10,u.encode(c);case 10:i.next=4;break;case 12:case"end":return i.stop()}}),a)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.makeArrayBufferIterator=o;var i=n(r(8)),a=i.default.mark(o);function o(e){var t,r,n,o,u,s,c,f=arguments;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=f.length>1&&void 0!==f[1]?f[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0;case 3:if(!(o<e.byteLength)){i.next=14;break}return u=Math.min(e.byteLength-o,n),s=new ArrayBuffer(u),c=new Uint8Array(e,o,u),new Uint8Array(s).set(c),o+=u,i.next=12,s;case 12:i.next=3;break;case 14:case"end":return i.stop()}}),a)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.makeStreamIterator=function(e){if(c.isBrowser||c.nodeVersion>=10){if("function"==typeof e[Symbol.asyncIterator])return function(e){return f.apply(this,arguments)}(e);if("function"==typeof e.getIterator)return e.getIterator()}return c.isBrowser?function(e){return l.apply(this,arguments)}(e):function(e){return h.apply(this,arguments)}(e)};var i=n(r(9)),a=n(r(8)),o=n(r(33)),u=n(r(34)),s=n(r(30)),c=r(10);function f(){return(f=(0,u.default)(a.default.mark((function e(t){var r,n,i,u,f,l,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,e.prev=2,u=(0,s.default)(t);case 4:return e.next=6,(0,o.default)(u.next());case 6:return f=e.sent,r=f.done,e.next=10,(0,o.default)(f.value);case 10:if(l=e.sent,r){e.next=18;break}return h=l,e.next=15,(0,c.toArrayBuffer)(h);case 15:r=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),n=!0,i=e.t0;case 24:if(e.prev=24,e.prev=25,r||null==u.return){e.next=29;break}return e.next=29,(0,o.default)(u.return());case 29:if(e.prev=29,!n){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function l(){return(l=(0,u.default)(a.default.mark((function e(t){var r,n,i,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return e.next=5,(0,o.default)(r.read());case 5:if(n=e.sent,i=n.done,u=n.value,!i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,(0,c.toArrayBuffer)(u);case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),r.releaseLock();case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function h(){return(h=(0,u.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)(t);case 2:t=e.sent;case 3:if(null===(r=t.read())){e.next=9;break}return e.next=8,(0,c.toArrayBuffer)(r);case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,o.default)(d(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.once("readable",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.canParseWithWorker=function(e,t,r,n){if(!o._WorkerFarm.isSupported())return!1;var i=r&&r[e.id];if("local"===r.worker&&i&&i.localWorkerUrl||r.worker&&i&&i.workerUrl)return!e.useWorker||e.useWorker(r);return!1},t.default=function(e,t,r,n){var i=(r||{}).worker,a=r&&r[e.id]||{},u="local"===i?a.localWorkerUrl:a.workerUrl,f="url(".concat(u,")"),l=e.name,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);"reuseWorkers"in e&&(t.reuseWorkers=e.reuseWorkers);s||(s=new o._WorkerFarm({onMessage:c}));return s.setProps(t),s}(r);r=JSON.parse(JSON.stringify(r));var d="2.3.13"!==e.version?"(core version ".concat("2.3.13",")"):"";return h.process(f,"".concat(l,"-worker@").concat(e.version).concat(d),{arraybuffer:(0,o.toArrayBuffer)(t),options:r,source:"loaders.gl@".concat("2.3.13"),type:"parse"})};var i=n(r(8)),a=n(r(9)),o=r(10),u=r(46);var s=null;function c(e){return f.apply(this,arguments)}function f(){return(f=(0,a.default)(i.default.mark((function e(t){var r,n,a,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.worker,n=t.data,a=t.resolve,s=t.reject,e.t0=n.type,e.next="done"===e.t0?4:"parse"===e.t0?6:"error"===e.t0?17:19;break;case 4:return a(n.result),e.abrupt("break",19);case 6:return e.prev=6,e.next=9,(0,u.parse)(n.arraybuffer,n.options,n.url);case 9:c=e.sent,r.postMessage({type:"parse-done",id:n.id,result:c},(0,o.getTransferList)(c)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),r.postMessage({type:"parse-error",id:n.id,message:e.t1.message});case 16:return e.abrupt("break",19);case 17:return s(n.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSync=function e(t,r,f,l){(0,n.assert)(!l||"string"!=typeof l,"parseSync no longer accepts final url"),Array.isArray(r)||(0,a.isLoaderObject)(r)||(l=f,f=r,r=null);f=f||{};var h=(0,s.getLoaders)(r,l),d=(0,i.selectLoaderSync)(t,h,f);if(!d)return null;f=(0,o.normalizeOptions)(f,d,h);var p=(0,c.getResourceUrlAndType)(t).url;return l=(0,s.getLoaderContext)({url:p,parseSync:e,loaders:r},f),function(e,t,r,n){if(t=(0,u.getArrayBufferOrStringFromDataSync)(t,e),e.parseTextSync&&"string"==typeof t)return e.parseTextSync(t,r,n,e);if(e.parseSync)return e.parseSync(t,r,n,e);throw new Error("".concat(e.name," loader: 'parseSync' not supported by this loader, use 'parse' instead. ").concat(n.url||""))}(d,t,f,l)};var n=r(10),i=r(47),a=r(31),o=r(25),u=r(61),s=r(62),c=r(40)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.load=function(e,t,r){return f.apply(this,arguments)};var i=n(r(8)),a=n(r(9)),o=r(24),u=r(31),s=r(25),c=r(46);function f(){return(f=(0,a.default)(i.default.mark((function e(t,r,n){var a,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||(0,u.isLoaderObject)(r)||(n=r,r=null),a=(0,s.getFetchFunction)(n||{}),f=t,"string"!=typeof t){e.next=9;break}return e.next=6,a(t);case 6:f=e.sent,e.next=10;break;case 9:t=null;case 10:if(!(0,o.isBlob)(t)){e.next=15;break}return e.next=13,a(t);case 13:f=e.sent,t=null;case 15:return e.next=17,(0,c.parse)(f,r,n);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.loadInBatches=function(e,t,r){Array.isArray(t)||(0,o.isLoaderObject)(t)||(r=t,t=null);var n=(0,u.getFetchFunction)(r||{});if(!Array.isArray(e))return c(e,t,r,n);return e.map((function(e){return c(e,t,r,n)}))};var i=n(r(8)),a=n(r(9)),o=r(31),u=r(25),s=r(90);function c(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=(0,a.default)(i.default.mark((function e(t,r,n,a){var o,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=8;break}return o=t,e.next=4,a(o);case 4:return u=e.sent,e.next=7,(0,s.parseInBatches)(u,r,n);case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,(0,s.parseInBatches)(t,r,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.save=function(e,t,r,a){var o=(0,n.encode)(e,r,a,t);return(0,i.writeFile)(t,o)},t.saveSync=function(e,t,r,a){var o=(0,n.encodeSync)(e,r,a,t);return(0,i.writeFileSync)(t,o)};var n=r(92),i=r(60)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.NullLoader=void 0;var i,a,o=n(r(8)),u=n(r(9)),s=n(r(34)),c=n(r(33)),f=n(r(30)),l=n(r(91)),h={id:"image",name:"Images",version:"2.3.13",mimeTypes:["application/x.empty"],extensions:["null"],parse:(a=(0,u.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)}),parseSync:function(e,t){return e},parseInBatches:(i=(0,u.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=(0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,l.default)((0,f.default)(t),c.default),"t0",1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()());case 1:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)}),tests:[function(){return!1}],options:{}};t.NullLoader=h},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return o.apply(this,arguments)};var i=n(r(8)),a=n(r(9));function o(){return(o=(0,a.default)(i.default.mark((function e(t,r){var n,a,o,s,c,f,l=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:function(){},a=l.length>3&&void 0!==l[3]?l[3]:function(){},e.next=4,t;case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",t);case 7:if(o=t.body){e.next=10;break}return e.abrupt("return",t);case 10:if(s=t.headers.get("content-length"),c=s&&parseInt(s,10),s>0){e.next=14;break}return e.abrupt("return",t);case 14:if("undefined"!=typeof ReadableStream&&o.getReader){e.next=16;break}return e.abrupt("return",t);case 16:return f=new ReadableStream({start:function(e){u(e,o.getReader(),0,c,r,n,a)}}),e.abrupt("return",new Response(f));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r,n,i,a,o){return s.apply(this,arguments)}function s(){return(s=(0,a.default)(i.default.mark((function e(t,r,n,a,o,s,c){var f,l,h,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.read();case 3:if(f=e.sent,l=f.done,h=f.value,!l){e.next=10;break}return s(),t.close(),e.abrupt("return");case 10:return n+=h.byteLength,d=Math.round(n/a*100),o(d,{loadedBytes:n,totalBytes:a}),t.enqueue(h),e.next=16,u(t,r,n,a,o,s,c);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.error(e.t0),c(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(9)),o=n(r(16)),u=n(r(17)),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this._fetch=r.fetch||fetch,this.files={};for(var n=0;n<t.length;++n){var i=t[n];this.files[i.name]=i}this.fetch=this.fetch.bind(this)}var t,r,n,s,f,l,h;return(0,u.default)(e,[{key:"fetch",value:(h=(0,a.default)(i.default.mark((function e(t){var r,n,a,o=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},!t.includes("://")){e.next=4;break}return n=r.fetch||this._fetch,e.abrupt("return",n(t,r));case 4:if(!this.files[t]){e.next=9;break}return a=new Response(this.files[t]),Object.defineProperty(a,"url",{value:t}),e.abrupt("return",a);case 9:return e.abrupt("return",new Response(t,{status:400,statusText:"NOT FOUND"}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"readdir",value:(l=(0,a.default)(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t=[],this.files)t.push(r);return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"stat",value:(f=(0,a.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.files[t]){e.next=3;break}throw new Error("No such file: ".concat(t));case 3:return e.abrupt("return",{size:n.size});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"unlink",value:(s=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.files[t];case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"open",value:(n=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.files[t]);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"read",value:(r=(0,a.default)(i.default.mark((function e(t,r){var n,a,o,u,s,f,l,h;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.buffer,a=void 0===n?null:n,r.offset,o=r.length,u=void 0===o?a.byteLength:o,s=r.position,f=void 0===s?null:s,l=t,e.next=4,c(l,f,f+u);case 4:return h=e.sent,e.abrupt("return",h);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"close",value:(t=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function c(e,t,r){return f.apply(this,arguments)}function f(){return(f=(0,a.default)(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(r,n),e.next=3,new Promise((function(e,t){var r=new FileReader;r.onload=function(t){return e(t.target&&t.target.result)},r.onerror=function(e){return t(e)},r.readAsArrayBuffer(a)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=s},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDynamicScreenSpaceError=function(e,t){var r,f,l,h,d,p=t.camera,y=t.mapProjection,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=v.dynamicScreenSpaceErrorHeightFalloff,m=void 0===b?.25:b,g=v.dynamicScreenSpaceErrorDensity,O=void 0===g?.00278:g,k=e.contentBoundingVolume;if(k instanceof TileBoundingRegion)r=Cartesian3.normalize(p.positionWC,i),f=p.directionWC,l=p.positionCartographic.height,h=k.minimumHeight,d=k.maximumHeight;else{var w=n.Matrix4.inverseTransformation(e.computedTransform,o),x=y.ellipsoid,j=k.boundingVolume,_=n.Matrix4.multiplyByPoint(w,j.center,u);if(Cartesian3.magnitude(_)>x.minimumRadius){var T=Cartographic.fromCartesian(_,x,a);r=Cartesian3.normalize(p.positionWC,i),f=p.directionWC,l=p.positionCartographic.height,h=0,d=2*T.height}else{var S=n.Matrix4.multiplyByPoint(w,p.positionWC,s);if(r=Cartesian3.UNIT_Z,f=n.Matrix4.multiplyByPointAsVector(w,p.directionWC,c),f=Cartesian3.normalize(f,f),l=S.z,k instanceof TileOrientedBoundingBox){var E=e._header.boundingVolume.box[11];h=_.z-E,d=_.z+E}else if(k instanceof TileBoundingSphere){var M=j.radius;h=_.z-M,d=_.z+M}}}var P=m,A=h+(d-h)*P,I=d,R=(0,n.clamp)((l-A)/(I-A),0,1),L=Math.abs(Cartesian3.dot(f,r)),N=1-L;return O*(N*=1-R)},t.fog=f,t.getDynamicScreenSpaceError=l,t.getTiles3DScreenSpaceError=function(e,t,r){var n=e.tileset,i=e.parent&&e.parent.lodMetricValue||e.lodMetricValue,a=r?i:e.lodMetricValue;if(0===a)return 0;var o=Math.max(e._distanceToCamera,1e-7),u=t.height,s=t.sseDenominator,c=a*u/(o*s);return c-=l(n,o)};var n=r(11),i=new n.Vector3,a=new n.Vector3,o=new n.Matrix4,u=new n.Vector3,s=new n.Vector3,c=new n.Vector3;function f(e,t){var r=e*t;return 1-Math.exp(-r*r)}function l(e,t){if(e.dynamicScreenSpaceError&&e._dynamicScreenSpaceErrorComputedDensity){var r=e._dynamicScreenSpaceErrorComputedDensity,n=e.dynamicScreenSpaceErrorFactor;return f(t,r)*n}return 0}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16)),a=n(r(17)),o=n(r(96)),u=n(r(97)),s=n(r(98)),c=r(41);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var l=function(e){(0,o.default)(r,e);var t=f(r);function r(){return(0,i.default)(this,r),t.apply(this,arguments)}return(0,a.default)(r,[{key:"compareDistanceToCamera",value:function(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}},{key:"updateTileVisibility",value:function(e,t){if(e.updateVisibility(t),e.isVisibleAndInRequestVolume){var r=e.children.length>0;if(e.hasTilesetContent&&r){var n=e.children[0];return this.updateTileVisibility(n,t),void(e._visible=n._visible)}if(this.meetsScreenSpaceErrorEarly(e,t))e._visible=!1;else{var i=e.refine===c.TILE_REFINEMENT.REPLACE,a=e._optimChildrenWithinParent===c.TILE3D_OPTIMIZATION_HINT.USE_OPTIMIZATION;i&&a&&r&&!this.anyChildrenVisible(e,t)&&(e._visible=!1)}}}},{key:"meetsScreenSpaceErrorEarly",value:function(e,t){var r=e.parent;return!(!r||r.hasTilesetContent||r.refine!==c.TILE_REFINEMENT.ADD)&&!this.shouldRefine(e,t,!0)}}]),r}(n(r(48)).default);t.default=l},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16)),a=n(r(17)),o=r(10),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,i.default)(this,e),this._array=new Array(t),this._map=new Map,this._length=t}return(0,a.default)(e,[{key:"get",value:function(e){return(0,o.assert)(e<this._array.length),this._array[e]}},{key:"set",value:function(e,t){(0,o.assert)(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}},{key:"delete",value:function(e){var t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}},{key:"peek",value:function(){return this._array[this._length-1]}},{key:"push",value:function(e){if(!this._map.has(e)){var t=this.length++;this._array[t]=e,this._map.set(e,t)}}},{key:"pop",value:function(){var e=this._array[--this.length];return this._map.delete(e),e}},{key:"reserve",value:function(e){(0,o.assert)(e>=0),e>this._array.length&&(this._array.length=e)}},{key:"resize",value:function(e){(0,o.assert)(e>=0),this.length=e}},{key:"trim",value:function(e){null==e&&(e=this.length),this._array.length=e}},{key:"reset",value:function(){this._array=[],this._map=new Map,this._length=0}},{key:"find",value:function(e){return this._map.has(e)}},{key:"length",get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},{key:"values",get:function(){return this._array}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(8)),a=n(r(21)),o=n(r(9)),u=n(r(16)),s=n(r(17)),c=n(r(96)),f=n(r(97)),l=n(r(98)),h=r(85),d=n(r(48)),p=r(95),y=n(r(58)),v=n(r(157));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var w=function(e){(0,c.default)(n,e);var t,r=k(n);function n(e){var t;return(0,u.default)(this,n),(t=r.call(this,e))._tileManager=new v.default,t}return(0,s.default)(n,[{key:"shouldRefine",value:function(e,t){return e._lodJudge=(0,p.lodJudge)(e,t),"DIG"===e._lodJudge}},{key:"updateChildTiles",value:function(e,t){var r,n=this,i=e.header.children||[],a=e.children,o=e.tileset,u=g(i);try{var s=function(){var i=r.value,u=a&&a.find((function(e){return e.id===i.id}));if(u)u&&n.updateTile(u,t);else{var s=function(){return n._loadTile(i.id,o)};n._tileManager.find(i.id)?n._tileManager.update(i.id,t):(o.tileset.nodePages&&(s=function(){return o.tileset.nodePagesTile.formTileFromNodePages(i.id)}),n._tileManager.add(s,i.id,(function(t){return n._onTileLoad(t,e)}),t))}};for(u.s();!(r=u.n()).done;)s()}catch(e){u.e(e)}finally{u.f()}}},{key:"_loadTile",value:(t=(0,o.default)(i.default.mark((function e(t,r){var n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.loader,a=r.getTileUrl("".concat(r.url,"/nodes/").concat(t)),o={i3s:m(m({},r.fetchOptions),{},{isTileHeader:!0,loadContent:!1})},e.next=5,(0,h.load)(a,n,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"_onTileLoad",value:function(e,t){var r=this.options.basePath,n=new y.default(t.tileset,e,t,r);t.children.push(n);var i=this._tileManager.find(n.id).frameState;this.updateTile(n,i),this._frameNumber===i.frameNumber&&this.executeTraversal(n,i)}}]),n}(d.default);t.default=w},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16)),a=n(r(17)),o="REQUESTED",u="COMPLETED",s="ERROR",c=function(){function e(){(0,i.default)(this,e),this._statusMap={}}return(0,a.default)(e,[{key:"add",value:function(e,t,r,n){var i=this;this._statusMap[t]||(this._statusMap[t]={request:e,callback:r,key:t,frameState:n,status:o},e().then((function(e){i._statusMap[t].status=u,i._statusMap[t].callback(e,n)})).catch((function(e){i._statusMap[t].status=s,r(e)})))}},{key:"update",value:function(e,t){this._statusMap[e]&&(this._statusMap[e].frameState=t)}},{key:"find",value:function(e){return this._statusMap[e]}}]),e}();t.default=c}])}));